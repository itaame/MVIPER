import{d as Vr}from"./chunk-ERVA5QJS.js";import{a as Ht,b as wr,c as Pr,d as Tr,e as Ar,f as Er}from"./chunk-KJ5BZ5CM.js";import{$c as fi,$d as Xi,$e as pr,Aa as c,Ac as $,Ad as _i,Af as st,Ba as O,Bc as Z,Bd as Gt,Ca as ee,Cc as xe,Cd as ki,D as R,Da as te,Dc as pi,Dd as He,Ec as ae,Ed as y,Fa as ve,Fc as H,Fd as wi,Fg as _r,Ga as pe,Gc as ci,Gd as Pi,Gf as zt,Ha as f,Hc as di,He as rr,Ia as ii,Ic as Xt,Id as Ti,Ie as or,J as Mt,Ja as un,Jc as ue,Jd as Bt,K as $t,Kc as fe,Kd as ke,Ke as ar,Lc as se,Ld as Ai,Le as sr,Lf as G,Lg as Ut,M as _e,Ma as ri,Mc as Ae,Md as je,N as Oe,Na as oi,Nc as ie,Nd as hn,Ne as lr,Nf as Wt,Ng as Zt,O as Ce,Oa as ai,Od as Ei,Pa as De,Pd as at,Qa as Ft,Qe as qt,Ra as K,Sa as d,Sc as ui,Sd as Vi,Ta as M,Td as Ii,Ua as w,Ud as Qi,Uf as lt,V as ni,Vc as fn,Vd as Ke,Wd as Mi,We as mr,X as Nt,Xa as q,Xd as $i,Xf as re,Yc as rt,Yd as Ni,Zd as Di,_ as Dt,_c as Se,_d as Fi,_f as yr,a as Te,ae as Li,ag as L,ba as l,bb as E,bd as gi,be as Ri,bf as cr,bg as xr,cb as I,cd as hi,da as F,db as nt,de as Gi,dg as Pe,ee as Bi,f as J,fa as Ne,ff as dr,fh as Le,ga as P,gb as si,hf as ur,if as fr,ih as mt,je as Yi,kd as Ee,ke as qi,kf as gr,ld as Oi,le as zi,lf as hr,ma as v,md as Lt,me as Wi,nd as ot,ne as Ui,od as Ze,oh as T,pd as Rt,pe as Zi,pg as Sr,ph as kr,qa as u,qb as W,qc as li,qd as Ci,qe as Ve,qf as Or,ra as bt,rc as mi,rd as yi,re as Hi,sa as X,sd as xi,se as Yt,td as Si,te as ji,uc as ne,ud as Fe,ue as Ki,ug as br,va as S,vd as vt,ve as Ji,vg as vr,w as ti,wa as ye,wc as ce,wd as gn,we as er,wf as we,xa as le,xc as de,xd as bi,xe as tr,xf as Cr,ya as me,yc as U,yd as Xe,ye as nr,za as p,zc as it,zd as vi,ze as ir}from"./chunk-MTJQDUEX.js";function va(t,n){if(t&1&&(p(0,"mat-icon",1),d(1," schedule "),c()),t&2){let e=f(2);u("matTooltip",e.ack.name+": Scheduled")}}function _a(t,n){if(t&1&&(p(0,"mat-icon",2),d(1,"check_circle_outline"),c()),t&2){let e=f(2);u("matTooltip",e.ack.name+": OK")}}function ka(t,n){if(t&1&&(p(0,"mat-icon",3),d(1,"lens"),c()),t&2){let e=f(2);u("matTooltip",e.ack.name+": PENDING")}}function wa(t,n){if(t&1&&(p(0,"mat-icon",4),d(1,"block"),c()),t&2){let e=f(2);u("matTooltip",e.ack.name+": CANCELLED")}}function Pa(t,n){if(t&1&&(p(0,"mat-icon",5),d(1,"block"),c()),t&2){let e=f(2);u("matTooltip",e.ack.name+": DISABLED")}}function Ta(t,n){if(t&1&&(p(0,"mat-icon",6),d(1," highlight_off "),c()),t&2){let e=f(2);u("matTooltip",e.ack.name+": TIMEOUT")}}function Aa(t,n){if(t&1&&(p(0,"mat-icon",7),d(1," highlight_off "),c()),t&2){let e=f(2);u("matTooltip",e.ack.name+": "+e.ack.status+" ("+e.ack.message+")")}}function Ea(t,n){if(t&1&&v(0,va,2,1,"mat-icon",1)(1,_a,2,1,"mat-icon",2)(2,ka,2,1,"mat-icon",3)(3,wa,2,1,"mat-icon",4)(4,Pa,2,1,"mat-icon",5)(5,Ta,2,1,"mat-icon",6)(6,Aa,2,1,"mat-icon",7),t&2){let e,i=f();S((e=i.ack.status)==="SCHEDULED"?0:e==="OK"?1:e==="PENDING"?2:e==="CANCELLED"?3:e==="DISABLED"?4:e==="TIMEOUT"?5:6)}}function Va(t,n){t&1&&(p(0,"mat-icon",0),d(1,"lens"),c()),t&2&&u("matTooltip","Unknown")}var pt=class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-acknowledgment-icon"]],inputs:{ack:"ack"},decls:2,vars:1,consts:[[1,"icon16","no-ack",3,"matTooltip"],[1,"icon16","scheduled",3,"matTooltip"],[1,"icon16","ok",3,"matTooltip"],[1,"icon16","pending",3,"matTooltip"],[1,"icon16","cancelled",3,"matTooltip"],[1,"icon16","disabled",3,"matTooltip"],[1,"icon16","timeout",3,"matTooltip"],[1,"icon16","failed",3,"matTooltip"]],template:function(e,i){e&1&&v(0,Ea,7,1)(1,Va,2,1,"mat-icon",0),e&2&&S(i.ack?0:1)},dependencies:[T,rt,Se],styles:["[_nghost-%COMP%]{line-height:0;font-size:0}.scheduled[_ngcontent-%COMP%]{color:#d3d3d3}.ok[_ngcontent-%COMP%]{color:#00c752}.pending[_ngcontent-%COMP%], .cancelled[_ngcontent-%COMP%], .disabled[_ngcontent-%COMP%]{color:#d3d3d3}.timeout[_ngcontent-%COMP%], .failed[_ngcontent-%COMP%]{color:var(--y-error-color)}.no-ack[_ngcontent-%COMP%]{color:#d3d3d3}"],changeDetection:0})}};var Ia=(t,n)=>n.name;function Qa(t,n){if(t&1&&(p(0,"td",0)(1,"div",4),O(2,"app-acknowledgment-icon",5),c()()),t&2){let e=f().$implicit;l(2),u("ack",e)}}function Ma(t,n){t&1&&(p(0,"span"),d(1,"-"),c())}function $a(t,n){t&1&&(p(0,"span"),d(1,"-"),c())}function Na(t,n){if(t&1&&(p(0,"span",3),E(1,"datetime"),d(2),E(3,"deltaWith"),c()),t&2){let e=f().$implicit,i=f();u("matTooltip",I(1,2,e.time)),l(2),w(" ",nt(3,4,e.time,i.command.generationTime)," ")}}function Da(t,n){if(t&1&&(p(0,"tr"),v(1,Qa,3,1,"td",0),p(2,"td",1),d(3),c(),p(4,"td",2),d(5),c(),p(6,"td"),v(7,Ma,2,0,"span")(8,$a,2,0,"span")(9,Na,4,7,"span",3),c()()),t&2){let e,i=n.$implicit,r=f();l(),S(r.showIcons?1:-1),l(2),M(i.name==null?null:i.name.replace("Acknowledge_","")),l(2),M(i.status),l(2),S((e=i.status)==="SCHEDULED"?7:e==="PENDING"?8:9)}}var Qr=class t{constructor(){this.inline=!1;this.showIcons=!0}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-extra-acknowledgments-table"]],inputs:{command:"command",inline:"inline",showIcons:"showIcons"},decls:3,vars:0,consts:[[2,"width","16px"],[2,"width","150px"],[2,"width","70px"],[3,"matTooltip"],[2,"display","flex","align-items","center"],[3,"ack"]],template:function(e,i){e&1&&(p(0,"table"),le(1,Da,10,4,"tr",null,Ia),c()),e&2&&(l(),me(i.command.extraAcks))},dependencies:[pt,T,Se,Ut,Zt],styles:["table[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){padding-left:10px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;line-height:16px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000000a7}"],changeDetection:0})}};function Fa(t,n){t&1&&(p(0,"mat-icon",0),d(1," cached "),c())}function Xa(t,n){t&1&&(p(0,"mat-icon",1),d(1,"lens"),c())}var jt=class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-transmission-constraints-icon"]],inputs:{command:"command"},decls:2,vars:1,consts:[["matTooltip","Checking transmission constraints",1,"pending","icon16","spin"],[1,"not-pending","icon16"]],template:function(e,i){if(e&1&&v(0,Fa,2,0,"mat-icon",0)(1,Xa,2,0,"mat-icon",1),e&2){let r;S((r=i.command.transmissionConstraints==null?null:i.command.transmissionConstraints.status)==="PENDING"?0:1)}},dependencies:[T,rt,Se],styles:["[_nghost-%COMP%]{line-height:0;font-size:0}.pending[_ngcontent-%COMP%]{color:#d3d3d3;animation:_ngcontent-%COMP%_yspin 2s infinite linear}.not-pending[_ngcontent-%COMP%]{color:#d3d3d3}@keyframes _ngcontent-%COMP%_yspin{0%{-webkit-transform:rotate(0deg) scaleX(-1);transform:rotate(0) scaleX(-1)}to{-webkit-transform:rotate(359deg) scaleX(-1);transform:rotate(359deg) scaleX(-1)}}"],changeDetection:0})}};function La(t,n){if(t&1&&(p(0,"td",0)(1,"div",4),O(2,"app-acknowledgment-icon",5),c()()),t&2){let e=f(2);l(2),u("ack",e.command.queued)}}function Ra(t,n){if(t&1&&O(0,"app-transmission-constraints-icon",6),t&2){let e=f(3);u("command",e.command)}}function Ga(t,n){if(t&1&&O(0,"app-acknowledgment-icon",5),t&2){let e=f(3);u("ack",e.command.released)}}function Ba(t,n){if(t&1&&(p(0,"td")(1,"div",4),v(2,Ra,1,1,"app-transmission-constraints-icon",6)(3,Ga,1,1,"app-acknowledgment-icon",5),c()()),t&2){let e=f(2);l(2),S(e.command.released?-1:2),l(),S(e.command.released?3:-1)}}function Ya(t,n){if(t&1&&(p(0,"td")(1,"div",4),O(2,"app-acknowledgment-icon",5),c()()),t&2){let e=f(2);l(2),u("ack",e.command.sent)}}function qa(t,n){if(t&1&&(p(0,"table")(1,"tr"),v(2,La,3,1,"td",0),p(3,"td",1),d(4,"Queued"),c(),p(5,"td",2),d(6),c(),p(7,"td")(8,"span",3),E(9,"datetime"),d(10),E(11,"deltaWith"),c()()(),p(12,"tr"),v(13,Ba,4,2,"td"),p(14,"td"),d(15,"Released"),c(),p(16,"td"),d(17),c(),p(18,"td")(19,"span",3),E(20,"datetime"),d(21),E(22,"deltaWith"),c()()(),p(23,"tr"),v(24,Ya,3,1,"td"),p(25,"td"),d(26,"Sent"),c(),p(27,"td"),d(28),c(),p(29,"td")(30,"span",3),E(31,"datetime"),d(32),E(33,"deltaWith"),c()()()()),t&2){let e=f();l(2),S(e.showIcons?2:-1),l(4),M((e.command.queued==null?null:e.command.queued.status)||"-"),l(2),u("matTooltip",I(9,12,e.command.queued==null?null:e.command.queued.time)),l(2),w(" ",nt(11,14,e.command.queued==null?null:e.command.queued.time,e.command.generationTime)||"-"," "),l(3),S(e.showIcons?13:-1),l(4),w(" ",(e.command.released==null?null:e.command.released.status)||(e.command.transmissionConstraints==null?null:e.command.transmissionConstraints.status)||"-"," "),l(2),u("matTooltip",I(20,17,e.command.released==null?null:e.command.released.time)),l(2),w(" ",nt(22,19,e.command.released==null?null:e.command.released.time,e.command.generationTime)||"-"," "),l(3),S(e.showIcons?24:-1),l(4),M((e.command.sent==null?null:e.command.sent.status)||"-"),l(2),u("matTooltip",I(31,22,e.command.sent==null?null:e.command.sent.time)),l(2),w(" ",nt(33,24,e.command.sent==null?null:e.command.sent.time,e.command.generationTime)||"-"," ")}}var Mr=class t{constructor(){this.inline=!1;this.showIcons=!0}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-yamcs-acknowledgments-table"]],inputs:{command:"command",inline:"inline",showIcons:"showIcons"},decls:1,vars:1,consts:[[2,"width","16px"],[2,"width","150px"],[2,"width","70px"],[3,"matTooltip"],[2,"display","flex","align-items","center"],[3,"ack"],[3,"command"]],template:function(e,i){e&1&&v(0,qa,34,27,"table"),e&2&&S(i.command?0:-1)},dependencies:[pt,T,Se,Ut,Zt,jt],styles:["table[_ngcontent-%COMP%]{width:auto}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){padding-left:10px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;line-height:16px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#000000a7}"],changeDetection:0})}};function za(t,n){if(t&1&&(p(0,"tr")(1,"th"),d(2),c(),p(3,"td"),d(4),c()()),t&2){let e=n.$implicit;l(2),M(e.name),l(2),M(e.description||"-")}}function Wa(t,n){if(t&1&&(p(0,"p"),d(1,"\xA0"),c(),p(2,"p"),d(3,"Verifiers:"),c(),p(4,"table",1),le(5,za,5,2,"tr",null,ye),c()),t&2){let e=f();l(5),me(e.verifiers)}}function Ua(t,n){if(t&1&&(p(0,"tr")(1,"th"),d(2),c(),p(3,"td"),d(4),c()()),t&2){let e=n.$implicit;l(2),M(e.name.replace("Acknowledge_","")),l(2),M(e.description||"-")}}function Za(t,n){if(t&1&&(p(0,"p"),d(1,"\xA0"),c(),p(2,"p"),d(3,"Extra acknowledgments:"),c(),p(4,"table",1),le(5,Ua,5,2,"tr",null,ye),c()),t&2){let e=f();l(5),me(e.extra)}}var Kt=class t{constructor(){this.verifiers=[];this.extra=[]}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-advance-ack-help"]],inputs:{verifiers:"verifiers",extra:"extra"},decls:29,vars:2,consts:[["dialogTitle","Await acknowledgement success","dialogWidth","800px"],["yaSimpleTable","",2,"width","100%"],["width","1"]],template:function(e,i){e&1&&(p(0,"ya-help",0)(1,"p"),d(2," Configure the acknowledgment which is required to be successful before advancing to the next command in the stack. "),c(),p(3,"table",1)(4,"tr")(5,"th",2),d(6,"Queued"),c(),p(7,"td"),d(8,"The command was accepted into a Yamcs queue."),c()(),p(9,"tr")(10,"th"),d(11,"Released"),c(),p(12,"td"),d(13,"The command was released from its assigned Yamcs queue."),c()(),p(14,"tr")(15,"th"),d(16,"Sent"),c(),p(17,"td"),d(18,"The command was processed by a Yamcs link."),c()(),p(19,"tr")(20,"th"),d(21,"Completed"),c(),p(22,"td")(23,"p"),d(24,"The command completed successfully."),c(),p(25,"p"),d(26," This requires the configuration of a success verifier in the Mission Database specification. "),c()()()(),v(27,Wa,7,0)(28,Za,7,0),c()),e&2&&(l(27),S(i.verifiers.length?27:-1),l(),S(i.extra.length?28:-1))},dependencies:[T,_r,L],encapsulation:2,changeDetection:0})}};function Ha(t,n){if(t&1&&(p(0,"div",3),d(1," bytes: "),O(2,"ya-interval",6),c()),t&2){let e=f();l(2),u("left",e.type.minBytes)("right",e.type.maxBytes)("singleValueIfEqual",!0)}}function ja(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}var Re=class t{constructor(){this.formControl=new H;this.validators=[];this.onChange=n=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let n=this.formControl.value;this.onChange(n)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.type.minBytes!==void 0&&this.type.minBytes!==0&&this.validators.push(U.required),this.validators.push(we.requireHex),this.type.minBytes!==void 0&&this.validators.push(we.minHexLengthValidator(this.type.minBytes)),this.type.maxBytes!==void 0&&this.validators.push(we.maxHexLengthValidator(this.type.maxBytes))}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(n){this.formControl.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){}validate(n){for(let e of this.validators){let i=e(n);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-binary-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0},{provide:de,useExisting:R(()=>t),multi:!0}])],decls:12,vars:14,consts:[["err",""],[1,"label"],[1,"meta"],[1,"item"],[3,"controlName"],[3,"formControl"],[3,"left","right","singleValueIfEqual"]],template:function(e,i){if(e&1&&(p(0,"div",1)(1,"div",2),E(2,"async"),v(3,Ha,3,3,"div",3),p(4,"div",3),E(5,"async"),d(6),c()(),d(7),v(8,ja,2,1,"ya-help"),O(9,"ya-errors",4,0)(11,"ya-binary-input",5),c()),e&2){let r=K(10);l(),X("error",I(2,10,r.invalid$)),l(2),S(i.type.minBytes!==void 0||i.type.maxBytes!==void 0?3:-1),l(),X("error",I(5,12,r.invalid$)),l(2),M(i.type.engType),l(),w(" ",i.label," "),l(),S(i.description?8:-1),l(),u("controlName",i.controlName),l(2),u("formControl",i.formControl)}},dependencies:[T,W,$,ue,Cr,re,L,Pe],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}.label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function Ka(t,n){if(t&1&&(p(0,"div",3),O(1,"ya-interval",8),c()),t&2){let e=f();l(),u("left",e.type.rangeMin)("right",e.type.rangeMax)}}function Ja(t,n){if(t&1&&(p(0,"div",3),d(1),E(2,"units"),c()),t&2){let e=f();l(),w(" ",I(2,1,e.type.unitSet)," ")}}function es(t,n){t&1&&(p(0,"div",3),d(1,"unsigned"),c())}function ts(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}var Ge=class t{constructor(){this.validators=[];this.onChange=n=>{};this.subscriptions=[];this.formGroup=new xe({enabled:new ae(null)})}ngOnInit(){this.subscriptions.push(this.formGroup.valueChanges.subscribe(()=>{let n=this.formGroup.get("enabled").value;this.onChange(n)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required)}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(n){n==="true"?this.formGroup.setValue({enabled:"true"}):n==="false"&&this.formGroup.setValue({enabled:"false"})}registerOnChange(n){this.onChange=n}registerOnTouched(n){}validate(n){for(let e of this.validators){let i=e(n);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-boolean-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0},{provide:de,useExisting:R(()=>t),multi:!0}])],decls:18,vars:14,consts:[["err",""],[1,"label"],[1,"meta"],[1,"item"],[3,"controlName"],[3,"formGroup"],["type","radio","formControlName","enabled","value","true"],["type","radio","formControlName","enabled","value","false"],[3,"left","right"]],template:function(e,i){if(e&1&&(p(0,"div",1)(1,"div",2),E(2,"async"),v(3,Ka,2,2,"div",3)(4,Ja,3,3,"div",3)(5,es,2,0,"div",3),p(6,"div",3),d(7),c()(),d(8),v(9,ts,2,1,"ya-help"),O(10,"ya-errors",4,0)(12,"br"),ee(13,5),O(14,"input",6),d(15),O(16,"input",7),d(17),te(),c()),e&2){let r=K(11);l(),X("error",I(2,12,r.invalid$)),l(2),S(i.type.rangeMin!==void 0||i.type.rangeMax!==void 0?3:-1),l(),S(i.type.unitSet?4:-1),l(),S(i.type.signed===!1?5:-1),l(2),M(i.type.engType),l(),w(" ",i.label," "),l(),S(i.description?9:-1),l(),u("controlName",i.controlName),l(3),u("formGroup",i.formGroup),l(2),w(" ",i.type.oneStringValue," "),l(2),w(" ",i.type.zeroStringValue," ")}},dependencies:[T,W,ce,Xt,$,Z,fe,ie,re,L,Pe,Le],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}.label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function is(t,n){t&1&&(p(0,"th",17),d(1,"Value"),c())}function rs(t,n){if(t&1&&(p(0,"td",18),d(1),c()),t&2){let e=n.$implicit;l(),w(" ",e.value," ")}}function os(t,n){t&1&&(p(0,"th",17),d(1,"Label"),c())}function as(t,n){if(t&1&&(p(0,"td",18)(1,"strong"),d(2),c()()),t&2){let e=n.$implicit;l(2),M(e.label)}}function ss(t,n){t&1&&(p(0,"th",17),d(1,"Hex value"),c())}function ls(t,n){if(t&1&&(p(0,"td",18),d(1),c()),t&2){let e=n.$implicit,i=f();l(),w(" ",i.toHex(e.value)," ")}}function ms(t,n){t&1&&O(0,"tr",19)}function ps(t,n){if(t&1){let e=ve();p(0,"tr",20),pe("click",function(){let r=Oe(e).$implicit,o=f();return Ce(o.selection.toggle(r))}),c()}if(t&2){let e=n.$implicit,i=f();X("selected",i.selection.isSelected(e))}}var Jt=class t{constructor(n,e){this.dialogRef=n;this.data=e;this.filterControl=new H;this.dataSource=new fr([]);this.selection=new mi;this.displayedColumns=["name","value"];let i=e.type,r=i.dataEncoding?.encoding==="UNSIGNED";this.dataSource.filterPredicate=(o,a)=>{let{label:s,value:m}=o;return s.toLowerCase().indexOf(a)>=0||String(m).indexOf(a)>=0||r&&Number(m).toString(16).indexOf(a)>=0},this.dataSource.data=i.enumValue||[],r&&this.displayedColumns.push("hex")}ngAfterViewInit(){this.filterControl.valueChanges.subscribe(()=>{let n=this.filterControl.value||"";this.dataSource.filter=n.toLowerCase()}),this.dataSource.paginator=this.paginator}selectNext(){let n=this.dataSource.filteredData,e=0;if(this.selection.hasValue()){let i=this.selection.selected[0];n.indexOf(i)!==-1&&(e=Math.min(n.indexOf(i)+1,n.length-1))}this.selection.select(n[e])}selectPrevious(){let n=this.dataSource.filteredData,e=0;if(this.selection.hasValue()){let i=this.selection.selected[0];n.indexOf(i)!==-1&&(e=Math.max(n.indexOf(i)-1,0))}this.selection.select(n[e])}toHex(n){return Number(n).toString(16)}applySelection(){let n=this.selection.selected;n.length&&this.dialogRef.close(n[0])}static{this.\u0275fac=function(e){return new(e||t)(F(ji),F(Ki))}}static{this.\u0275cmp=P({type:t,selectors:[["app-select-enumeration-dialog"]],viewQuery:function(e,i){if(e&1&&ri(qt,7),e&2){let r;oi(r=ai())&&(i.paginator=r.first)}},decls:25,vars:8,consts:[["mat-dialog-title",""],[1,"filter-bar"],["width","100%",3,"onArrowDown","onArrowUp","onEnter","formControl"],[1,"scrollpane"],["mat-table","",1,"ya-data-table",2,"width","100%",3,"dataSource"],["cdkColumnDef","value"],["mat-header-cell","",4,"cdkHeaderCellDef"],["mat-cell","",4,"cdkCellDef"],["cdkColumnDef","name"],["cdkColumnDef","hex"],["mat-header-row","",4,"cdkHeaderRowDef"],["mat-row","",3,"selected","click",4,"cdkRowDef","cdkRowDefColumns"],["align","end"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[2,"flex","1 1 auto"],["mat-dialog-close",""],["appearance","primary",3,"click","disabled"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,i){e&1&&(p(0,"h2",0),d(1,"Select enumeration state"),c(),p(2,"mat-dialog-content")(3,"div",1)(4,"ya-search-filter",2),pe("onArrowDown",function(){return i.selectNext()})("onArrowUp",function(){return i.selectPrevious()})("onEnter",function(){return i.applySelection()}),c()(),p(5,"div",3)(6,"table",4),ee(7,5),v(8,is,2,0,"th",6)(9,rs,2,1,"td",7),te(),ee(10,8),v(11,os,2,0,"th",6)(12,as,3,1,"td",7),te(),ee(13,9),v(14,ss,2,0,"th",6)(15,ls,2,1,"td",7),te(),v(16,ms,1,0,"tr",10)(17,ps,1,2,"tr",11),c()()(),p(18,"mat-dialog-actions",12),O(19,"mat-paginator",13)(20,"div",14),p(21,"ya-button",15),d(22,"CANCEL"),c(),p(23,"ya-button",16),pe("click",function(){return i.applySelection()}),d(24," SELECT "),c()()),e&2&&(l(4),u("formControl",i.filterControl),l(2),u("dataSource",i.dataSource),l(10),u("cdkHeaderRowDef",i.displayedColumns),l(),u("cdkRowDefColumns",i.displayedColumns),l(2),u("pageSize",100)("hidePageSize",!0)("showFirstLastButtons",!0),l(4),u("disabled",i.selection.isEmpty()))},dependencies:[T,$,ue,lr,rr,or,ar,sr,er,tr,ir,nr,qt,mr,pr,cr,dr,ur,st,Sr],styles:["td[_ngcontent-%COMP%]{cursor:pointer}.scrollpane[_ngcontent-%COMP%]{overflow:auto;height:200px}.filter-bar[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}};function cs(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}var Be=class t{constructor(n){this.dialog=n;this.formControl=new H;this.selectOptions$=new J([]);this.validators=[];this.onChange=n=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let e=this.formControl.value;this.onChange(e)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index);let n=[];for(let e of this.type.enumValue||[])n.push({id:e.label,label:e.label});this.selectOptions$.next(n),this.validators.push(U.required)}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(n){this.formControl.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){}openSelectEnumerationDialog(){this.dialog.open(Jt,{width:"600px",data:{type:this.type},panelClass:["no-padding-dialog"]}).afterClosed().subscribe(n=>{n&&this.writeValue(n.label)})}validate(n){for(let e of this.validators){let i=e(n);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)(F(Ji))}}static{this.\u0275cmp=P({type:t,selectors:[["app-enumeration-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0},{provide:de,useExisting:R(()=>t),multi:!0}])],decls:14,vars:12,consts:[["err",""],[1,"label"],[1,"meta"],[1,"item"],[3,"controlName"],[1,"control-group"],[3,"formControl","options"],["matTooltip","Lookup enumeration state","icon","search",3,"click"]],template:function(e,i){if(e&1){let r=ve();p(0,"div",1)(1,"div",2),E(2,"async"),p(3,"div",3),d(4),c()(),d(5),v(6,cs,2,1,"ya-help"),O(7,"ya-errors",4,0),p(9,"div",5),O(10,"ya-select",6),E(11,"async"),d(12," \xA0 "),p(13,"ya-button",7),pe("click",function(){return Oe(r),Ce(i.openSelectEnumerationDialog())}),c()()()}if(e&2){let r=K(8);l(),X("error",I(2,8,r.invalid$)),l(3),M(i.type.engType),l(),w(" ",i.label," "),l(),S(i.description?6:-1),l(),u("controlName",i.controlName),l(3),u("formControl",i.formControl)("options",I(11,10,i.selectOptions$))}},dependencies:[T,W,$,ue,Se,st,re,L,lt],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function ds(t,n){if(t&1&&(p(0,"div",3),O(1,"ya-interval",6),c()),t&2){let e=f();l(),u("left",e.type.rangeMin)("right",e.type.rangeMax)}}function us(t,n){if(t&1&&(p(0,"div",3),d(1),E(2,"units"),c()),t&2){let e=f();l(),w(" ",I(2,1,e.type.unitSet)," ")}}function fs(t,n){t&1&&(p(0,"div",3),d(1,"unsigned"),c())}function gs(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}var Ye=class t{constructor(){this.formControl=new H;this.validators=[];this.onChange=n=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let n=this.formControl.value;this.onChange(n)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required),this.validators.push(we.requireFloat),this.type.signed===!1&&this.validators.push(we.requireUnsigned),this.type.rangeMax!==void 0&&this.validators.push(U.max(this.type.rangeMax)),this.type.rangeMin!==void 0&&this.validators.push(U.min(this.type.rangeMin))}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(n){this.formControl.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){}validate(n){for(let e of this.validators){let i=e(n);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-float-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0},{provide:de,useExisting:R(()=>t),multi:!0}])],decls:13,vars:12,consts:[["err",""],[1,"label"],[1,"meta"],[1,"item"],[3,"controlName"],["type","text","autocomplete","off",3,"formControl"],[3,"left","right"]],template:function(e,i){if(e&1&&(p(0,"div",1)(1,"div",2),E(2,"async"),v(3,ds,2,2,"div",3)(4,us,3,3,"div",3)(5,fs,2,0,"div",3),p(6,"div",3),d(7),c()(),d(8),v(9,gs,2,1,"ya-help"),O(10,"ya-errors",4,0)(12,"input",5),c()),e&2){let r=K(11);l(),X("error",I(2,10,r.invalid$)),l(2),S(i.type.rangeMin!==void 0||i.type.rangeMax!==void 0?3:-1),l(),S(i.type.unitSet?4:-1),l(),S(i.type.signed===!1?5:-1),l(2),M(i.type.engType),l(),w(" ",i.label," "),l(),S(i.description?9:-1),l(),u("controlName",i.controlName),l(2),u("formControl",i.formControl)}},dependencies:[T,W,ce,$,ue,re,L,Pe,Le],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}.label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function hs(t,n){if(t&1&&(p(0,"div",4),O(1,"ya-interval",11),c()),t&2){let e=f();l(),u("left",e.type.rangeMin)("right",e.type.rangeMax)}}function Os(t,n){if(t&1&&(p(0,"div",4),d(1),E(2,"units"),c()),t&2){let e=f();l(),w(" ",I(2,1,e.type.unitSet)," ")}}function Cs(t,n){t&1&&(p(0,"div",4),d(1,"unsigned"),c())}function ys(t,n){if(t&1){let e=ve();p(0,"div",12),pe("click",function(r){return Oe(e),Ce(r.stopPropagation())}),d(1," \u2630 "),c()}if(t&2){f();let e=K(9);u("matMenuTriggerFor",e)}}function xs(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}function Ss(t,n){if(t&1&&O(0,"input",9),t&2){let e=f();u("formControl",e.formControl)}}function bs(t,n){if(t&1&&O(0,"ya-hex-integer-input",10),t&2){let e=f();u("formControl",e.formControl)}}var qe=class t{constructor(){this.formControl=new H;this.validators=[];this.onChange=n=>{};this.subscriptions=[];this.hexToggle$=new J(!1)}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let n=this.formControl.value;n!==null&&this.hexToggle$.value&&(n=String(n)),this.onChange(n)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required),this.validators.push(we.requireInteger),this.type.signed===!1&&this.validators.push(we.requireUnsigned),this.type.rangeMax!==void 0&&this.validators.push(U.max(this.type.rangeMax)),this.type.rangeMin!==void 0&&this.validators.push(U.min(this.type.rangeMin))}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(n){this.formControl.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){}setDisabledState(n){}validate(n){for(let e of this.validators){let i=e(n);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-integer-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0},{provide:de,useExisting:R(()=>t),multi:!0}])],decls:29,vars:26,consts:[["argMenu","matMenu"],["err",""],[1,"label"],[1,"meta"],[1,"item"],[1,"ya-menu"],["mat-menu-item","",3,"click"],["matTooltip","Input options",1,"item","menu",3,"matMenuTriggerFor"],[3,"controlName"],["type","text","autocomplete","off",3,"formControl"],[3,"formControl"],[3,"left","right"],["matTooltip","Input options",1,"item","menu",3,"click","matMenuTriggerFor"]],template:function(e,i){if(e&1){let r=ve();p(0,"div",2)(1,"div",3),E(2,"async"),v(3,hs,2,2,"div",4)(4,Os,3,3,"div",4)(5,Cs,2,0,"div",4),p(6,"div",4),d(7),c(),p(8,"mat-menu",5,0)(10,"button",6),pe("click",function(){return Oe(r),Ce(i.hexToggle$.next(!0))}),p(11,"mat-icon"),E(12,"async"),d(13,"check"),c(),d(14," Hex input "),c(),p(15,"button",6),pe("click",function(){return Oe(r),Ce(i.hexToggle$.next(!1))}),p(16,"mat-icon"),E(17,"async"),d(18,"check"),c(),d(19," Decimal input "),c()(),v(20,ys,2,1,"div",7),c(),d(21),v(22,xs,2,1,"ya-help"),O(23,"ya-errors",8,1),v(25,Ss,1,1,"input",9),E(26,"async"),v(27,bs,1,1,"ya-hex-integer-input",10),E(28,"async"),c()}if(e&2){let r=K(24);l(),X("error",I(2,16,r.invalid$)),l(2),S(i.type.rangeMin!==void 0||i.type.rangeMax!==void 0?3:-1),l(),S(i.type.unitSet?4:-1),l(),S(i.type.signed===!1?5:-1),l(2),M(i.type.engType),l(4),bt("visibility",I(12,18,i.hexToggle$)?"visible":"hidden"),l(5),bt("visibility",I(17,20,i.hexToggle$)?"hidden":"visible"),l(4),S(i.type.signed===!1?20:-1),l(),w(" ",i.label," "),l(),S(i.description?22:-1),l(),u("controlName",i.controlName),l(2),S(I(26,22,i.hexToggle$)?-1:25),l(2),S(I(28,24,i.hexToggle$)?27:-1)}},dependencies:[T,W,ce,$,ue,rt,gi,fi,hi,Se,re,L,xr,Pe,Le],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}.label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function vs(t,n){if(t&1&&(p(0,"div",3),d(1," chars: "),O(2,"ya-interval",6),c()),t&2){let e=f();l(2),u("left",e.type.minChars)("right",e.type.maxChars)("singleValueIfEqual",!0)}}function _s(t,n){if(t&1&&(p(0,"div",3),d(1),E(2,"units"),c()),t&2){let e=f();l(),w(" ",I(2,1,e.type.unitSet)," ")}}function ks(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}var ze=class t{constructor(){this.formControl=new H;this.validators=[];this.onChange=n=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let n=this.formControl.value;this.onChange(n)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.type.minChars!==void 0&&this.type.minChars!==0&&this.validators.push(U.required),this.type.minChars!==void 0&&this.validators.push(U.minLength(this.type.minChars)),this.type.maxChars!==void 0&&this.validators.push(U.maxLength(this.type.maxChars))}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(n){this.formControl.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){}validate(n){for(let e of this.validators){let i=e(n);if(i)return i}return null}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-string-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0},{provide:de,useExisting:R(()=>t),multi:!0}])],decls:12,vars:11,consts:[["err",""],[1,"label"],[1,"meta"],[1,"item"],[3,"controlName"],["type","text","autocomplete","off",3,"formControl"],[3,"left","right","singleValueIfEqual"]],template:function(e,i){if(e&1&&(p(0,"div",1)(1,"div",2),E(2,"async"),v(3,vs,3,3,"div",3)(4,_s,3,3,"div",3),p(5,"div",3),d(6),c()(),d(7),v(8,ks,2,1,"ya-help"),O(9,"ya-errors",4,0)(11,"input",5),c()),e&2){let r=K(10);l(),X("error",I(2,9,r.invalid$)),l(2),S(i.type.minChars!==void 0||i.type.maxChars!==void 0?3:-1),l(),S(i.type.unitSet?4:-1),l(2),M(i.type.engType),l(),w(" ",i.label," "),l(),S(i.description?8:-1),l(),u("controlName",i.controlName),l(2),u("formControl",i.formControl)}},dependencies:[T,W,ce,$,ue,re,L,Pe,Le],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}.label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function ws(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}var We=class t{constructor(){this.formControl=new H;this.validators=[];this.onChange=n=>{};this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.formControl.valueChanges.subscribe(()=>{let n=this.formControl.value;this.onChange(n)})),this.index===void 0?this.controlName=this.name:this.controlName=String(this.index),this.validators.push(U.required)}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}writeValue(n){this.formControl.setValue(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){}validate(n){for(let e of this.validators){let i=e(n);if(i)return i}return this.formControl.errors}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-time-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions"},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0},{provide:de,useExisting:R(()=>t),multi:!0}])],decls:10,vars:11,consts:[["err",""],[1,"label"],[1,"meta"],[1,"item"],[3,"controlName"],[3,"formControl","showMillis","showNow"]],template:function(e,i){if(e&1&&(p(0,"div",1)(1,"div",2),E(2,"async"),p(3,"div",3),d(4),c()(),d(5),v(6,ws,2,1,"ya-help"),O(7,"ya-errors",4,0)(9,"ya-date-time-input",5),c()),e&2){let r=K(8);l(),X("error",I(2,9,r.invalid$)),l(3),M(i.type.engType),l(),w(" ",i.label," "),l(),S(i.description?6:-1),l(),u("controlName",i.controlName),l(2),u("formControl",i.formControl)("showMillis",!0)("showNow",!0)}},dependencies:[T,W,$,ue,Wt,re,L],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".ng-invalid[_nghost-%COMP%]:not(.ng-pristine)     input{border-color:var(--y-error-color)!important}.label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function Ps(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}function Ts(t,n){if(t&1&&O(0,"app-aggregate-argument",6),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("initialValue",i.entryInitialValues[e])}}function As(t,n){if(t&1&&O(0,"app-binary-argument",7),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function Es(t,n){if(t&1&&O(0,"app-boolean-argument",7),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function Vs(t,n){if(t&1&&O(0,"app-enumeration-argument",7),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function Is(t,n){if(t&1&&O(0,"app-float-argument",7),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function Qs(t,n){if(t&1&&O(0,"app-integer-argument",7),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function Ms(t,n){if(t&1&&O(0,"app-string-argument",7),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function $s(t,n){if(t&1&&O(0,"app-time-argument",7),t&2){let e=f().$index,i=f();u("name",i.name)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("formControlName",e)}}function Ns(t,n){if(t&1&&O(0,"app-array-argument",6),t&2){let e=f().$index,i=f();u("name",e)("type",i.type.elementType)("index",e)("dimensions",i.ownDimensions)("initialValue",i.entryInitialValues[e])}}function Ds(t,n){if(t&1&&(v(0,Ts,1,5,"app-aggregate-argument",6)(1,As,1,5,"app-binary-argument",7)(2,Es,1,5,"app-boolean-argument",7)(3,Vs,1,5,"app-enumeration-argument",7)(4,Is,1,5,"app-float-argument",7)(5,Qs,1,5,"app-integer-argument",7)(6,Ms,1,5,"app-string-argument",7)(7,$s,1,5,"app-time-argument",7)(8,Ns,1,5,"app-array-argument",6),O(9,"br")),t&2){let e,i=f();S((e=i.type.elementType.engType)==="aggregate"?0:e==="binary"?1:e==="boolean"?2:e==="enumeration"?3:e==="float"?4:e==="integer"?5:e==="string"?6:e==="time"?7:e===(i.type.elementType.engType.endsWith("[]")?i.type.elementType.engType:"")?8:-1)}}var ct=class t{constructor(n,e,i,r){this.formGroupName=n;this.yamcs=e;this.formArrayName=i;this.ownDimensions=[];this.engType$=new J(null);this.arrayLength$=new J(0);this.formArray=new fn([]);this.entryInitialValues=[];this.subscriptions=[];this.pvalCache={};this.topLevelForm.valueChanges.subscribe(()=>{this.updateOwnDimensions(),this.formArray.updateValueAndValidity({onlySelf:!0}),this.formArray.updateValueAndValidity({emitEvent:!1}),r.detectChanges()})}get topLevelForm(){return this.formGroupName.formDirective}ngOnInit(){this.formGroupName.control.addControl(this.name,this.formArray),this.updateOwnDimensions();let e=this.type.dimensions.filter(r=>r.parameter!==void 0).map(r=>r.parameter.qualifiedName);if(e=[...new Set(e)],e.length){let r=e.map(a=>({name:a})),o;this.parameterSubscription=this.yamcs.yamcsClient.createParameterSubscription({instance:this.yamcs.instance,processor:this.yamcs.processor,id:r,abortOnInvalid:!1,sendFromCache:!0,updateOnExpiration:!1,action:"REPLACE"},a=>{a.mapping&&(o=Te(Te({},o),a.mapping));for(let s of a.values||[])if(s.engValue){let m=o[s.numericId];this.pvalCache[m.name]=G.convertValue(s.engValue),this.updateOwnDimensions()}})}this.formArray.addValidators(()=>{for(let r=0;r<this.ownDimensions.length;r++){let o=this.ownDimensions[r],a=this.type.dimensions[r];if(o!==void 0&&o<0)return{invalidDimension:{dimension:o}};if(a.argument){if(o===void 0)return{argumentRequired:{name:a.argument}}}else if(a.parameter&&o===void 0)return{parameterRequired:{qualifiedName:a.parameter.qualifiedName,name:a.parameter.name}}}return null}),this.formArray.updateValueAndValidity(),this.initialValue?.length===this.arrayLength$.value&&(this.entryInitialValues=[...this.initialValue]);let i=!0;this.subscriptions.push(this.arrayLength$.pipe(ti()).subscribe(r=>{this.formArray.clear();for(let o=0;o<r;o++)if(!this.type.elementType.engType.endsWith("[]")&&this.type.elementType.engType!=="aggregate"){let a=i?this.entryInitialValues[o]??"":"";this.formArray.setControl(o,new ae(a))}else this.type.elementType.engType==="aggregate"?this.formArray.setControl(o,new pi({})):this.formArray.setControl(o,new fn([]))})),i=!1}get label(){return this.index!==void 0?G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join(""):this.name}updateEngType(){let n=this.type.elementType.engType;n.endsWith("[]")&&(n="array");for(let e of this.ownDimensions)n+=e!==void 0?`[${e}]`:"[?]";this.engType$.next(n)}updateOwnDimensions(){let{dimensions:n}=this.type;if(n){let e=[];for(let r of n)if(r.fixedValue!==void 0)e.push(Number(r.fixedValue));else if(r.argument){let o=this.findClosestControl(r.argument);if(o?.valid&&o.value!==""){let a=Number(o.value);if(isNaN(a))e.push(void 0);else{let s=a*Number(r.slope);s+=Number(r.intercept),e.push(s)}}else e.push(void 0)}else if(r.parameter){let o=this.pvalCache[r.parameter.qualifiedName];if(o!==void 0){let a=Number(o);if(isNaN(a))e.push(void 0);else{let s=a*Number(r.slope);s+=Number(r.intercept),e.push(s)}}else e.push(void 0)}else e.push(void 0);this.ownDimensions=e,this.updateEngType();let i=1;for(let r of this.ownDimensions)if(r===void 0){i=0;break}else i*=r;this.arrayLength$.next(i)}}findClosestControl(n){let e=this.formGroupName.control;for(;e&&e!==this.topLevelForm.control;){if(e instanceof xe&&n in e.controls)return e.controls[n];e=e.parent}}ngOnDestroy(){this.parameterSubscription?.cancel(),this.subscriptions.forEach(n=>n.unsubscribe())}static{this.\u0275fac=function(e){return new(e||t)(F(se),F(mt),F(Ae,8),F(si))}}static{this.\u0275cmp=P({type:t,selectors:[["app-array-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions",initialValue:"initialValue"},features:[q([],[{provide:it,useFactory:(n,e)=>n||e,deps:[[new $t,new Mt,Ae],se]}])],decls:13,vars:11,consts:[["err",""],[1,"label"],[3,"controlName"],[1,"meta"],[1,"item"],[1,"entries",3,"formArrayName"],[3,"name","type","index","dimensions","initialValue"],[3,"name","type","index","dimensions","formControlName"]],template:function(e,i){if(e&1&&(p(0,"div",1),d(1),v(2,Ps,2,1,"ya-help"),O(3,"ya-errors",2,0),p(5,"div",3),E(6,"async"),p(7,"div",4),d(8),E(9,"async"),c()(),p(10,"div",5),le(11,Ds,10,1,null,null,ye),c()()),e&2){let r=K(4);l(),w(" ",i.label," "),l(),S(i.description?2:-1),l(),u("controlName",i.name),l(2),X("error",I(6,7,r.invalid$)),l(3),M(I(9,9,i.engType$)),l(2),u("formArrayName",i.name),l(),me(i.formArray.controls)}},dependencies:()=>[t,dt,Re,Ge,Be,Ye,qe,T,W,$,Z,ie,Ae,re,L,ze,We],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function Fs(t,n){if(t&1&&(p(0,"ya-help"),d(1),c()),t&2){let e=f();l(),w(" ",e.description," ")}}function Xs(t,n){if(t&1&&O(0,"app-aggregate-argument",5),t&2){let e=f(),i=e.$implicit,r=e.$index,o=f();u("name",i.name)("type",i.type)("description",i.shortDescription)("initialValue",o.memberInitialValues[r])}}function Ls(t,n){if(t&1&&O(0,"app-binary-argument",6),t&2){let e=f().$implicit;u("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function Rs(t,n){if(t&1&&O(0,"app-boolean-argument",6),t&2){let e=f().$implicit;u("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function Gs(t,n){if(t&1&&O(0,"app-enumeration-argument",6),t&2){let e=f().$implicit;u("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function Bs(t,n){if(t&1&&O(0,"app-float-argument",6),t&2){let e=f().$implicit;u("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function Ys(t,n){if(t&1&&O(0,"app-integer-argument",6),t&2){let e=f().$implicit;u("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function qs(t,n){if(t&1&&O(0,"app-string-argument",6),t&2){let e=f().$implicit;u("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function zs(t,n){if(t&1&&O(0,"app-time-argument",6),t&2){let e=f().$implicit;u("name",e.name)("type",e.type)("description",e.shortDescription)("formControlName",e.name)}}function Ws(t,n){if(t&1&&O(0,"app-array-argument",5),t&2){let e=f(),i=e.$implicit,r=e.$index,o=f();u("name",i.name)("type",i.type)("description",i.shortDescription)("initialValue",o.memberInitialValues[r])}}function Us(t,n){if(t&1&&(p(0,"div"),v(1,Xs,1,4,"app-aggregate-argument",5)(2,Ls,1,4,"app-binary-argument",6)(3,Rs,1,4,"app-boolean-argument",6)(4,Gs,1,4,"app-enumeration-argument",6)(5,Bs,1,4,"app-float-argument",6)(6,Ys,1,4,"app-integer-argument",6)(7,qs,1,4,"app-string-argument",6)(8,zs,1,4,"app-time-argument",6)(9,Ws,1,4,"app-array-argument",5),c()),t&2){let e,i=n.$implicit,r=n.$index;bt("padding-top",r===0?0:5,"px"),l(),S((e=i.type.engType)==="aggregate"?1:e==="binary"?2:e==="boolean"?3:e==="enumeration"?4:e==="float"?5:e==="integer"?6:e==="string"?7:e==="time"?8:e===(i.type.engType.endsWith("[]")?i.type.engType:"")?9:-1)}}var dt=class t{constructor(n,e){this.formGroupName=n;this.formArrayName=e;this.memberInitialValues=[]}ngOnInit(){let n=this.formGroupName.control,e;if(this.index===void 0)this.controlName=this.name,e=new xe({}),n.setControl(this.name,e);else{this.controlName=String(this.index);let i=Number(this.index);e=n.controls[this.name].at(i)}for(let i of this.type.member||[]){let r;if(i.type.engType==="aggregate")r={},this.initialValue&&this.initialValue.hasOwnProperty(i.name)&&(r=this.initialValue[i.name]);else if(i.type.engType.endsWith("[]"))r=[],this.initialValue&&this.initialValue.hasOwnProperty(i.name)&&(r=this.initialValue[i.name]);else{r=i.initialValue??"",this.initialValue&&this.initialValue.hasOwnProperty(i.name)&&(r=this.initialValue[i.name]);let o=new H(r);e.setControl(i.name,o,{emitEvent:!1})}this.memberInitialValues.push(r)}}get label(){return this.index===void 0?this.name:G.unflattenIndex(this.index,this.dimensions).map(e=>"["+e+"]").join("")}static{this.\u0275fac=function(e){return new(e||t)(F(se),F(Ae,8))}}static{this.\u0275cmp=P({type:t,selectors:[["app-aggregate-argument"]],inputs:{name:"name",description:"description",type:"type",index:"index",dimensions:"dimensions",initialValue:"initialValue"},features:[q([],[{provide:it,useFactory:(n,e)=>n||e,deps:[[new $t,new Mt,Ae],se]}])],decls:9,vars:3,consts:[[1,"label"],[1,"meta"],[1,"item"],[1,"members",3,"formGroupName"],[3,"paddingTop"],[3,"name","type","description","initialValue"],[3,"name","type","description","formControlName"]],template:function(e,i){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),d(3,"aggregate"),c()(),d(4),v(5,Fs,2,1,"ya-help"),p(6,"div",3),le(7,Us,10,3,"div",4,ye),c()()),e&2&&(l(4),w(" ",i.label," "),l(),S(i.description?5:-1),l(),u("formGroupName",i.controlName),l(),me(i.type.member))},dependencies:()=>[t,ct,Re,Ge,Be,Ye,qe,T,$,Z,ie,se,L,ze,We],styles:[".meta[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex}.meta[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:none;background-color:#eee;font-weight:400;font-family:Roboto Mono,monospace;color:#000000a7;padding-left:2px;padding-right:2px;margin-left:10px}.meta.error[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{background-color:var(--y-error-color);color:#fff}.members[_ngcontent-%COMP%], .entries[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;padding-left:10px;border-left:1px solid rgba(0,0,0,.1)}.meta[_ngcontent-%COMP%]   .item.menu[_ngcontent-%COMP%]:hover{background-color:#009e97;color:#fff;cursor:pointer}",".label[_ngcontent-%COMP%]{position:relative}"],changeDetection:0})}};function Zs(t,n){if(t&1&&O(0,"app-aggregate-argument",0),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("initialValue",e.parsedInitialValue)}}function Hs(t,n){if(t&1&&O(0,"app-binary-argument",1),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function js(t,n){if(t&1&&O(0,"app-boolean-argument",1),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function Ks(t,n){if(t&1&&O(0,"app-enumeration-argument",1),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function Js(t,n){if(t&1&&O(0,"app-float-argument",1),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function el(t,n){if(t&1&&O(0,"app-integer-argument",1),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function tl(t,n){if(t&1&&O(0,"app-string-argument",1),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function nl(t,n){if(t&1&&O(0,"app-time-argument",1),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("formControlName",e.name)}}function il(t,n){if(t&1&&O(0,"app-array-argument",0),t&2){let e=f();u("name",e.name)("description",e.description)("type",e.type)("initialValue",e.parsedInitialValue)}}function Qe(t){switch(t.type){case"BOOLEAN":return""+t.booleanValue;case"FLOAT":return""+t.floatValue;case"DOUBLE":return""+t.doubleValue;case"UINT32":return""+t.uint32Value;case"SINT32":return""+t.sint32Value;case"BINARY":return G.convertBase64ToHex(t.binaryValue);case"ENUMERATED":case"STRING":case"TIMESTAMP":return t.stringValue;case"UINT64":return""+t.uint64Value;case"SINT64":return""+t.sint64Value;case"AGGREGATE":let{name:n,value:e}=t.aggregateValue,i={};for(let r=0;r<n.length;r++)i[n[r]]=Qe(e[r]);return i;case"ARRAY":return(t.arrayValue||[]).map(r=>Qe(r))}}function On(t){if(Array.isArray(t))return t.map(n=>On(n));if(typeof t=="object"){let n={};for(let e in t)n[e]=On(t[e]);return n}else return""+t}var en=class t{ngOnInit(){if(this.initialValue&&(this.type.engType==="AGGREGATE"||this.type.engType==="ARRAY"?this.parsedInitialValue=On(JSON.parse(this.initialValue)):this.type.engType==="BOOLEAN"?this.parsedInitialValue=""+(this.initialValue===this.type.oneStringValue):this.parsedInitialValue=this.initialValue),this.templateProvider){let n=this.templateProvider.getAssignment(this.name);n?.type==="AGGREGATE"?this.parsedInitialValue=Te(Te({},this.parsedInitialValue||{}),Qe(n)):n?.type==="ARRAY"&&(this.parsedInitialValue=Qe(n))}}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-argument"]],inputs:{name:"name",description:"description",type:"type",initialValue:"initialValue",templateProvider:"templateProvider"},features:[q([],[{provide:it,useExisting:se}])],decls:9,vars:1,consts:[[3,"name","description","type","initialValue"],[3,"name","description","type","formControlName"]],template:function(e,i){if(e&1&&v(0,Zs,1,4,"app-aggregate-argument",0)(1,Hs,1,4,"app-binary-argument",1)(2,js,1,4,"app-boolean-argument",1)(3,Ks,1,4,"app-enumeration-argument",1)(4,Js,1,4,"app-float-argument",1)(5,el,1,4,"app-integer-argument",1)(6,tl,1,4,"app-string-argument",1)(7,nl,1,4,"app-time-argument",1)(8,il,1,4,"app-array-argument",0),e&2){let r;S((r=i.type.engType)==="aggregate"?0:r==="binary"?1:r==="boolean"?2:r==="enumeration"?3:r==="float"?4:r==="integer"?5:r==="string"?6:r==="time"?7:r===(i.type.engType.endsWith("[]")?i.type.engType:"")?8:-1)}},dependencies:[dt,ct,Re,Ge,Be,Ye,qe,T,$,ie,ze,We],encapsulation:2,changeDetection:0})}};function rl(t,n){t&1&&d(0," No arguments ")}function ol(t,n){t&1&&O(0,"br")}function al(t,n){if(t&1&&(v(0,ol,1,0,"br"),O(1,"app-argument",2)),t&2){let e=n.$implicit,i=n.$index,r=f();S(i!==0?0:-1),l(),u("name",e.name)("description",e.description)("type",e.type)("initialValue",e.initialValue)("templateProvider",r.templateProvider)}}function sl(t,n){t&1&&O(0,"br",3)}function ll(t,n){if(t&1&&(v(0,sl,1,0,"br",3),O(1,"app-argument",4)),t&2){let e=n.$implicit,i=n.$index,r=f();S(i!==0||r.arguments.length?0:-1),l(),u("name",e.name)("description",e.description)("type",e.type)("initialValue",e.initialValue)("templateProvider",r.templateProvider)}}function ml(t,n){t&1&&O(0,"br")}function pl(t,n){t&1&&d(0," argument ")}function cl(t,n){t&1&&d(0," arguments ")}function dl(t,n){if(t&1){let e=ve();v(0,ml,1,0,"br"),p(1,"ya-text-action",5),pe("click",function(){Oe(e);let r=f(2);return Ce(r.showAll$.next(!0))}),d(2),v(3,pl,1,0)(4,cl,1,0),d(5," with defaults "),c()}if(t&2){let e=f(2);S(e.arguments.length?0:-1),l(2),w(" Show ",e.argumentsWithInitial.length," "),l(),S(e.argumentsWithInitial.length===1?3:4)}}function ul(t,n){if(t&1&&(v(0,dl,6,3),E(1,"async")),t&2){let e=f();S(e.argumentsWithInitial.length&&!I(1,1,e.showAll$)?0:-1)}}var ut=class t{constructor(n){this.arguments=[];this.argumentsWithInitial=[];this.showAll$=new J(!1);this.hasArguments$=new J(!1);this.config=n.getConfig(),this.showAll$.next(!this.config.collapseInitializedArguments)}ngOnChanges(){this.formGroup.contains("args")||this.formGroup.addControl("args",new xe({})),this.arguments=[],this.argumentsWithInitial=[],this.showAll$.next(!this.config.collapseInitializedArguments);for(let r in this.argsGroup.controls)this.argsGroup.removeControl(r);if(this.argsGroup.reset(),!this.command)return;let n=[],e=this.command;for(;e;)n.unshift(e),e=e.baseCommand;let i=new Map;for(let r of n){if(r.argument)for(let o of r.argument){if(this.templateProvider){let s=this.templateProvider.getAssignment(o.name);if(s!==void 0){let m=Qe(s),g=o.initialValue;o.type.engType==="boolean"&&g!==void 0&&(g=""+(o.type.oneStringValue===g)),m===g?this.argumentsWithInitial.push(o):this.arguments.push(o);continue}}let a=o.initialValue!==void 0;if(a&&o.type.engType==="aggregate"){let s=JSON.parse(o.initialValue);a=this.isAggregateFullyInitialized(o,s)}a?this.argumentsWithInitial.push(o):this.arguments.push(o)}if(r.argumentAssignment)for(let o of r.argumentAssignment)i.set(o.name,o.value)}this.arguments=this.arguments.filter(r=>!i.has(r.name)),this.argumentsWithInitial=this.argumentsWithInitial.filter(r=>!i.has(r.name));for(let r of this.arguments)this.addControl(r,this.templateProvider);for(let r of this.argumentsWithInitial)this.addControl(r,this.templateProvider);this.hasArguments$.next(this.arguments.length>0||this.argumentsWithInitial.length>0)}get argsGroup(){return this.formGroup.get("args")}addControl(n,e){if(n.type.engType!=="aggregate"){if(!n.type.engType.endsWith("[]")){let i;if(n.type.engType==="boolean"&&n.initialValue?i=""+(n.initialValue===n.type.oneStringValue):i=n.initialValue,e){let r=e.getAssignment(n.name);r!==void 0&&(i=Qe(r))}i===void 0&&(i=""),this.argsGroup.addControl(n.name,new H(i))}}}isArgumentWithInitialValue(n){for(let e of this.argumentsWithInitial)if(e.name===n)return!0;return!1}isAggregateFullyInitialized(n,e){for(let i of n.type.member||[]){if(!e.hasOwnProperty(i.name)&&n.initialValue===void 0)return!1;if(i.type.engType==="aggregate"){let r=e[i.name];if(!this.isAggregateFullyInitialized(i,r))return!1}}return!0}getResult(){let n={};for(let e of[...this.arguments,...this.argumentsWithInitial])if(e.type.engType==="aggregate"){let i=this.argsGroup.get(e.name);n[e.name]=this.getMemberAssignments(i,e.type)}else if(e.type.engType.endsWith("[]")){let i=this.argsGroup.get(e.name);n[e.name]=this.getArrayAssignment(i,e.type.elementType)}else{let i=this.argsGroup.controls[e.name];(!this.isArgumentWithInitialValue(e.name)||i.dirty)&&(e.type.engType==="boolean"?n[e.name]=this.argsGroup.value[e.name]==="true":n[e.name]=String(this.argsGroup.value[e.name]))}return n}getMemberAssignments(n,e){let i={};for(let r of e.member||[])if(r.type.engType==="aggregate"){let o=n.get(r.name);i[r.name]=this.getMemberAssignments(o,r.type)}else if(r.type.engType.endsWith("[]")){let o=n.get(r.name);i[r.name]=this.getArrayAssignment(o,r.type.elementType)}else if(r.type.engType==="boolean"){let o=n.get(r.name);i[r.name]=o.value==="true"}else{let o=n.get(r.name);i[r.name]=o.value}return i}getArrayAssignment(n,e){let i=[];for(let r of n.controls)if(e.engType==="aggregate"){let o=r;i.push(this.getMemberAssignments(o,e))}else if(e.engType.endsWith("[]")){let o=r;i.push(this.getArrayAssignment(o,e))}else e.engType==="boolean"?i.push(r.value==="true"):i.push(r.value);return i}static{this.\u0275fac=function(e){return new(e||t)(F(zt))}}static{this.\u0275cmp=P({type:t,selectors:[["app-command-arguments-form"]],inputs:{formGroup:"formGroup",command:"command",templateProvider:"templateProvider"},features:[_e],decls:10,vars:9,consts:[[3,"formGroup"],["formGroupName","args"],[3,"name","description","type","initialValue","templateProvider"],[1,"hasInitial"],[1,"hasInitial",3,"name","description","type","initialValue","templateProvider"],["icon","double_arrow",3,"click"]],template:function(e,i){e&1&&(ee(0,0),p(1,"div",1),E(2,"async"),v(3,rl,1,0),E(4,"async"),le(5,al,2,6,null,null,ye),le(7,ll,2,6,null,null,ye),v(9,ul,2,3),c(),te()),e&2&&(u("formGroup",i.formGroup),l(),X("showAll",I(2,5,i.showAll$)),l(2),S(I(4,7,i.hasArguments$)?-1:3),l(2),me(i.arguments),l(2),me(i.argumentsWithInitial),l(2),S(i.config.collapseInitializedArguments?9:-1))},dependencies:[en,T,W,Z,fe,se,yr],styles:[".hasInitial[_ngcontent-%COMP%]{display:none}.showAll[_ngcontent-%COMP%]   .hasInitial[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}};var ft=class t{ngOnInit(){this.formGroup.addControl("comment",new ae(""))}ngOnChanges(){this.templateProvider&&this.formGroup.patchValue({comment:this.templateProvider.getComment()||""})}getResult(){return this.formGroup.value.comment||void 0}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-command-comment-form"]],inputs:{formGroup:"formGroup",templateProvider:"templateProvider"},features:[_e],decls:4,vars:1,consts:[[3,"formGroup"],[1,"label"],["formControlName","comment","rows","5",2,"width","100%","resize","none"]],template:function(e,i){e&1&&(ee(0,0),d(1," Attach a comment to this command. "),p(2,"div",1),O(3,"textarea",2),c(),te()),e&2&&u("formGroup",i.formGroup)},dependencies:[T,ce,$,Z,fe,ie],encapsulation:2,changeDetection:0})}};function fl(t,n){t&1&&O(0,"br")}function gl(t,n){if(t&1&&O(0,"span",4),t&2){let e=f(2).$implicit;u("innerHTML",e.help,Dt)}}function hl(t,n){if(t&1&&(p(0,"div",1),d(1),O(2,"br"),v(3,gl,1,1,"span",4),O(4,"br"),p(5,"div",5)(6,"label",6),O(7,"input",7),d(8," true "),c(),p(9,"label",6),O(10,"input",8),d(11," false "),c()()()),t&2){let e=f().$implicit,i=f();l(),w(" ",e.verboseName||e.id," "),l(2),S(e.help?3:-1),l(3),X("checked",i.formGroup.controls["extra__"+e.id].value==="true"),l(),u("formControlName","extra__"+e.id),l(2),X("checked",i.formGroup.controls["extra__"+e.id].value==="false"),l(),u("formControlName","extra__"+e.id)}}function Ol(t,n){if(t&1&&(p(0,"ya-help",9),O(1,"div",11),c()),t&2){let e=f(2).$implicit;u("dialogTitle",e.verboseName||e.id),l(),u("innerHTML",e.help,Dt)}}function Cl(t,n){if(t&1&&(p(0,"div",1),d(1),v(2,Ol,2,2,"ya-help",9),O(3,"ya-date-time-input",10),c()),t&2){let e=f().$implicit;l(),w(" ",e.verboseName||e.id," "),l(),S(e.help?2:-1),l(),u("formControlName","extra__"+e.id)("showMillis",!0)("showClear",!0)("showNow",!0)}}function yl(t,n){if(t&1&&(p(0,"ya-help",9),O(1,"div",11),c()),t&2){let e=f(2).$implicit;u("dialogTitle",e.verboseName||e.id),l(),u("innerHTML",e.help,Dt)}}function xl(t,n){if(t&1&&(p(0,"div",1),d(1),v(2,yl,2,2,"ya-help",9),O(3,"input",12),c()),t&2){let e=f().$implicit;l(),w(" ",e.verboseName||e.id," "),l(),S(e.help?2:-1),l(),u("formControlName","extra__"+e.id)}}function Sl(t,n){t&1&&O(0,"br")}function bl(t,n){if(t&1&&v(0,hl,12,8,"div",1)(1,Cl,4,6,"div",1)(2,xl,4,3,"div",1)(3,Sl,1,0,"br"),t&2){let e,i=n.$implicit,r=n.$index,o=n.$count;S((e=i.type)==="BOOLEAN"?0:e==="TIMESTAMP"?1:2),l(3),S(r!==o-1?3:-1)}}var gt=class t{constructor(n){this.streamOptions$=new J([]);this.commandOptions=n.getCommandOptions();let e=n.getTcStreams().map(i=>({id:i,label:i}));this.streamOptions$.next(e)}ngOnInit(){this.formGroup.addControl("stream",new ae(""));for(let n of this.commandOptions)this.formGroup.addControl("extra__"+n.id,new ae(null))}ngOnChanges(){if(this.templateProvider)for(let n of this.commandOptions||[]){let e=this.templateProvider.getOption(n.id,n.type);e!==void 0&&this.formGroup.controls["extra__"+n.id].setValue(Qe(e))}}getStream(){return this.formGroup.controls.stream.value||void 0}getResult(n=!1){let e={};for(let i in this.formGroup.controls)if(i.startsWith("extra__")){let r=this.formGroup.controls[i];if(r.value!==null){let o=i.replace("extra__","");n?e[o]=this.toStructValue(o,r.value):e[o]=this.toYamcsValue(o,r.value)}}return e}toStructValue(n,e){let i;for(let r of this.commandOptions)r.id===n&&(i=r);switch(i.type){case"BOOLEAN":return e==="true";case"NUMBER":return Number(e);default:return String(e)}}toYamcsValue(n,e){let i;for(let r of this.commandOptions)r.id===n&&(i=r);switch(i.type){case"BOOLEAN":return e==="true"?{type:"BOOLEAN",booleanValue:!0}:{type:"BOOLEAN",booleanValue:!1};case"NUMBER":return{type:"SINT32",sint32Value:Number(e)};default:return{type:"STRING",stringValue:String(e)}}}static{this.\u0275fac=function(e){return new(e||t)(F(zt))}}static{this.\u0275cmp=P({type:t,selectors:[["app-command-options-form"]],inputs:{formGroup:"formGroup",templateProvider:"templateProvider"},features:[_e],decls:12,vars:6,consts:[[3,"formGroup"],[1,"label"],[1,"hint"],["formControlName","stream",3,"options","showClear"],[1,"hint",3,"innerHTML"],[1,"label","radio-group"],[1,"radio"],["type","radio","value","true",3,"formControlName"],["type","radio","value","false",3,"formControlName"],[3,"dialogTitle"],[3,"formControlName","showMillis","showClear","showNow"],[3,"innerHTML"],["type","text",3,"formControlName"]],template:function(e,i){e&1&&(ee(0,0),p(1,"div",1),d(2," Stream "),O(3,"br"),p(4,"span",2),d(5,"Override the stream on which the command should be sent out."),c(),O(6,"br")(7,"ya-select",3),E(8,"async"),c(),v(9,fl,1,0,"br"),le(10,bl,4,2,null,null,ye),te()),e&2&&(u("formGroup",i.formGroup),l(7),u("options",I(8,4,i.streamOptions$))("showClear",!0),l(2),S(i.commandOptions.length?9:-1),l(),me(i.commandOptions))},dependencies:[T,W,ce,Xt,$,Z,fe,ie,Wt,L,lt],encapsulation:2,changeDetection:0})}};function vl(t,n){t&1&&O(0,"input",7)}var ht=class t{constructor(n){this.yamcs=n;this.verifierAcknowledgments=[];this.extraAcknowledgments=[];this.ackOptions=[{id:"",label:"Inherit"},{id:"Acknowledge_Queued",label:"Queued",group:!0},{id:"Acknowledge_Released",label:"Released"},{id:"Acknowledge_Sent",label:"Sent"},{id:"CommandComplete",label:"Completed"}]}ngOnInit(){this.verifierAcknowledgments=[];let n=[],e=this.command;for(;e;)n.unshift(e),e=e.baseCommand;for(let r of n)for(let o of r.verifier??[])this.verifierAcknowledgments.push({name:`Verifier_${o.stage}`});let i=!0;for(let r of this.verifierAcknowledgments)this.ackOptions.push({id:r.name,label:r.name,group:i}),i=!1;this.extraAcknowledgments=this.yamcs.getProcessor()?.acknowledgments??[],i=!0;for(let r of this.extraAcknowledgments)this.ackOptions.push({id:r.name,label:r.name.replace("Acknowledge_",""),group:i}),i=!1;this.ackOptions.push({id:"custom",label:"Custom",group:!0})}ngOnChanges(){if(!this.formGroup.contains("advancement")){let n=new xe({acknowledgment:new ae(""),ackCustom:new ae(""),wait:new ae(null)});this.formGroup.addControl("advancement",n),n.valueChanges.subscribe(e=>{e.acknowledgment!=="custom"&&n.patchValue({ackCustom:void 0},{emitEvent:!1})})}if(this.templateProvider){this.formGroup.patchValue({comment:this.templateProvider.getComment()||"",stream:this.templateProvider.getStream()||""});let n=this.templateProvider.getAdvancementParams();if(n){let e=this.ackOptions.find(a=>a.id===n.acknowledgment),i=e?e.id:"custom",r=i==="custom"?n.acknowledgment:"",o=n.wait??null;this.advancementGroup.patchValue({acknowledgment:i,ackCustom:r,wait:o})}}}get advancementGroup(){return this.formGroup.controls.advancement}get custom(){return this.advancementGroup.controls.acknowledgment.value==="custom"}getResult(){let n=this.advancementGroup.get("acknowledgment")?.value;n==="custom"&&(n=this.advancementGroup.get("ackCustom")?.value?.trim());let e=this.advancementGroup.get("wait")?.value??void 0;if(n||e!==void 0)return{acknowledgment:n,wait:e}}static{this.\u0275fac=function(e){return new(e||t)(F(mt))}}static{this.\u0275cmp=P({type:t,selectors:[["app-stack-advancement-form"]],inputs:{formGroup:"formGroup",command:"command",templateProvider:"templateProvider"},features:[_e],decls:20,vars:5,consts:[["ackSelect",""],[3,"formGroup"],["formGroupName","advancement"],[1,"label"],[3,"verifiers","extra"],[2,"display","flex","align-items","flex-start"],["formControlName","acknowledgment","emptyOption","Inherit",3,"options"],["type","text","formControlName","ackCustom",2,"width","200px","margin-left","-1px"],["dialogTitle","Wait time"],["type","number","formControlName","wait","placeholder","Inherit","step","1000","min","0"]],template:function(e,i){e&1&&(ee(0,1)(1,2),p(2,"div",3),d(3," Advance when "),O(4,"app-advance-ack-help",4)(5,"br"),p(6,"div",5),O(7,"ya-select",6,0),v(9,vl,1,0,"input",7),c()(),O(10,"br"),p(11,"div",3),d(12," Wait (ms) "),p(13,"ya-help",8)(14,"p"),d(15,"Wait time before advancing to the next command in the stack."),c(),p(16,"p"),d(17,"This triggers after successful acknowledgment."),c()(),O(18,"br")(19,"input",9),c(),te()()),e&2&&(u("formGroup",i.formGroup),l(4),u("verifiers",i.verifierAcknowledgments)("extra",i.extraAcknowledgments),l(3),u("options",i.ackOptions),l(2),S(i.custom?9:-1))},dependencies:[Kt,T,ce,di,$,Z,ui,fe,ie,se,L,lt],encapsulation:2,changeDetection:0})}};var rn=class t{static create(n,e,i,r,o){let a=r+(r<<8)+n+(e<<4)|0;return new t(n,e,i,a,o,[],[])}constructor(n,e,i,r,o,a,s){this.type=n,this.value=e,this.from=i,this.hash=r,this.end=o,this.children=a,this.positions=s,this.hashProp=[[Fe.contextHash,r]]}addChild(n,e){n.prop(Fe.contextHash)!=this.hash&&(n=new Xe(n.type,n.children,n.positions,n.length,this.hashProp)),this.children.push(n),this.positions.push(e)}toTree(n,e=this.end){let i=this.children.length-1;return i>=0&&(e=Math.max(e,this.positions[i]+this.children[i].length+this.from)),new Xe(n.types[this.type],this.children,this.positions,e-this.from).balance({makeTree:(r,o,a)=>new Xe(vt.none,r,o,a,this.hashProp)})}},C=function(t){return t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL",t}(C||{}),xn=class{constructor(n,e){this.start=n,this.content=e,this.marks=[],this.parsers=[]}},Sn=class{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let n=this.skipSpace(this.basePos);this.indent=this.countIndent(n,this.pos,this.indent),this.pos=n,this.next=n==this.text.length?-1:this.text.charCodeAt(n)}skipSpace(n){return wt(this.text,n)}reset(n){for(this.text=n,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(n){this.basePos=n,this.baseIndent=this.countIndent(n,this.pos,this.indent)}moveBaseColumn(n){this.baseIndent=n,this.basePos=this.findColumn(n)}addMarker(n){this.markers.push(n)}countIndent(n,e=0,i=0){for(let r=e;r<n;r++)i+=this.text.charCodeAt(r)==9?4-i%4:1;return i}findColumn(n){let e=0;for(let i=0;e<this.text.length&&i<n;e++)i+=this.text.charCodeAt(e)==9?4-i%4:1;return e}scrub(){if(!this.baseIndent)return this.text;let n="";for(let e=0;e<this.basePos;e++)n+=" ";return n+this.text.slice(this.basePos)}};function $r(t,n,e){if(e.pos==e.text.length||t!=n.block&&e.indent>=n.stack[e.depth+1].value+e.baseIndent)return!0;if(e.indent>=e.baseIndent+4)return!1;let i=(t.type==C.OrderedList?$n:Mn)(e,n,!1);return i>0&&(t.type!=C.BulletList||Qn(e,n,!1)<0)&&e.text.charCodeAt(e.pos+i-1)==t.value}var zr={[C.Blockquote](t,n,e){return e.next!=62?!1:(e.markers.push(Q(C.QuoteMark,n.lineStart+e.pos,n.lineStart+e.pos+1)),e.moveBase(e.pos+(be(e.text.charCodeAt(e.pos+1))?2:1)),t.end=n.lineStart+e.text.length,!0)},[C.ListItem](t,n,e){return e.indent<e.baseIndent+t.value&&e.next>-1?!1:(e.moveBaseColumn(e.baseIndent+t.value),!0)},[C.OrderedList]:$r,[C.BulletList]:$r,[C.Document](){return!0}};function be(t){return t==32||t==9||t==10||t==13}function wt(t,n=0){for(;n<t.length&&be(t.charCodeAt(n));)n++;return n}function Nr(t,n,e){for(;n>e&&be(t.charCodeAt(n-1));)n--;return n}function Wr(t){if(t.next!=96&&t.next!=126)return-1;let n=t.pos+1;for(;n<t.text.length&&t.text.charCodeAt(n)==t.next;)n++;if(n<t.pos+3)return-1;if(t.next==96){for(let e=n;e<t.text.length;e++)if(t.text.charCodeAt(e)==96)return-1}return n}function Ur(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function Qn(t,n,e){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let i=1;for(let r=t.pos+1;r<t.text.length;r++){let o=t.text.charCodeAt(r);if(o==t.next)i++;else if(!be(o))return-1}return e&&t.next==45&&jr(t)>-1&&t.depth==n.stack.length&&n.parser.leafBlockParsers.indexOf(to.SetextHeading)>-1||i<3?-1:1}function Zr(t,n){for(let e=t.stack.length-1;e>=0;e--)if(t.stack[e].type==n)return!0;return!1}function Mn(t,n,e){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||be(t.text.charCodeAt(t.pos+1)))&&(!e||Zr(n,C.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function $n(t,n,e){let i=t.pos,r=t.next;for(;r>=48&&r<=57;){i++;if(i==t.text.length)return-1;r=t.text.charCodeAt(i)}return i==t.pos||i>t.pos+9||r!=46&&r!=41||i<t.text.length-1&&!be(t.text.charCodeAt(i+1))||e&&!Zr(n,C.OrderedList)&&(t.skipSpace(i+1)==t.text.length||i>t.pos+1||t.next!=49)?-1:i+1-t.pos}function Hr(t){if(t.next!=35)return-1;let n=t.pos+1;for(;n<t.text.length&&t.text.charCodeAt(n)==35;)n++;if(n<t.text.length&&t.text.charCodeAt(n)!=32)return-1;let e=n-t.pos;return e>6?-1:e}function jr(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let n=t.pos+1;for(;n<t.text.length&&t.text.charCodeAt(n)==t.next;)n++;let e=n;for(;n<t.text.length&&be(t.text.charCodeAt(n));)n++;return n==t.text.length?e:-1}var bn=/^[ \t]*$/,Kr=/-->/,Jr=/\?>/,vn=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,Kr],[/^\s*<\?/,Jr],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,bn],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,bn]];function eo(t,n,e){if(t.next!=60)return-1;let i=t.text.slice(t.pos);for(let r=0,o=vn.length-(e?1:0);r<o;r++)if(vn[r][0].test(i))return r;return-1}function Dr(t,n){let e=t.countIndent(n,t.pos,t.indent),i=t.countIndent(t.skipSpace(n),n,e);return i>=e+5?e+1:i}function Je(t,n,e){let i=t.length-1;i>=0&&t[i].to==n&&t[i].type==C.CodeText?t[i].to=e:t.push(Q(C.CodeText,n,e))}var tn={LinkReference:void 0,IndentedCode(t,n){let e=n.baseIndent+4;if(n.indent<e)return!1;let i=n.findColumn(e),r=t.lineStart+i,o=t.lineStart+n.text.length,a=[],s=[];for(Je(a,r,o);t.nextLine()&&n.depth>=t.stack.length;)if(n.pos==n.text.length){Je(s,t.lineStart-1,t.lineStart);for(let m of n.markers)s.push(m)}else{if(n.indent<e)break;{if(s.length){for(let g of s)g.type==C.CodeText?Je(a,g.from,g.to):a.push(g);s=[]}Je(a,t.lineStart-1,t.lineStart);for(let g of n.markers)a.push(g);o=t.lineStart+n.text.length;let m=t.lineStart+n.findColumn(n.baseIndent+4);m<o&&Je(a,m,o)}}return s.length&&(s=s.filter(m=>m.type!=C.CodeText),s.length&&(n.markers=s.concat(n.markers))),t.addNode(t.buffer.writeElements(a,-r).finish(C.CodeBlock,o-r),r),!0},FencedCode(t,n){let e=Wr(n);if(e<0)return!1;let i=t.lineStart+n.pos,r=n.next,o=e-n.pos,a=n.skipSpace(e),s=Nr(n.text,n.text.length,a),m=[Q(C.CodeMark,i,i+o)];a<s&&m.push(Q(C.CodeInfo,t.lineStart+a,t.lineStart+s));for(let g=!0;t.nextLine()&&n.depth>=t.stack.length;g=!1){let h=n.pos;if(n.indent-n.baseIndent<4)for(;h<n.text.length&&n.text.charCodeAt(h)==r;)h++;if(h-n.pos>=o&&n.skipSpace(h)==n.text.length){for(let b of n.markers)m.push(b);m.push(Q(C.CodeMark,t.lineStart+n.pos,t.lineStart+h)),t.nextLine();break}else{g||Je(m,t.lineStart-1,t.lineStart);for(let _ of n.markers)m.push(_);let b=t.lineStart+n.basePos,x=t.lineStart+n.text.length;b<x&&Je(m,b,x)}}return t.addNode(t.buffer.writeElements(m,-i).finish(C.FencedCode,t.prevLineEnd()-i),i),!0},Blockquote(t,n){let e=Ur(n);return e<0?!1:(t.startContext(C.Blockquote,n.pos),t.addNode(C.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1),n.moveBase(n.pos+e),null)},HorizontalRule(t,n){if(Qn(n,t,!1)<0)return!1;let e=t.lineStart+n.pos;return t.nextLine(),t.addNode(C.HorizontalRule,e),!0},BulletList(t,n){let e=Mn(n,t,!1);if(e<0)return!1;t.block.type!=C.BulletList&&t.startContext(C.BulletList,n.basePos,n.next);let i=Dr(n,n.pos+1);return t.startContext(C.ListItem,n.basePos,i-n.baseIndent),t.addNode(C.ListMark,t.lineStart+n.pos,t.lineStart+n.pos+e),n.moveBaseColumn(i),null},OrderedList(t,n){let e=$n(n,t,!1);if(e<0)return!1;t.block.type!=C.OrderedList&&t.startContext(C.OrderedList,n.basePos,n.text.charCodeAt(n.pos+e-1));let i=Dr(n,n.pos+e);return t.startContext(C.ListItem,n.basePos,i-n.baseIndent),t.addNode(C.ListMark,t.lineStart+n.pos,t.lineStart+n.pos+e),n.moveBaseColumn(i),null},ATXHeading(t,n){let e=Hr(n);if(e<0)return!1;let i=n.pos,r=t.lineStart+i,o=Nr(n.text,n.text.length,i),a=o;for(;a>i&&n.text.charCodeAt(a-1)==n.next;)a--;(a==o||a==i||!be(n.text.charCodeAt(a-1)))&&(a=n.text.length);let s=t.buffer.write(C.HeaderMark,0,e).writeElements(t.parser.parseInline(n.text.slice(i+e+1,a),r+e+1),-r);a<n.text.length&&s.write(C.HeaderMark,a-i,o-i);let m=s.finish(C.ATXHeading1-1+e,n.text.length-i);return t.nextLine(),t.addNode(m,r),!0},HTMLBlock(t,n){let e=eo(n,t,!1);if(e<0)return!1;let i=t.lineStart+n.pos,r=vn[e][1],o=[],a=r!=bn;for(;!r.test(n.text)&&t.nextLine();){if(n.depth<t.stack.length){a=!1;break}for(let g of n.markers)o.push(g)}a&&t.nextLine();let s=r==Kr?C.CommentBlock:r==Jr?C.ProcessingInstructionBlock:C.HTMLBlock,m=t.prevLineEnd();return t.addNode(t.buffer.writeElements(o,-i).finish(s,m-i),i),!0},SetextHeading:void 0},_n=class{constructor(n){this.stage=0,this.elts=[],this.pos=0,this.start=n.start,this.advance(n.content)}nextLine(n,e,i){if(this.stage==-1)return!1;let r=i.content+`
`+e.scrub(),o=this.advance(r);return o>-1&&o<r.length?this.complete(n,i,o):!1}finish(n,e){return(this.stage==2||this.stage==3)&&wt(e.content,this.pos)==e.content.length?this.complete(n,e,e.content.length):!1}complete(n,e,i){return n.addLeafElement(e,Q(C.LinkReference,this.start,this.start+i,this.elts)),!0}nextStage(n){return n?(this.pos=n.to-this.start,this.elts.push(n),this.stage++,!0):(n===!1&&(this.stage=-1),!1)}advance(n){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(lo(n,this.pos,this.start,!0)))return-1;if(n.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(Q(C.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(ao(n,wt(n,this.pos),this.start)))return-1}else if(this.stage==2){let e=wt(n,this.pos),i=0;if(e>this.pos){let r=so(n,e,this.start);if(r){let o=Cn(n,r.to-this.start);o>0&&(this.nextStage(r),i=o)}}return i||(i=Cn(n,this.pos)),i>0&&i<n.length?i:-1}else return Cn(n,this.pos)}}};function Cn(t,n){for(;n<t.length;n++){let e=t.charCodeAt(n);if(e==10)break;if(!be(e))return-1}return n}var kn=class{nextLine(n,e,i){let r=e.depth<n.stack.length?-1:jr(e),o=e.next;if(r<0)return!1;let a=Q(C.HeaderMark,n.lineStart+e.pos,n.lineStart+r);return n.nextLine(),n.addLeafElement(i,Q(o==61?C.SetextHeading1:C.SetextHeading2,i.start,n.prevLineEnd(),[...n.parser.parseInline(i.content,i.start),a])),!0}finish(){return!1}},to={LinkReference(t,n){return n.content.charCodeAt(0)==91?new _n(n):null},SetextHeading(){return new kn}},_l=[(t,n)=>Hr(n)>=0,(t,n)=>Wr(n)>=0,(t,n)=>Ur(n)>=0,(t,n)=>Mn(n,t,!0)>=0,(t,n)=>$n(n,t,!0)>=0,(t,n)=>Qn(n,t,!0)>=0,(t,n)=>eo(n,t,!0)>=0],kl={text:"",end:0},wn=class{constructor(n,e,i,r){this.parser=n,this.input=e,this.ranges=r,this.line=new Sn,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=r[r.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=r[0].from,this.block=rn.create(C.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=i.length?new Vn(i,e):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:n}=this;for(;;){for(let i=0;;){let r=n.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;i<n.markers.length&&(!r||n.markers[i].from<r.end);){let o=n.markers[i++];this.addNode(o.type,o.from,o.to)}if(!r)break;this.finishContext()}if(n.pos<n.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(n.basePos))return null;e:for(;;){for(let i of this.parser.blockParsers)if(i){let r=i(this,n);if(r!=!1){if(r==!0)return null;n.forward();continue e}}break}let e=new xn(this.lineStart+n.pos,n.text.slice(n.pos));for(let i of this.parser.leafBlockParsers)if(i){let r=i(this,e);r&&e.parsers.push(r)}e:for(;this.nextLine()&&n.pos!=n.text.length;){if(n.indent<n.baseIndent+4){for(let i of this.parser.endLeafBlock)if(i(this,n,e))break e}for(let i of e.parsers)if(i.nextLine(this,n,e))return null;e.content+=`
`+n.scrub();for(let i of n.markers)e.marks.push(i)}return this.finishLeaf(e),null}stopAt(n){if(this.stoppedAt!=null&&this.stoppedAt<n)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=n}reuseFragment(n){if(!this.fragments.moveTo(this.absoluteLineStart+n,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let e=this.fragments.takeNodes(this);return e?(this.absoluteLineStart+=e,this.lineStart=mo(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(n=this.depth-1){return this.parser.nodeSet.types[this.stack[n].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(n){let e=kl;if(e.end=n,n>=this.to)e.text="";else if(e.text=this.lineChunkAt(n),e.end+=e.text.length,this.ranges.length>1){let i=this.absoluteLineStart,r=this.rangeI;for(;this.ranges[r].to<e.end;){r++;let o=this.ranges[r].from,a=this.lineChunkAt(o);e.end=o+a.length,e.text=e.text.slice(0,this.ranges[r-1].to-i)+a,i=e.end-e.text.length}}return e}readLine(){let{line:n}=this,{text:e,end:i}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=i,n.reset(e);n.depth<this.stack.length;n.depth++){let r=this.stack[n.depth],o=this.parser.skipContextMarkup[r.type];if(!o)throw new Error("Unhandled block context "+C[r.type]);if(!o(r,this,n))break;n.forward()}}lineChunkAt(n){let e=this.input.chunk(n),i;if(this.input.lineChunks)i=e==`
`?"":e;else{let r=e.indexOf(`
`);i=r<0?e:e.slice(0,r)}return n+i.length>this.to?i.slice(0,this.to-n):i}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(n,e,i=0){this.block=rn.create(n,i,this.lineStart+e,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(n,e,i=0){this.startContext(this.parser.getNodeType(n),e,i)}addNode(n,e,i){typeof n=="number"&&(n=new Xe(this.parser.nodeSet.types[n],Ct,Ct,(i??this.prevLineEnd())-e)),this.block.addChild(n,e-this.block.from)}addElement(n){this.block.addChild(n.toTree(this.parser.nodeSet),n.from-this.block.from)}addLeafElement(n,e){this.addNode(this.buffer.writeElements(En(e.children,n.marks),-e.from).finish(e.type,e.to-e.from),e.from)}finishContext(){let n=this.stack.pop(),e=this.stack[this.stack.length-1];e.addChild(n.toTree(this.parser.nodeSet),n.from-e.from),this.block=e}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(n){return this.ranges.length>1?no(this.ranges,0,n.topNode,this.ranges[0].from,this.reusePlaceholders):n}finishLeaf(n){for(let i of n.parsers)if(i.finish(this,n))return;let e=En(this.parser.parseInline(n.content,n.start),n.marks);this.addNode(this.buffer.writeElements(e,-n.start).finish(C.Paragraph,n.content.length),n.start)}elt(n,e,i,r){return typeof n=="string"?Q(this.parser.getNodeType(n),e,i,r):new an(n,e)}get buffer(){return new on(this.parser.nodeSet)}};function no(t,n,e,i,r){let o=t[n].to,a=[],s=[],m=e.from+i;function g(h,b){for(;b?h>=o:h>o;){let x=t[n+1].from-o;i+=x,h+=x,n++,o=t[n].to}}for(let h=e.firstChild;h;h=h.nextSibling){g(h.from+i,!0);let b=h.from+i,x,_=r.get(h.tree);_?x=_:h.to+i>o?(x=no(t,n,h,i,r),g(h.to+i,!1)):x=h.toTree(),a.push(x),s.push(b-m)}return g(e.to+i,!1),new Xe(e.type,a,s,e.to+i-m,e.tree?e.tree.propValues:void 0)}var Tt=class t extends _i{constructor(n,e,i,r,o,a,s,m,g){super(),this.nodeSet=n,this.blockParsers=e,this.leafBlockParsers=i,this.blockNames=r,this.endLeafBlock=o,this.skipContextMarkup=a,this.inlineParsers=s,this.inlineNames=m,this.wrappers=g,this.nodeTypes=Object.create(null);for(let h of n.types)this.nodeTypes[h.name]=h.id}createParse(n,e,i){let r=new wn(this,n,e,i);for(let o of this.wrappers)r=o(r,n,e,i);return r}configure(n){let e=Pn(n);if(!e)return this;let{nodeSet:i,skipContextMarkup:r}=this,o=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),s=this.blockNames.slice(),m=this.inlineParsers.slice(),g=this.inlineNames.slice(),h=this.endLeafBlock.slice(),b=this.wrappers;if(kt(e.defineNodes)){r=Object.assign({},r);let x=i.types.slice(),_;for(let A of e.defineNodes){let{name:V,block:N,composite:z,style:D}=typeof A=="string"?{name:A}:A;if(x.some(Ue=>Ue.name==V))continue;z&&(r[x.length]=(Ue,Sa,ba)=>z(Sa,ba,Ue.value));let $e=x.length,tt=z?["Block","BlockContext"]:N?$e>=C.ATXHeading1&&$e<=C.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;x.push(vt.define({id:$e,name:V,props:tt&&[[Fe.group,tt]]})),D&&(_||(_={}),Array.isArray(D)||D instanceof ki?_[V]=D:Object.assign(_,D))}i=new gn(x),_&&(i=i.extend(He(_)))}if(kt(e.props)&&(i=i.extend(...e.props)),kt(e.remove))for(let x of e.remove){let _=this.blockNames.indexOf(x),A=this.inlineNames.indexOf(x);_>-1&&(o[_]=a[_]=void 0),A>-1&&(m[A]=void 0)}if(kt(e.parseBlock))for(let x of e.parseBlock){let _=s.indexOf(x.name);if(_>-1)o[_]=x.parse,a[_]=x.leaf;else{let A=x.before?nn(s,x.before):x.after?nn(s,x.after)+1:s.length-1;o.splice(A,0,x.parse),a.splice(A,0,x.leaf),s.splice(A,0,x.name)}x.endLeaf&&h.push(x.endLeaf)}if(kt(e.parseInline))for(let x of e.parseInline){let _=g.indexOf(x.name);if(_>-1)m[_]=x.parse;else{let A=x.before?nn(g,x.before):x.after?nn(g,x.after)+1:g.length-1;m.splice(A,0,x.parse),g.splice(A,0,x.name)}}return e.wrap&&(b=b.concat(e.wrap)),new t(i,o,a,s,h,r,m,g,b)}getNodeType(n){let e=this.nodeTypes[n];if(e==null)throw new RangeError(`Unknown node type '${n}'`);return e}parseInline(n,e){let i=new An(this,n,e);e:for(let r=e;r<i.end;){let o=i.char(r);for(let a of this.inlineParsers)if(a){let s=a(i,o,r);if(s>=0){r=s;continue e}}r++}return i.resolveMarkers(0)}};function kt(t){return t!=null&&t.length>0}function Pn(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let n=Pn(t[0]);if(t.length==1)return n;let e=Pn(t.slice(1));if(!e||!n)return n||e;let i=(a,s)=>(a||Ct).concat(s||Ct),r=n.wrap,o=e.wrap;return{props:i(n.props,e.props),defineNodes:i(n.defineNodes,e.defineNodes),parseBlock:i(n.parseBlock,e.parseBlock),parseInline:i(n.parseInline,e.parseInline),remove:i(n.remove,e.remove),wrap:r?o?(a,s,m,g)=>r(o(a,s,m,g),s,m,g):r:o}}function nn(t,n){let e=t.indexOf(n);if(e<0)throw new RangeError(`Position specified relative to unknown parser ${n}`);return e}var io=[vt.none];for(let t=1,n;n=C[t];t++)io[t]=vt.define({id:t,name:n,props:t>=C.Escape?[]:[[Fe.group,t in zr?["Block","BlockContext"]:["Block","LeafBlock"]]],top:n=="Document"});var Ct=[],on=class{constructor(n){this.nodeSet=n,this.content=[],this.nodes=[]}write(n,e,i,r=0){return this.content.push(n,e,i,4+r*4),this}writeElements(n,e=0){for(let i of n)i.writeTo(this,e);return this}finish(n,e){return Xe.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:n,length:e})}},et=class{constructor(n,e,i,r=Ct){this.type=n,this.from=e,this.to=i,this.children=r}writeTo(n,e){let i=n.content.length;n.writeElements(this.children,e),n.content.push(this.type,this.from+e,this.to+e,n.content.length+4-i)}toTree(n){return new on(n).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}},an=class{constructor(n,e){this.tree=n,this.from=e}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Ct}writeTo(n,e){n.nodes.push(this.tree),n.content.push(n.nodes.length-1,this.from+e,this.to+e,-1)}toTree(){return this.tree}};function Q(t,n,e,i){return new et(t,n,e,i)}var ro={resolve:"Emphasis",mark:"EmphasisMark"},oo={resolve:"Emphasis",mark:"EmphasisMark"},Ot={},Tn={},ge=class{constructor(n,e,i,r){this.type=n,this.from=e,this.to=i,this.side=r}},Fr="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",At=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{At=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}var yn={Escape(t,n,e){if(n!=92||e==t.end-1)return-1;let i=t.char(e+1);for(let r=0;r<Fr.length;r++)if(Fr.charCodeAt(r)==i)return t.append(Q(C.Escape,e,e+2));return-1},Entity(t,n,e){if(n!=38)return-1;let i=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(e+1,e+31));return i?t.append(Q(C.Entity,e,e+1+i[0].length)):-1},InlineCode(t,n,e){if(n!=96||e&&t.char(e-1)==96)return-1;let i=e+1;for(;i<t.end&&t.char(i)==96;)i++;let r=i-e,o=0;for(;i<t.end;i++)if(t.char(i)==96){if(o++,o==r&&t.char(i+1)!=96)return t.append(Q(C.InlineCode,e,i+1,[Q(C.CodeMark,e,e+r),Q(C.CodeMark,i+1-r,i+1)]))}else o=0;return-1},HTMLTag(t,n,e){if(n!=60||e==t.end-1)return-1;let i=t.slice(e+1,t.end),r=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(i);if(r)return t.append(Q(C.Autolink,e,e+1+r[0].length,[Q(C.LinkMark,e,e+1),Q(C.URL,e+1,e+r[0].length),Q(C.LinkMark,e+r[0].length,e+1+r[0].length)]));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(i);if(o)return t.append(Q(C.Comment,e,e+1+o[0].length));let a=/^\?[^]*?\?>/.exec(i);if(a)return t.append(Q(C.ProcessingInstruction,e,e+1+a[0].length));let s=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(i);return s?t.append(Q(C.HTMLTag,e,e+1+s[0].length)):-1},Emphasis(t,n,e){if(n!=95&&n!=42)return-1;let i=e+1;for(;t.char(i)==n;)i++;let r=t.slice(e-1,e),o=t.slice(i,i+1),a=At.test(r),s=At.test(o),m=/\s|^$/.test(r),g=/\s|^$/.test(o),h=!g&&(!s||m||a),b=!m&&(!a||g||s),x=h&&(n==42||!b||a),_=b&&(n==42||!h||s);return t.append(new ge(n==95?ro:oo,e,i,(x?1:0)|(_?2:0)))},HardBreak(t,n,e){if(n==92&&t.char(e+1)==10)return t.append(Q(C.HardBreak,e,e+2));if(n==32){let i=e+1;for(;t.char(i)==32;)i++;if(t.char(i)==10&&i>=e+2)return t.append(Q(C.HardBreak,e,i+1))}return-1},Link(t,n,e){return n==91?t.append(new ge(Ot,e,e+1,1)):-1},Image(t,n,e){return n==33&&t.char(e+1)==91?t.append(new ge(Tn,e,e+2,1)):-1},LinkEnd(t,n,e){if(n!=93)return-1;for(let i=t.parts.length-1;i>=0;i--){let r=t.parts[i];if(r instanceof ge&&(r.type==Ot||r.type==Tn)){if(!r.side||t.skipSpace(r.to)==e&&!/[(\[]/.test(t.slice(e+1,e+2)))return t.parts[i]=null,-1;let o=t.takeContent(i),a=t.parts[i]=wl(t,o,r.type==Ot?C.Link:C.Image,r.from,e+1);if(r.type==Ot)for(let s=0;s<i;s++){let m=t.parts[s];m instanceof ge&&m.type==Ot&&(m.side=0)}return a.to}}return-1}};function wl(t,n,e,i,r){let{text:o}=t,a=t.char(r),s=r;if(n.unshift(Q(C.LinkMark,i,i+(e==C.Image?2:1))),n.push(Q(C.LinkMark,r-1,r)),a==40){let m=t.skipSpace(r+1),g=ao(o,m-t.offset,t.offset),h;g&&(m=t.skipSpace(g.to),m!=g.to&&(h=so(o,m-t.offset,t.offset),h&&(m=t.skipSpace(h.to)))),t.char(m)==41&&(n.push(Q(C.LinkMark,r,r+1)),s=m+1,g&&n.push(g),h&&n.push(h),n.push(Q(C.LinkMark,m,s)))}else if(a==91){let m=lo(o,r-t.offset,t.offset,!1);m&&(n.push(m),s=m.to)}return Q(e,i,s,n)}function ao(t,n,e){if(t.charCodeAt(n)==60){for(let r=n+1;r<t.length;r++){let o=t.charCodeAt(r);if(o==62)return Q(C.URL,n+e,r+1+e);if(o==60||o==10)return!1}return null}else{let r=0,o=n;for(let a=!1;o<t.length;o++){let s=t.charCodeAt(o);if(be(s))break;if(a)a=!1;else if(s==40)r++;else if(s==41){if(!r)break;r--}else s==92&&(a=!0)}return o>n?Q(C.URL,n+e,o+e):o==t.length?null:!1}}function so(t,n,e){let i=t.charCodeAt(n);if(i!=39&&i!=34&&i!=40)return!1;let r=i==40?41:i;for(let o=n+1,a=!1;o<t.length;o++){let s=t.charCodeAt(o);if(a)a=!1;else{if(s==r)return Q(C.LinkTitle,n+e,o+1+e);s==92&&(a=!0)}}return null}function lo(t,n,e,i){for(let r=!1,o=n+1,a=Math.min(t.length,o+999);o<a;o++){let s=t.charCodeAt(o);if(r)r=!1;else{if(s==93)return i?!1:Q(C.LinkLabel,n+e,o+1+e);if(i&&!be(s)&&(i=!1),s==91)return!1;s==92&&(r=!0)}}return null}var An=class{constructor(n,e,i){this.parser=n,this.text=e,this.offset=i,this.parts=[]}char(n){return n>=this.end?-1:this.text.charCodeAt(n-this.offset)}get end(){return this.offset+this.text.length}slice(n,e){return this.text.slice(n-this.offset,e-this.offset)}append(n){return this.parts.push(n),n.to}addDelimiter(n,e,i,r,o){return this.append(new ge(n,e,i,(r?1:0)|(o?2:0)))}get hasOpenLink(){for(let n=this.parts.length-1;n>=0;n--){let e=this.parts[n];if(e instanceof ge&&(e.type==Ot||e.type==Tn))return!0}return!1}addElement(n){return this.append(n)}resolveMarkers(n){for(let i=n;i<this.parts.length;i++){let r=this.parts[i];if(!(r instanceof ge&&r.type.resolve&&r.side&2))continue;let o=r.type==ro||r.type==oo,a=r.to-r.from,s,m=i-1;for(;m>=n;m--){let V=this.parts[m];if(V instanceof ge&&V.side&1&&V.type==r.type&&!(o&&(r.side&1||V.side&2)&&(V.to-V.from+a)%3==0&&((V.to-V.from)%3||a%3))){s=V;break}}if(!s)continue;let g=r.type.resolve,h=[],b=s.from,x=r.to;if(o){let V=Math.min(2,s.to-s.from,a);b=s.to-V,x=r.from+V,g=V==1?"Emphasis":"StrongEmphasis"}s.type.mark&&h.push(this.elt(s.type.mark,b,s.to));for(let V=m+1;V<i;V++)this.parts[V]instanceof et&&h.push(this.parts[V]),this.parts[V]=null;r.type.mark&&h.push(this.elt(r.type.mark,r.from,x));let _=this.elt(g,b,x,h);this.parts[m]=o&&s.from!=b?new ge(s.type,s.from,b,s.side):null,(this.parts[i]=o&&r.to!=x?new ge(r.type,x,r.to,r.side):null)?this.parts.splice(i,0,_):this.parts[i]=_}let e=[];for(let i=n;i<this.parts.length;i++){let r=this.parts[i];r instanceof et&&e.push(r)}return e}findOpeningDelimiter(n){for(let e=this.parts.length-1;e>=0;e--){let i=this.parts[e];if(i instanceof ge&&i.type==n)return e}return null}takeContent(n){let e=this.resolveMarkers(n);return this.parts.length=n,e}skipSpace(n){return wt(this.text,n-this.offset)+this.offset}elt(n,e,i,r){return typeof n=="string"?Q(this.parser.getNodeType(n),e,i,r):new an(n,e)}};function En(t,n){if(!n.length)return t;if(!t.length)return n;let e=t.slice(),i=0;for(let r of n){for(;i<e.length&&e[i].to<r.to;)i++;if(i<e.length&&e[i].from<r.from){let o=e[i];o instanceof et&&(e[i]=new et(o.type,o.from,o.to,En(o.children,[r])))}else e.splice(i++,0,r)}return e}var Pl=[C.CodeBlock,C.ListItem,C.OrderedList,C.BulletList],Vn=class{constructor(n,e){this.fragments=n,this.input=e,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,n.length&&(this.fragment=n[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(n,e){for(;this.fragment&&this.fragment.to<=n;)this.nextFragment();if(!this.fragment||this.fragment.from>(n?n-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let i=this.cursor;i||(i=this.cursor=this.fragment.tree.cursor(),i.firstChild());let r=n+this.fragment.offset;for(;i.to<=r;)if(!i.parent())return!1;for(;;){if(i.from>=r)return this.fragment.from<=e;if(!i.childAfter(r))return!1}}matches(n){let e=this.cursor.tree;return e&&e.prop(Fe.contextHash)==n}takeNodes(n){let e=this.cursor,i=this.fragment.offset,r=this.fragmentEnd-(this.fragment.openEnd?1:0),o=n.absoluteLineStart,a=o,s=n.block.children.length,m=a,g=s;for(;;){if(e.to-i>r){if(e.type.isAnonymous&&e.firstChild())continue;break}let h=mo(e.from-i,n.ranges);if(e.to-i<=n.ranges[n.rangeI].to)n.addNode(e.tree,h);else{let b=new Xe(n.parser.nodeSet.types[C.Paragraph],[],[],0,n.block.hashProp);n.reusePlaceholders.set(b,e.tree),n.addNode(b,h)}if(e.type.is("Block")&&(Pl.indexOf(e.type.id)<0?(a=e.to-i,s=n.block.children.length):(a=m,s=g,m=e.to-i,g=n.block.children.length)),!e.nextSibling())break}for(;n.block.children.length>s;)n.block.children.pop(),n.block.positions.pop();return a-o}};function mo(t,n){let e=t;for(let i=1;i<n.length;i++){let r=n[i-1].to,o=n[i].from;r<t&&(e-=o-r)}return e}var Tl=He({"Blockquote/...":y.quote,HorizontalRule:y.contentSeparator,"ATXHeading1/... SetextHeading1/...":y.heading1,"ATXHeading2/... SetextHeading2/...":y.heading2,"ATXHeading3/...":y.heading3,"ATXHeading4/...":y.heading4,"ATXHeading5/...":y.heading5,"ATXHeading6/...":y.heading6,"Comment CommentBlock":y.comment,Escape:y.escape,Entity:y.character,"Emphasis/...":y.emphasis,"StrongEmphasis/...":y.strong,"Link/... Image/...":y.link,"OrderedList/... BulletList/...":y.list,"BlockQuote/...":y.quote,"InlineCode CodeText":y.monospace,"URL Autolink":y.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":y.processingInstruction,"CodeInfo LinkLabel":y.labelName,LinkTitle:y.string,Paragraph:y.content}),po=new Tt(new gn(io).extend(Tl),Object.keys(tn).map(t=>tn[t]),Object.keys(tn).map(t=>to[t]),Object.keys(tn),_l,zr,Object.keys(yn).map(t=>yn[t]),Object.keys(yn),[]);function Al(t,n,e){let i=[];for(let r=t.firstChild,o=n;;r=r.nextSibling){let a=r?r.from:e;if(a>o&&i.push({from:o,to:a}),!r)break;o=r.to}return i}function co(t){let{codeParser:n,htmlParser:e}=t;return{wrap:Gt((r,o)=>{let a=r.type.id;if(n&&(a==C.CodeBlock||a==C.FencedCode)){let s="";if(a==C.FencedCode){let g=r.node.getChild(C.CodeInfo);g&&(s=o.read(g.from,g.to))}let m=n(s);if(m)return{parser:m,overlay:g=>g.type.id==C.CodeText}}else if(e&&(a==C.HTMLBlock||a==C.HTMLTag))return{parser:e,overlay:Al(r.node,r.from,r.to)};return null})}}var El={resolve:"Strikethrough",mark:"StrikethroughMark"},Vl={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":y.strikethrough}},{name:"StrikethroughMark",style:y.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,n,e){if(n!=126||t.char(e+1)!=126||t.char(e+2)==126)return-1;let i=t.slice(e-1,e),r=t.slice(e+2,e+3),o=/\s|^$/.test(i),a=/\s|^$/.test(r),s=At.test(i),m=At.test(r);return t.addDelimiter(El,e,e+2,!a&&(!m||o||s),!o&&(!s||a||m))},after:"Emphasis"}]};function Pt(t,n,e=0,i,r=0){let o=0,a=!0,s=-1,m=-1,g=!1,h=()=>{i.push(t.elt("TableCell",r+s,r+m,t.parser.parseInline(n.slice(s,m),r+s)))};for(let b=e;b<n.length;b++){let x=n.charCodeAt(b);x==124&&!g?((!a||s>-1)&&o++,a=!1,i&&(s>-1&&h(),i.push(t.elt("TableDelimiter",b+r,b+r+1))),s=m=-1):(g||x!=32&&x!=9)&&(s<0&&(s=b),m=b+1),g=!g&&x==92}return s>-1&&(o++,i&&h()),o}function Xr(t,n){for(let e=n;e<t.length;e++){let i=t.charCodeAt(e);if(i==124)return!0;i==92&&e++}return!1}var uo=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/,sn=class{constructor(){this.rows=null}nextLine(n,e,i){if(this.rows==null){this.rows=!1;let r;if((e.next==45||e.next==58||e.next==124)&&uo.test(r=e.text.slice(e.pos))){let o=[];Pt(n,i.content,0,o,i.start)==Pt(n,r,e.pos)&&(this.rows=[n.elt("TableHeader",i.start,i.start+i.content.length,o),n.elt("TableDelimiter",n.lineStart+e.pos,n.lineStart+e.text.length)])}}else if(this.rows){let r=[];Pt(n,e.text,e.pos,r,n.lineStart),this.rows.push(n.elt("TableRow",n.lineStart+e.pos,n.lineStart+e.text.length,r))}return!1}finish(n,e){return this.rows?(n.addLeafElement(e,n.elt("Table",e.start,e.start+e.content.length,this.rows)),!0):!1}},Il={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":y.heading}},"TableRow",{name:"TableCell",style:y.content},{name:"TableDelimiter",style:y.processingInstruction}],parseBlock:[{name:"Table",leaf(t,n){return Xr(n.content,0)?new sn:null},endLeaf(t,n,e){if(e.parsers.some(r=>r instanceof sn)||!Xr(n.text,n.basePos))return!1;let i=t.peekLine();return uo.test(i)&&Pt(t,n.text,n.basePos)==Pt(t,i,n.basePos)},before:"SetextHeading"}]},In=class{nextLine(){return!1}finish(n,e){return n.addLeafElement(e,n.elt("Task",e.start,e.start+e.content.length,[n.elt("TaskMarker",e.start,e.start+3),...n.parser.parseInline(e.content.slice(3),e.start+3)])),!0}},Ql={defineNodes:[{name:"Task",block:!0,style:y.list},{name:"TaskMarker",style:y.atom}],parseBlock:[{name:"TaskList",leaf(t,n){return/^\[[ xX]\][ \t]/.test(n.content)&&t.parentType().name=="ListItem"?new In:null},after:"SetextHeading"}]},Lr=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,Rr=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,Ml=/[\w-]+\.[\w-]+($|\/)/,Gr=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,Br=/\/[a-zA-Z\d@.]+/gy;function Yr(t,n,e,i){let r=0;for(let o=n;o<e;o++)t[o]==i&&r++;return r}function $l(t,n){Rr.lastIndex=n;let e=Rr.exec(t);if(!e||Ml.exec(e[0])[0].indexOf("_")>-1)return-1;let i=n+e[0].length;for(;;){let r=t[i-1],o;if(/[?!.,:*_~]/.test(r)||r==")"&&Yr(t,n,i,")")>Yr(t,n,i,"("))i--;else if(r==";"&&(o=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(n,i))))i=n+o.index;else break}return i}function qr(t,n){Gr.lastIndex=n;let e=Gr.exec(t);if(!e)return-1;let i=e[0][e[0].length-1];return i=="_"||i=="-"?-1:n+e[0].length-(i=="."?1:0)}var Nl={parseInline:[{name:"Autolink",parse(t,n,e){let i=e-t.offset;if(i&&/\w/.test(t.text[i-1]))return-1;Lr.lastIndex=i;let r=Lr.exec(t.text),o=-1;if(!r)return-1;if(r[1]||r[2]){if(o=$l(t.text,i+r[0].length),o>-1&&t.hasOpenLink){let a=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(i,o));o=i+a[0].length}}else r[3]?o=qr(t.text,i):(o=qr(t.text,i+r[0].length),o>-1&&r[0]=="xmpp:"&&(Br.lastIndex=o,r=Br.exec(t.text),r&&(o=r.index+r[0].length)));return o<0?-1:(t.addElement(t.elt("URL",e,o+t.offset)),o+t.offset)}}]},fo=[Il,Ql,Vl,Nl];function go(t,n,e){return(i,r,o)=>{if(r!=t||i.char(o+1)==t)return-1;let a=[i.elt(e,o,o+1)];for(let s=o+1;s<i.end;s++){let m=i.char(s);if(m==t)return i.addElement(i.elt(n,o,s+1,a.concat(i.elt(e,s,s+1))));if(m==92&&a.push(i.elt("Escape",s,s+++2)),be(m))break}return-1}}var ho={defineNodes:[{name:"Superscript",style:y.special(y.content)},{name:"SuperscriptMark",style:y.processingInstruction}],parseInline:[{name:"Superscript",parse:go(94,"Superscript","SuperscriptMark")}]},Oo={defineNodes:[{name:"Subscript",style:y.special(y.content)},{name:"SubscriptMark",style:y.processingInstruction}],parseInline:[{name:"Subscript",parse:go(126,"Subscript","SubscriptMark")}]},Co={defineNodes:[{name:"Emoji",style:y.character}],parseInline:[{name:"Emoji",parse(t,n,e){let i;return n!=58||!(i=/^[a-zA-Z_0-9]+:/.exec(t.slice(e+1,t.end)))?-1:t.addElement(t.elt("Emoji",e,e+1+i[0].length))}}]};var Dl=54,Fl=1,Xl=55,Ll=2,Rl=56,Gl=3,yo=4,Bl=5,ln=6,Po=7,To=8,Ao=9,Eo=10,Yl=11,ql=12,zl=13,Nn=57,Wl=14,xo=58,Vo=20,Ul=22,Io=23,Zl=24,Fn=26,Qo=27,Hl=28,jl=31,Kl=34,Jl=36,em=37,tm=0,nm=1,im={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},rm={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},So={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function om(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function Mo(t){return t==9||t==10||t==13||t==32}var bo=null,vo=null,_o=0;function Xn(t,n){let e=t.pos+n;if(_o==e&&vo==t)return bo;let i=t.peek(n);for(;Mo(i);)i=t.peek(++n);let r="";for(;om(i);)r+=String.fromCharCode(i),i=t.peek(++n);return vo=t,_o=e,bo=r?r.toLowerCase():i==am||i==sm?void 0:null}var $o=60,mn=62,Ln=47,am=63,sm=33,lm=45;function ko(t,n){this.name=t,this.parent=n}var mm=[ln,Eo,Po,To,Ao],pm=new Hi({start:null,shift(t,n,e,i){return mm.indexOf(n)>-1?new ko(Xn(i,1)||"",t):t},reduce(t,n){return n==Vo&&t?t.parent:t},reuse(t,n,e,i){let r=n.type.id;return r==ln||r==Jl?new ko(Xn(i,1)||"",t):t},strict:!1}),cm=new Ve((t,n)=>{if(t.next!=$o){t.next<0&&n.context&&t.acceptToken(Nn);return}t.advance();let e=t.next==Ln;e&&t.advance();let i=Xn(t,0);if(i===void 0)return;if(!i)return t.acceptToken(e?Wl:ln);let r=n.context?n.context.name:null;if(e){if(i==r)return t.acceptToken(Yl);if(r&&rm[r])return t.acceptToken(Nn,-2);if(n.dialectEnabled(tm))return t.acceptToken(ql);for(let o=n.context;o;o=o.parent)if(o.name==i)return;t.acceptToken(zl)}else{if(i=="script")return t.acceptToken(Po);if(i=="style")return t.acceptToken(To);if(i=="textarea")return t.acceptToken(Ao);if(im.hasOwnProperty(i))return t.acceptToken(Eo);r&&So[r]&&So[r][i]?t.acceptToken(Nn,-1):t.acceptToken(ln)}},{contextual:!0}),dm=new Ve(t=>{for(let n=0,e=0;;e++){if(t.next<0){e&&t.acceptToken(xo);break}if(t.next==lm)n++;else if(t.next==mn&&n>=2){e>=3&&t.acceptToken(xo,-2);break}else n=0;t.advance()}});function um(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}var fm=new Ve((t,n)=>{if(t.next==Ln&&t.peek(1)==mn){let e=n.dialectEnabled(nm)||um(n.context);t.acceptToken(e?Bl:yo,2)}else t.next==mn&&t.acceptToken(yo,1)});function Rn(t,n,e){let i=2+t.length;return new Ve(r=>{for(let o=0,a=0,s=0;;s++){if(r.next<0){s&&r.acceptToken(n);break}if(o==0&&r.next==$o||o==1&&r.next==Ln||o>=2&&o<i&&r.next==t.charCodeAt(o-2))o++,a++;else if((o==2||o==i)&&Mo(r.next))a++;else if(o==i&&r.next==mn){s>a?r.acceptToken(n,-a):r.acceptToken(e,-(a-2));break}else if((r.next==10||r.next==13)&&s){r.acceptToken(n,1);break}else o=a=0;r.advance()}})}var gm=Rn("script",Dl,Fl),hm=Rn("style",Xl,Ll),Om=Rn("textarea",Rl,Gl),Cm=He({"Text RawText":y.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":y.angleBracket,TagName:y.tagName,"MismatchedCloseTag/TagName":[y.tagName,y.invalid],AttributeName:y.attributeName,"AttributeValue UnquotedAttributeValue":y.attributeValue,Is:y.definitionOperator,"EntityReference CharacterReference":y.character,Comment:y.blockComment,ProcessingInst:y.processingInstruction,DoctypeDecl:y.documentMeta}),No=Yt.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"\u26A0 StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:pm,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[Cm],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[gm,hm,Om,fm,cm,dm,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function Do(t,n){let e=Object.create(null);for(let i of t.getChildren(Io)){let r=i.getChild(Zl),o=i.getChild(Fn)||i.getChild(Qo);r&&(e[n.read(r.from,r.to)]=o?o.type.id==Fn?n.read(o.from+1,o.to-1):n.read(o.from,o.to):"")}return e}function wo(t,n){let e=t.getChild(Ul);return e?n.read(e.from,e.to):" "}function Dn(t,n,e){let i;for(let r of e)if(!r.attrs||r.attrs(i||(i=Do(t.node.parent.firstChild,n))))return{parser:r.parser};return null}function Gn(t=[],n=[]){let e=[],i=[],r=[],o=[];for(let s of t)(s.tag=="script"?e:s.tag=="style"?i:s.tag=="textarea"?r:o).push(s);let a=n.length?Object.create(null):null;for(let s of n)(a[s.name]||(a[s.name]=[])).push(s);return Gt((s,m)=>{let g=s.type.id;if(g==Hl)return Dn(s,m,e);if(g==jl)return Dn(s,m,i);if(g==Kl)return Dn(s,m,r);if(g==Vo&&o.length){let h=s.node,b=h.firstChild,x=b&&wo(b,m),_;if(x){for(let A of o)if(A.tag==x&&(!A.attrs||A.attrs(_||(_=Do(b,m))))){let V=h.lastChild,N=V.type.id==em?V.from:h.to;if(N>b.to)return{parser:A.parser,overlay:[{from:b.to,to:N}]}}}}if(a&&g==Io){let h=s.node,b;if(b=h.firstChild){let x=a[m.read(b.from,b.to)];if(x)for(let _ of x){if(_.tagName&&_.tagName!=wo(h.parent,m))continue;let A=h.lastChild;if(A.type.id==Fn){let V=A.from+1,N=A.lastChild,z=A.to-(N&&N.isError?0:1);if(z>V)return{parser:_.parser,overlay:[{from:V,to:z}]}}else if(A.type.id==Qo)return{parser:_.parser,overlay:[{from:A.from,to:A.to}]}}}}return null})}var ym=100,Fo=1,xm=101,Sm=102,Xo=2,Lo=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],bm=58,vm=40,Ro=95,_m=91,pn=45,km=46,wm=35,Pm=37,Tm=38,Am=92,Em=10;function Et(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function Go(t){return t>=48&&t<=57}var Vm=new Ve((t,n)=>{for(let e=!1,i=0,r=0;;r++){let{next:o}=t;if(Et(o)||o==pn||o==Ro||e&&Go(o))!e&&(o!=pn||r>0)&&(e=!0),i===r&&o==pn&&i++,t.advance();else if(o==Am&&t.peek(1)!=Em)t.advance(),t.next>-1&&t.advance(),e=!0;else{e&&t.acceptToken(o==vm?xm:i==2&&n.canShift(Xo)?Xo:Sm);break}}}),Im=new Ve(t=>{if(Lo.includes(t.peek(-1))){let{next:n}=t;(Et(n)||n==Ro||n==wm||n==km||n==_m||n==bm&&Et(t.peek(1))||n==pn||n==Tm)&&t.acceptToken(ym)}}),Qm=new Ve(t=>{if(!Lo.includes(t.peek(-1))){let{next:n}=t;if(n==Pm&&(t.advance(),t.acceptToken(Fo)),Et(n)){do t.advance();while(Et(t.next)||Go(t.next));t.acceptToken(Fo)}}}),Mm=He({"AtKeyword import charset namespace keyframes media supports":y.definitionKeyword,"from to selector":y.keyword,NamespaceName:y.namespace,KeyframeName:y.labelName,KeyframeRangeName:y.operatorKeyword,TagName:y.tagName,ClassName:y.className,PseudoClassName:y.constant(y.className),IdName:y.labelName,"FeatureName PropertyName":y.propertyName,AttributeName:y.attributeName,NumberLiteral:y.number,KeywordQuery:y.keyword,UnaryQueryOp:y.operatorKeyword,"CallTag ValueName":y.atom,VariableName:y.variableName,Callee:y.operatorKeyword,Unit:y.unit,"UniversalSelector NestingSelector":y.definitionOperator,MatchOp:y.compareOperator,"ChildOp SiblingOp, LogicOp":y.logicOperator,BinOp:y.arithmeticOperator,Important:y.modifier,Comment:y.blockComment,ColorLiteral:y.color,"ParenthesizedContent StringLiteral":y.string,":":y.punctuation,"PseudoOp #":y.derefOperator,"; ,":y.separator,"( )":y.paren,"[ ]":y.squareBracket,"{ }":y.brace}),$m={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62,selector:140},Nm={__proto__:null,"@import":120,"@media":144,"@charset":148,"@namespace":152,"@keyframes":158,"@supports":170},Dm={__proto__:null,not:134,only:134},Bo=Yt.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#CiO$qQ[O'#DUO$vQ[O'#DXOOQP'#En'#EnO${QdO'#DhO%jQ[O'#DuO${QdO'#DwO%{Q[O'#DyO&WQ[O'#D|O&`Q[O'#ESO&nQ[O'#EUOOQS'#Em'#EmOOQS'#EX'#EXQYQ[OOO&uQXO'#CdO'jQWO'#DdO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@])C@]OOQP'#Ch'#ChOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E]O({QWO,58{O)TQ[O,59TO$qQ[O,59pO$vQ[O,59sO(aQ[O,59vO(aQ[O,59xO(aQ[O,59yO)`Q[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)gQWO,59TO)lQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO)qQ`O,59sOOQS'#Cq'#CqO${QdO'#CrO)yQvO'#CtO+ZQtO,5:SOOQO'#Cy'#CyO)lQWO'#CxO+oQWO'#CzO+tQ[O'#DPOOQS'#Ep'#EpOOQO'#Dk'#DkO+|Q[O'#DrO,[QWO'#EtO&`Q[O'#DpO,jQWO'#DsOOQO'#Eu'#EuO)OQWO,5:aO,oQpO,5:cOOQS'#D{'#D{O,wQWO,5:eO,|Q[O,5:eOOQO'#EO'#EOO-UQWO,5:hO-ZQWO,5:nO-cQWO,5:pOOQS-E8V-E8VO-kQdO,5:OO-{Q[O'#E_O.YQWO,5;_O.YQWO,5;_POOO'#EW'#EWP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:wOOQO-E8Z-E8ZOOQS1G.g1G.gOOQP1G.o1G.oO)gQWO1G.oO)lQWO1G.oOOQP1G/[1G/[O/iQ`O1G/_O0SQXO1G/bO0jQXO1G/dO1QQXO1G/eO1hQWO,59}O1mQ[O'#DTO1tQdO'#CpOOQP1G/_1G/_O${QdO1G/_O1{QpO,59^OOQS,59`,59`O${QdO,59bO2TQWO1G/nOOQS,59d,59dO2YQ!bO,59fOOQS'#DQ'#DQOOQS'#EZ'#EZO2eQ[O,59kOOQS,59k,59kO2mQWO'#DkO2xQWO,5:WO2}QWO,5:^O&`Q[O,5:YO&`Q[O'#E`O3VQWO,5;`O3bQWO,5:[O(aQ[O,5:_OOQS1G/{1G/{OOQS1G/}1G/}OOQS1G0P1G0PO3sQWO1G0PO3xQdO'#EPOOQS1G0S1G0SOOQS1G0Y1G0YOOQS1G0[1G0[O4TQtO1G/jOOQO1G/j1G/jOOQO,5:y,5:yO4kQ[O,5:yOOQO-E8]-E8]O4xQWO1G0yPOOO-E8U-E8UPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO${QdO7+$yOOQS1G/i1G/iO5TQXO'#ErO5[QWO,59oO5aQtO'#EYO6XQdO'#EoO6cQWO,59[O6hQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|OOQS7+%Y7+%YOOQS1G/Q1G/QO6pQWO1G/QOOQS-E8X-E8XOOQS1G/V1G/VO${QdO1G/rOOQO1G/x1G/xOOQO1G/t1G/tO6uQWO,5:zOOQO-E8^-E8^O7TQXO1G/yOOQS7+%k7+%kO7[QYO'#CtOOQO'#ER'#ERO7gQ`O'#EQOOQO'#EQ'#EQO7rQWO'#EaO7zQdO,5:kOOQS,5:k,5:kO8VQtO'#E^O${QdO'#E^O9WQdO7+%UOOQO7+%U7+%UOOQO1G0e1G0eO9kQpO<<HeO9sQWO,5;^OOQP1G/Z1G/ZOOQS-E8W-E8WO${QdO'#E[O9{QWO,5;ZOOQT1G.v1G.vOOQP<<He<<HeOOQS7+$l7+$lO:TQdO7+%^OOQO7+%e7+%eOOQO,5:l,5:lO3{QdO'#EbO7rQWO,5:{OOQS,5:{,5:{OOQS-E8_-E8_OOQS1G0V1G0VO:[QtO,5:xOOQS-E8[-E8[OOQO<<Hp<<HpOOQPAN>PAN>PO;]QdO,5:vOOQO-E8Y-E8YOOQO<<Hx<<HxOOQO,5:|,5:|OOQO-E8`-E8`OOQS1G0g1G0g",stateData:";o~O#[OS#]QQ~OUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YRO~OQfOUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YeO~O#V#gP~P!ZO#]jO~O#YlO~OZnO^qO_qOrsOuoOyrO!PtO!SvO#WuO~O!UwO~P#pOa}O#XzO#YyO~O#Y!OO~O#Y!QO~OQ![Oc!TOg![Oi![Oo!YOr!ZO#X!WO#Y!SO#e!UO~Oc!^O!e!`O!h!aO#Y!]O!U#hP~Oi!fOo!YO#Y!eO~Oi!hO#Y!hO~Oc!^O!e!`O!h!aO#Y!]O~O!Z#hP~P%jOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#WWX~O^!mO~O!Z!nO#V#gX!T#gX~O#V#gX!T#gX~P!ZO#^!qO#_!qO#`!sO~OUYOXYOZTO^VO_VOrXOyWO#YRO~OuoO!UwO~Oa!zO#XzO#YyO~O!T#gP~P!ZOc#RO~Oc#SO~Oq#TO}#UO~OP#WOchXkhX!ZhX!ehX!hhX#YhXbhXQhXghXihXohXrhXuhX!YhX#VhX#XhX#ehXqhX!ThX~Oc!^Ok#XO!e!`O!h!aO#Y!]O!Z#hP~Oc#[O~Oq#`O#Y#]O~Oc!^O!e!`O!h!aO#Y#aO~Ou#eO!c#dO!U#hX!Z#hX~Oc#hO~Ok#XO!Z#jO~O!Z#kO~Oi#lOo!YO~O!U#mO~O!UwO!c#dO~O!UwO!Z#pO~O!Y#rO!Z!Wa#V!Wa!T!Wa~P${O!Z#RX#V#RX!T#RX~P!ZO!Z!nO#V#ga!T#ga~O#^!qO#_!qO#`#xO~OZnO^qO_qOrsOyrO!PtO!SvO#WuO~Ou#Pa!U#Pab#Pa~P.pOq#zO}#{O~OZnO^qO_qOrsOyrO~Ou!Oi!P!Oi!S!Oi!U!Oi#W!Oib!Oi~P/qOu!Qi!P!Qi!S!Qi!U!Qi#W!Qib!Qi~P/qOu!Ri!P!Ri!S!Ri!U!Ri#W!Rib!Ri~P/qO!T#|O~Ob#fP~P(aOb#cP~P${Ob$TOk#XO~O!Z$VO~Ob$WOi$XOp$XO~Oq$ZO#Y#]O~O^!aXb!_X!c!_X~O^$[O~Ob$]O!c#dO~Ou#eO!U#ha!Z#ha~O!c#dOu!da!U!da!Z!dab!da~O!Z$bO~O!T$iO#Y$dO#e$cO~Ok#XOu$kO!Y$mO!Z!Wi#V!Wi!T!Wi~P${O!Z#Ra#V#Ra!T#Ra~P!ZO!Z!nO#V#gi!T#gi~Ob#fX~P#pOb$qO~Ok#XOQ!|Xb!|Xc!|Xg!|Xi!|Xo!|Xr!|Xu!|X#X!|X#Y!|X#e!|X~Ou$sOb#cX~P${Ob$uO~Ok#XOq$vO~Ob$wO~O!c#dOu#Sa!U#Sa!Z#Sa~Ob$yO~P.pOP#WOuhX!UhX~O#e$cOu!tX!U!tX~Ou${O!UwO~O!T%PO#Y$dO#e$cO~Ok#XOQ#QXc#QXg#QXi#QXo#QXr#QXu#QX!Y#QX!Z#QX#V#QX#X#QX#Y#QX#e#QX!T#QX~Ou$kO!Y%SO!Z!Wq#V!Wq!T!Wq~P${Ok#XOq%TO~OuoOb#fa~Ou$sOb#ca~Ob%WO~P${Ok#XOQ#Qac#Qag#Qai#Qao#Qar#Qau#Qa!Y#Qa!Z#Qa#V#Qa#X#Qa#Y#Qa#e#Qa!T#Qa~Ob#Oau#Oa~P${O#[p#]#ek!S#e~",goto:"-g#jPPP#kP#nP#w$WP#wP$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+Z+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[Mm],skippedNodes:[0,3,88],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#[~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#[~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#]~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU^QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS}SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!PQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!]Qp`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSr^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSq^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUp`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!cQp`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!UUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[Im,Qm,Vm,1,2,3,4,new Zi("m~RRYZ[z{a~~g~aO#_~~dP!P!Qg~lO#`~~",28,106)],topRules:{StyleSheet:[0,4],Styles:[1,87]},specialized:[{term:101,get:t=>$m[t]||-1},{term:59,get:t=>Nm[t]||-1},{term:102,get:t=>Dm[t]||-1}],tokenPrec:1219});var Bn=null;function Yn(){if(!Bn&&typeof document=="object"&&document.body){let{style:t}=document.body,n=[],e=new Set;for(let i in t)i!="cssText"&&i!="cssFloat"&&typeof t[i]=="string"&&(/[A-Z]/.test(i)&&(i=i.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),e.has(i)||(n.push(i),e.add(i)));Bn=n.sort().map(i=>({type:"property",label:i,apply:i+": "}))}return Bn||[]}var Yo=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),qo=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),Fm=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),Xm=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),Me=/^(\w[\w-]*|-\w[\w-]*|)$/,Lm=/^-(-[\w-]*)?$/;function Rm(t,n){var e;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let i=(e=t.parent)===null||e===void 0?void 0:e.firstChild;return i?.name!="Callee"?!1:n.sliceString(i.from,i.to)=="var"}var zo=new vi,Gm=["Declaration"];function Bm(t){for(let n=t;;){if(n.type.isTop)return n;if(!(n=n.parent))return t}}function Wo(t,n,e){if(n.to-n.from>4096){let i=zo.get(n);if(i)return i;let r=[],o=new Set,a=n.cursor(bi.IncludeAnonymous);if(a.firstChild())do for(let s of Wo(t,a.node,e))o.has(s.label)||(o.add(s.label),r.push(s));while(a.nextSibling());return zo.set(n,r),r}else{let i=[],r=new Set;return n.cursor().iterate(o=>{var a;if(e(o)&&o.matchContext(Gm)&&((a=o.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let s=t.sliceString(o.from,o.to);r.has(s)||(r.add(s),i.push({label:s,type:"variable"}))}}),i}}var Ym=t=>n=>{let{state:e,pos:i}=n,r=ke(e).resolveInner(i,-1),o=r.type.isError&&r.from==r.to-1&&e.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(o||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:Yn(),validFor:Me};if(r.name=="ValueName")return{from:r.from,options:qo,validFor:Me};if(r.name=="PseudoClassName")return{from:r.from,options:Yo,validFor:Me};if(t(r)||(n.explicit||o)&&Rm(r,e.doc))return{from:t(r)||o?r.from:i,options:Wo(e.doc,Bm(r),t),validFor:Lm};if(r.name=="TagName"){for(let{parent:m}=r;m;m=m.parent)if(m.name=="Block")return{from:r.from,options:Yn(),validFor:Me};return{from:r.from,options:Fm,validFor:Me}}if(r.name=="AtKeyword")return{from:r.from,options:Xm,validFor:Me};if(!n.explicit)return null;let a=r.resolve(i),s=a.childBefore(i);return s&&s.name==":"&&a.name=="PseudoClassSelector"?{from:i,options:Yo,validFor:Me}:s&&s.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:i,options:qo,validFor:Me}:a.name=="Block"||a.name=="Styles"?{from:i,options:Yn(),validFor:Me}:null},qm=Ym(t=>t.name=="VariableName"),Vt=Bt.define({name:"css",parser:Bo.configure({props:[at.add({Declaration:Vi()}),Ke.add({"Block KeyframeList":Mi})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function Uo(){return new je(Vt,Vt.data.of({autocomplete:qm}))}var It=["_blank","_self","_top","_parent"],qn=["ascii","utf-8","utf-16","latin1","latin1"],zn=["get","post","put","delete"],Wn=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],he=["true","false"],k={},zm={a:{attrs:{href:null,ping:null,type:null,media:null,target:It,hreflang:null}},abbr:k,address:k,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:k,aside:k,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:k,base:{attrs:{href:null,target:It}},bdi:k,bdo:k,blockquote:{attrs:{cite:null}},body:k,br:k,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Wn,formmethod:zn,formnovalidate:["novalidate"],formtarget:It,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:k,center:k,cite:k,code:k,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:k,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:k,div:k,dl:k,dt:k,em:k,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:k,figure:k,footer:k,form:{attrs:{action:null,name:null,"accept-charset":qn,autocomplete:["on","off"],enctype:Wn,method:zn,novalidate:["novalidate"],target:It}},h1:k,h2:k,h3:k,h4:k,h5:k,h6:k,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:k,hgroup:k,hr:k,html:{attrs:{manifest:null}},i:k,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Wn,formmethod:zn,formnovalidate:["novalidate"],formtarget:It,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:k,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:k,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:k,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:qn,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:k,noscript:k,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:k,param:{attrs:{name:null,value:null}},pre:k,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:k,rt:k,ruby:k,samp:k,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:qn}},section:k,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:k,source:{attrs:{src:null,type:null,media:null}},span:k,strong:k,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:k,summary:k,sup:k,table:k,tbody:k,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:k,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:k,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:k,time:{attrs:{datetime:null}},title:k,tr:k,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:k,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:k},Ko={accesskey:null,class:null,contenteditable:he,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:he,autocorrect:he,autocapitalize:he,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":he,"aria-autocomplete":["inline","list","both","none"],"aria-busy":he,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":he,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":he,"aria-hidden":he,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":he,"aria-multiselectable":he,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":he,"aria-relevant":null,"aria-required":he,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Jo="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of Jo)Ko[t]=null;var Un=(()=>{class t{constructor(e,i){this.tags=Object.assign(Object.assign({},zm),e),this.globalAttrs=Object.assign(Object.assign({},Ko),i),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}return t.default=new t,t})();function yt(t,n,e=t.length){if(!n)return"";let i=n.firstChild,r=i&&i.getChild("TagName");return r?t.sliceString(r.from,Math.min(r.to,e)):""}function xt(t,n=!1){for(;t;t=t.parent)if(t.name=="Element")if(n)n=!1;else return t;return null}function ea(t,n,e){let i=e.tags[yt(t,xt(n))];return i?.children||e.allTags}function Zn(t,n){let e=[];for(let i=xt(n);i&&!i.type.isTop;i=xt(i.parent)){let r=yt(t,i);if(r&&i.lastChild.name=="CloseTag")break;r&&e.indexOf(r)<0&&(n.name=="EndTag"||n.from>=i.firstChild.to)&&e.push(r)}return e}var ta=/^[:\-\.\w\u00b7-\uffff]*$/;function Zo(t,n,e,i,r){let o=/\s*>/.test(t.sliceDoc(r,r+5))?"":">",a=xt(e,!0);return{from:i,to:r,options:ea(t.doc,a,n).map(s=>({label:s,type:"type"})).concat(Zn(t.doc,e).map((s,m)=>({label:"/"+s,apply:"/"+s+o,type:"type",boost:99-m}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Ho(t,n,e,i){let r=/\s*>/.test(t.sliceDoc(i,i+5))?"":">";return{from:e,to:i,options:Zn(t.doc,n).map((o,a)=>({label:o,apply:o+r,type:"type",boost:99-a})),validFor:ta}}function Wm(t,n,e,i){let r=[],o=0;for(let a of ea(t.doc,e,n))r.push({label:"<"+a,type:"type"});for(let a of Zn(t.doc,e))r.push({label:"</"+a+">",type:"type",boost:99-o++});return{from:i,to:i,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Um(t,n,e,i,r){let o=xt(e),a=o?n.tags[yt(t.doc,o)]:null,s=a&&a.attrs?Object.keys(a.attrs):[],m=a&&a.globalAttrs===!1?s:s.length?s.concat(n.globalAttrNames):n.globalAttrNames;return{from:i,to:r,options:m.map(g=>({label:g,type:"property"})),validFor:ta}}function Zm(t,n,e,i,r){var o;let a=(o=e.parent)===null||o===void 0?void 0:o.getChild("AttributeName"),s=[],m;if(a){let g=t.sliceDoc(a.from,a.to),h=n.globalAttrs[g];if(!h){let b=xt(e),x=b?n.tags[yt(t.doc,b)]:null;h=x?.attrs&&x.attrs[g]}if(h){let b=t.sliceDoc(i,r).toLowerCase(),x='"',_='"';/^['"]/.test(b)?(m=b[0]=='"'?/^[^"]*$/:/^[^']*$/,x="",_=t.sliceDoc(r,r+1)==b[0]?"":b[0],b=b.slice(1),i++):m=/^[^\s<>='"]*$/;for(let A of h)s.push({label:A,apply:x+A+_,type:"constant"})}}return{from:i,to:r,options:s,validFor:m}}function na(t,n){let{state:e,pos:i}=n,r=ke(e).resolveInner(i,-1),o=r.resolve(i);for(let a=i,s;o==r&&(s=r.childBefore(a));){let m=s.lastChild;if(!m||!m.type.isError||m.from<m.to)break;o=r=s,a=m.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?Ho(e,r,r.from,i):Zo(e,t,r,r.from,i):r.name=="StartTag"?Zo(e,t,r,i,i):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?Ho(e,r,i,i):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?Um(e,t,r,r.name=="AttributeName"?r.from:i,i):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?Zm(e,t,r,r.name=="Is"?i:r.from,i):n.explicit&&(o.name=="Element"||o.name=="Text"||o.name=="Document")?Wm(e,t,r,i):null}function ia(t){return na(Un.default,t)}function Hm(t){let{extraTags:n,extraGlobalAttributes:e}=t,i=e||n?new Un(n,e):Un.default;return r=>na(i,r)}var jm=Ht.parser.configure({top:"SingleExpression"}),ra=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:wr.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:Pr.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:Tr.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:jm},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Ht.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Vt.parser}],oa=[{name:"style",parser:Vt.parser.configure({top:"Styles"})}].concat(Jo.map(t=>({name:t,parser:Ht.parser}))),aa=Bt.define({name:"html",parser:No.configure({props:[at.add({Element(t){let n=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+n[0].length?t.continue():t.lineIndent(t.node.from)+(n[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let n=null,e;for(let i=t.node;;){let r=i.lastChild;if(!r||r.name!="Element"||r.to!=i.to)break;n=i=r}return n&&!((e=n.lastChild)&&(e.name=="CloseTag"||e.name=="SelfClosingTag"))?t.lineIndent(n.from)+t.unit:null}}),Ke.add({Element(t){let n=t.firstChild,e=t.lastChild;return!n||n.name!="OpenTag"?null:{from:n.to,to:e.name=="CloseTag"?e.from:t.to}}}),Fi.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),cn=aa.configure({wrap:Gn(ra,oa)});function sa(t={}){let n="",e;t.matchClosingTags===!1&&(n="noMatch"),t.selfClosingTags===!0&&(n=(n?n+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(e=Gn((t.nestedLanguages||[]).concat(ra),(t.nestedAttributes||[]).concat(oa)));let i=e?aa.configure({wrap:e,dialect:n}):n?cn.configure({dialect:n}):cn;return new je(i,[cn.data.of({autocomplete:Hm(t)}),t.autoCloseTags!==!1?Km:[],Ar().support,Uo().support])}var jo=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),Km=Ze.inputHandler.of((t,n,e,i,r)=>{if(t.composing||t.state.readOnly||n!=e||i!=">"&&i!="/"||!cn.isActiveAt(t.state,n,-1))return!1;let o=r(),{state:a}=o,s=a.changeByRange(m=>{var g,h,b;let x=a.doc.sliceString(m.from-1,m.to)==i,{head:_}=m,A=ke(a).resolveInner(_,-1),V;if(x&&i==">"&&A.name=="EndTag"){let N=A.parent;if(((h=(g=N.parent)===null||g===void 0?void 0:g.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(V=yt(a.doc,N.parent,_))&&!jo.has(V)){let z=_+(a.doc.sliceString(_,_+1)===">"?1:0),D=`</${V}>`;return{range:m,changes:{from:_,to:z,insert:D}}}}else if(x&&i=="/"&&A.name=="IncompleteCloseTag"){let N=A.parent;if(A.from==_-2&&((b=N.lastChild)===null||b===void 0?void 0:b.name)!="CloseTag"&&(V=yt(a.doc,N,_))&&!jo.has(V)){let z=_+(a.doc.sliceString(_,_+1)===">"?1:0),D=`${V}>`;return{range:Ee.cursor(_+D.length,-1),changes:{from:_,to:z,insert:D}}}}return{range:m}});return s.changes.empty?!1:(t.dispatch([o,a.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var pa=Pi({commentTokens:{block:{open:"<!--",close:"-->"}}}),ca=new Fe,da=po.configure({props:[Ke.add(t=>!t.is("Block")||t.is("Document")||Kn(t)!=null||Jm(t)?void 0:(n,e)=>({from:e.doc.lineAt(n.from).to,to:n.to})),ca.add(Kn),at.add({Document:()=>null}),wi.add({Document:pa})]});function Kn(t){let n=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return n?+n[1]:void 0}function Jm(t){return t.name=="OrderedList"||t.name=="BulletList"}function ep(t,n){let e=t;for(;;){let i=e.nextSibling,r;if(!i||(r=Kn(i.type))!=null&&r<=n)break;e=i}return e.to}var tp=Qi.of((t,n,e)=>{for(let i=ke(t).resolveInner(e,-1);i&&!(i.from<n);i=i.parent){let r=i.type.prop(ca);if(r==null)continue;let o=ep(i,r);if(o>e)return{from:e,to:o}}return null});function Jn(t){return new Ti(pa,t,[tp],"markdown")}var np=Jn(da),ip=da.configure([fo,Oo,ho,Co,{props:[Ke.add({Table:(t,n)=>({from:n.doc.lineAt(t.from).to,to:t.to})})]}]),ua=Jn(ip);function rp(t,n){return e=>{if(e&&t){let i=null;if(e=/\S*/.exec(e)[0],typeof t=="function"?i=t(e):i=hn.matchLanguageName(t,e,!0),i instanceof hn)return i.support?i.support.language.parser:Ai.getSkippingParser(i.load());if(i)return i.parser}return n?n.parser:null}}var Qt=class{constructor(n,e,i,r,o,a,s){this.node=n,this.from=e,this.to=i,this.spaceBefore=r,this.spaceAfter=o,this.type=a,this.item=s}blank(n,e=!0){let i=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(n!=null){for(;i.length<n;)i+=" ";return i}else{for(let r=this.to-this.from-i.length-this.spaceAfter.length;r>0;r--)i+=" ";return i+(e?this.spaceAfter:"")}}marker(n,e){let i=this.node.name=="OrderedList"?String(+ga(this.item,n)[2]+e):"";return this.spaceBefore+i+this.type+this.spaceAfter}};function fa(t,n){let e=[],i=[];for(let r=t;r;r=r.parent){if(r.name=="FencedCode")return i;(r.name=="ListItem"||r.name=="Blockquote")&&e.push(r)}for(let r=e.length-1;r>=0;r--){let o=e[r],a,s=n.lineAt(o.from),m=o.from-s.from;if(o.name=="Blockquote"&&(a=/^ *>( ?)/.exec(s.text.slice(m))))i.push(new Qt(o,m,m+a[0].length,"",a[1],">",null));else if(o.name=="ListItem"&&o.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(s.text.slice(m)))){let g=a[3],h=a[0].length;g.length>=4&&(g=g.slice(0,g.length-4),h-=4),i.push(new Qt(o.parent,m,m+h,a[1],g,a[2],o))}else if(o.name=="ListItem"&&o.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(s.text.slice(m)))){let g=a[4],h=a[0].length;g.length>4&&(g=g.slice(0,g.length-4),h-=4);let b=a[2];a[3]&&(b+=a[3].replace(/[xX]/," ")),i.push(new Qt(o.parent,m,m+h,a[1],g,b,o))}}return i}function ga(t,n){return/^(\s*)(\d+)(?=[.)])/.exec(n.sliceString(t.from,t.from+10))}function Hn(t,n,e,i=0){for(let r=-1,o=t;;){if(o.name=="ListItem"){let s=ga(o,n),m=+s[2];if(r>=0){if(m!=r+1)return;e.push({from:o.from+s[1].length,to:o.from+s[0].length,insert:String(r+2+i)})}r=m}let a=o.nextSibling;if(!a)break;o=a}}function ei(t,n){let e=/^[ \t]*/.exec(t)[0].length;if(!e||n.facet(Ei)!="	")return t;let i=ot(t,4,e),r="";for(let o=i;o>0;)o>=4?(r+="	",o-=4):(r+=" ",o--);return r+t.slice(e)}var op=({state:t,dispatch:n})=>{let e=ke(t),{doc:i}=t,r=null,o=t.changeByRange(a=>{if(!a.empty||!ua.isActiveAt(t,a.from,0))return r={range:a};let s=a.from,m=i.lineAt(s),g=fa(e.resolveInner(s,-1),i);for(;g.length&&g[g.length-1].from>s-m.from;)g.pop();if(!g.length)return r={range:a};let h=g[g.length-1];if(h.to-h.spaceAfter.length>s-m.from)return r={range:a};let b=s>=h.to-h.spaceAfter.length&&!/\S/.test(m.text.slice(h.to));if(h.item&&b){let N=h.node.firstChild,z=h.node.getChild("ListItem","ListItem");if(N.to>=s||z&&z.to<s||m.from>0&&!/[^\s>]/.test(i.lineAt(m.from-1).text)){let D=g.length>1?g[g.length-2]:null,$e,tt="";D&&D.item?($e=m.from+D.from,tt=D.marker(i,1)):$e=m.from+(D?D.to:0);let Ue=[{from:$e,to:s,insert:tt}];return h.node.name=="OrderedList"&&Hn(h.item,i,Ue,-2),D&&D.node.name=="OrderedList"&&Hn(D.item,i,Ue),{range:Ee.cursor($e+tt.length),changes:Ue}}else{let D=ma(g,t,m);return{range:Ee.cursor(s+D.length+1),changes:{from:m.from,insert:D+t.lineBreak}}}}if(h.node.name=="Blockquote"&&b&&m.from){let N=i.lineAt(m.from-1),z=/>\s*$/.exec(N.text);if(z&&z.index==h.from){let D=t.changes([{from:N.from+z.index,to:N.to},{from:m.from+h.from,to:m.to}]);return{range:a.map(D),changes:D}}}let x=[];h.node.name=="OrderedList"&&Hn(h.item,i,x);let _=h.item&&h.item.from<m.from,A="";if(!_||/^[\s\d.)\-+*>]*/.exec(m.text)[0].length>=h.to)for(let N=0,z=g.length-1;N<=z;N++)A+=N==z&&!_?g[N].marker(i,1):g[N].blank(N<z?ot(m.text,4,g[N+1].from)-A.length:null);let V=s;for(;V>m.from&&/\s/.test(m.text.charAt(V-m.from-1));)V--;return A=ei(A,t),ap(h.node,t.doc)&&(A=ma(g,t,m)+t.lineBreak+A),x.push({from:V,to:s,insert:t.lineBreak+A}),{range:Ee.cursor(V+A.length+1),changes:x}});return r?!1:(n(t.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)};function la(t){return t.name=="QuoteMark"||t.name=="ListMark"}function ap(t,n){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let e=t.firstChild,i=t.getChild("ListItem","ListItem");if(!i)return!1;let r=n.lineAt(e.to),o=n.lineAt(i.from),a=/^[\s>]*$/.test(r.text);return r.number+(a?0:1)<o.number}function ma(t,n,e){let i="";for(let r=0,o=t.length-2;r<=o;r++)i+=t[r].blank(r<o?ot(e.text,4,Math.min(e.text.length,t[r+1].from))-i.length:null,r<o);return ei(i,n)}function sp(t,n){let e=t.resolveInner(n,-1),i=n;la(e)&&(i=e.from,e=e.parent);for(let r;r=e.childBefore(i);)if(la(r))i=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")e=r.lastChild,i=e.to;else break;return e}var lp=({state:t,dispatch:n})=>{let e=ke(t),i=null,r=t.changeByRange(o=>{let a=o.from,{doc:s}=t;if(o.empty&&ua.isActiveAt(t,o.from)){let m=s.lineAt(a),g=fa(sp(e,a),s);if(g.length){let h=g[g.length-1],b=h.to-h.spaceAfter.length+(h.spaceAfter?1:0);if(a-m.from>b&&!/\S/.test(m.text.slice(b,a-m.from)))return{range:Ee.cursor(m.from+b),changes:{from:m.from+b,to:a}};if(a-m.from==b&&(!h.item||m.from<=h.item.from||!/\S/.test(m.text.slice(0,h.to)))){let x=m.from+h.from;if(h.item&&h.node.from<h.item.from&&/\S/.test(m.text.slice(h.from,h.to))){let _=h.blank(ot(m.text,4,h.to)-ot(m.text,4,h.from));return x==m.from&&(_=ei(_,t)),{range:Ee.cursor(x+_.length),changes:{from:x,to:m.from+h.to,insert:_}}}if(x<a)return{range:Ee.cursor(x),changes:{from:x,to:a}}}}}return i={range:o}});return i?!1:(n(t.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},mp=[{key:"Enter",run:op},{key:"Backspace",run:lp}],ha=sa({matchClosingTags:!1});function Oa(t={}){let{codeLanguages:n,defaultCodeLanguage:e,addKeymap:i=!0,base:{parser:r}=np,completeHTMLTags:o=!0,htmlTagLanguage:a=ha}=t;if(!(r instanceof Tt))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let s=t.extensions?[t.extensions]:[],m=[a.support],g;e instanceof je?(m.push(e.support),g=e.language):e&&(g=e);let h=n||g?rp(n,g):void 0;s.push(co({codeParser:h,htmlParser:a.language.parser})),i&&m.push(Oi.high(Rt.of(mp)));let b=Jn(r.configure(s));return o&&m.push(b.data.of({autocomplete:pp})),new je(b,m)}function pp(t){let{state:n,pos:e}=t,i=/<[:\-\.\w\u00b7-\uffff]*$/.exec(n.sliceDoc(e-25,e));if(!i)return null;let r=ke(n).resolveInner(e,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:e-i[0].length,to:e,options:cp(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}var jn=null;function cp(){if(jn)return jn;let t=ia(new Bi(Lt.create({extensions:ha}),0,!0));return jn=t?t.options:[]}var dp=["editorContainer"],dn=class t{constructor(){this.height=ni("100px");this.editorContainerRef=Ne.required("editorContainer");this.editorView=null;this.onChange=n=>{};this.text=Nt("")}ngAfterViewInit(){let n=this.editorContainerRef().nativeElement;this.initializeEditor(n)}writeValue(n){this.initialDocString=n||void 0,this.text.set(this.initialDocString||""),this.editorView?.dispatch({changes:{from:0,to:this.editorView.state.doc.length,insert:this.initialDocString}})}registerOnChange(n){this.onChange=n}registerOnTouched(n){}initializeEditor(n){let e=[xi(),Xi(),Ci(),yi(),Lt.allowMultipleSelections.of(!0),Ii(),$i(Ni,{fallback:!0}),Di(),Yi(),zi(),Si(),Gi(),Rt.of([...qi,...Ri,...Li,...Wi,...Ui]),Ze.lineWrapping,Oa(),Ze.updateListener.of(r=>{if(r.docChanged){let o=r.state.doc.toString();this.text.set(o),this.onChange(o)}})],i=Ze.theme({"&":{height:"100%",fontSize:"12px"},".cm-scroller":{overflow:"auto",fontFamily:"'Roboto Mono', monospace"},"&.cm-focused":{outline:"none"}},{dark:!1});e.push(i),this.editorView=new Ze({doc:this.initialDocString,extensions:e,parent:n})}gotoMarkdownDocs(){window.open("https://www.markdownguide.org/basic-syntax/","_blank","noreferrer")}ngOnDestroy(){this.editorView?.destroy(),this.editorView=null}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-markdown-input"]],viewQuery:function(e,i){e&1&&De(i.editorContainerRef,dp,5),e&2&&Ft()},inputs:{height:[1,"height"]},features:[q([{provide:ne,useExisting:R(()=>t),multi:!0}])],decls:9,vars:2,consts:[["editorContainer",""],["appearance","text","icon","open_in_new",1,"help",3,"click"],["animationDuration","0ms",1,"small-tabs",3,"mat-stretch-tabs"],["label","Write"],[1,"editor-container"],["label","Preview"],[1,"preview-container"],[3,"text"]],template:function(e,i){if(e&1){let r=ve();p(0,"ya-button",1),pe("click",function(){return Oe(r),Ce(i.gotoMarkdownDocs())}),d(1,` Markdown syntax
`),c(),p(2,"mat-tab-group",2)(3,"mat-tab",3),O(4,"div",4,0),c(),p(6,"mat-tab",5)(7,"div",6),O(8,"app-markdown",7),c()()()}e&2&&(l(2),u("mat-stretch-tabs",!1),l(6),u("text",i.text()))},dependencies:[Er,T,gr,hr,st],styles:["[_nghost-%COMP%]{display:block;position:relative}.help[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2000}.editor-container[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;border-left:1px solid #d3d3d3;border-right:1px solid #d3d3d3;height:100px}.preview-container[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3;border-left:1px solid #d3d3d3;border-right:1px solid #d3d3d3;background-color:#fafafa;height:100px}"],changeDetection:0})}};var St=class t{ngOnChanges(){this.formGroup.contains("comment")||this.formGroup.addControl("comment",new ae("")),this.templateProvider&&this.formGroup.patchValue({comment:this.templateProvider.getComment()||""})}getResult(){return this.formGroup.value.comment||void 0}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-stack-comment-form"]],inputs:{formGroup:"formGroup",templateProvider:"templateProvider"},features:[_e],decls:4,vars:1,consts:[[3,"formGroup"],[1,"label"],["formControlName","comment"]],template:function(e,i){e&1&&(ee(0,0),d(1," Show a note to users of this stack. "),p(2,"div",1),O(3,"app-markdown-input",2),c(),te()),e&2&&u("formGroup",i.formGroup)},dependencies:[dn,T,$,Z,fe,ie],encapsulation:2,changeDetection:0})}};var up=[[["","head",""]],[["","tail",""]]],fp=["[head]","[tail]"];function gp(t,n){if(t&1&&(p(0,"ya-stepper-step",3),O(1,"app-command-options-form",5),c()),t&2){let e=f();l(),u("formGroup",e.form)("templateProvider",e.templateProvider)}}function hp(t,n){if(t&1&&(p(0,"ya-stepper-step",6),O(1,"app-stack-comment-form",5),c(),p(2,"ya-stepper-step",7),O(3,"app-stack-advancement-form",2),c()),t&2){let e=f();l(),u("formGroup",e.form)("templateProvider",e.templateProvider),l(2),u("formGroup",e.form)("templateProvider",e.templateProvider)("command",e.command)}}function Op(t,n){if(t&1&&(p(0,"ya-stepper-step",4),O(1,"app-command-comment-form",5),c()),t&2){let e=f();l(),u("formGroup",e.form)("templateProvider",e.templateProvider)}}var Ca=class t{constructor(n){this.stackMode=!1;this.commandArgumentsForm=Ne.required(ut);this.commandOptionsForm=Ne(gt);this.commandCommentForm=Ne(ft);this.stackCommentForm=Ne(St);this.stackAdvancementForm=Ne(ht);this.form=new xe({});this.user=n.getUser()}showCommandOptions(){return this.user.hasSystemPrivilege("CommandOptions")}getResult(n=!1){let i=this.commandArgumentsForm().getResult(),r=this.commandOptionsForm(),o=r?.getResult(n)??{},a=r?.getStream(),s,m;return this.stackMode?(s=this.stackCommentForm()?.getResult(),m=this.stackAdvancementForm()?.getResult()):s=this.commandCommentForm()?.getResult(),{args:i,extra:o,stream:a,comment:s,advancement:m}}static{this.\u0275fac=function(e){return new(e||t)(F(kr))}}static{this.\u0275cmp=P({type:t,selectors:[["app-command-form"]],viewQuery:function(e,i){e&1&&(De(i.commandArgumentsForm,ut,5),De(i.commandOptionsForm,gt,5),De(i.commandCommentForm,ft,5),De(i.stackCommentForm,St,5),De(i.stackAdvancementForm,ht,5)),e&2&&Ft(5)},inputs:{command:"command",templateProvider:"templateProvider",stackMode:"stackMode"},ngContentSelectors:fp,decls:9,vars:7,consts:[[1,"ya-form",3,"formGroup"],["label","Arguments",3,"expanded"],[3,"formGroup","templateProvider","command"],["label","Advanced options"],["label","Comment"],[3,"formGroup","templateProvider"],["label","Stack comment"],["label","Stack advancement"]],template:function(e,i){e&1&&(ii(up),p(0,"form",0)(1,"ya-stepper"),un(2),p(3,"ya-stepper-step",1),O(4,"app-command-arguments-form",2),c(),v(5,gp,2,2,"ya-stepper-step",3)(6,hp,4,5)(7,Op,2,2,"ya-stepper-step",4),un(8,1),c()()),e&2&&(u("formGroup",i.form),l(3),u("expanded",!0),l(),u("formGroup",i.form)("templateProvider",i.templateProvider)("command",i.command),l(),S(i.showCommandOptions()?5:-1),l(),S(i.stackMode?6:7))},dependencies:[ut,ft,gt,ht,St,T,ci,Z,fe,vr,br],encapsulation:2,changeDetection:0})}};var ya=class extends li{constructor(e){super();this.yamcs=e;this.items$=new J([]);this.totalSize$=new J(0);this.loading$=new J(!1)}connect(){return this.items$}loadCommands(e){return this.loading$.next(!0),this.yamcs.yamcsClient.getCommands(this.yamcs.instance,e).then(i=>{this.loading$.next(!1),this.totalSize$.next(i.totalSize);let r=[];for(let o of i.systems||[])r.push({name:o.qualifiedName,system:o});for(let o of i.commands||[])r.push({name:o.qualifiedName,command:o});this.items$.next(r)})}getAliasNamespaces(){let e=[];for(let i of this.items$.value)if(i.command?.alias)for(let r of i.command.alias)r.namespace&&e.indexOf(r.namespace)===-1&&e.push(r.namespace);return e.sort()}disconnect(){this.items$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var xa=class t{constructor(n,e){this.yamcs=n;this.synchronizer=e;this.result=Nt(null);this.dirty=!1}ngOnInit(){let e=new Vr().compile("="+this.expression),i=e.getPVNames();if(i.length){let r=i.map(a=>({name:a})),o;this.subscription=this.yamcs.yamcsClient.createParameterSubscription({instance:this.yamcs.instance,processor:this.yamcs.processor,id:r,abortOnInvalid:!0,sendFromCache:!0,updateOnExpiration:!0,action:"REPLACE"},a=>{a.mapping&&(o=Te(Te({},o),a.mapping));for(let s of a.values||[])if(s.engValue){let m=o[s.numericId];e.updateDataSource(m.name,{value:G.convertValue(s.engValue),acquisitionStatus:s.acquisitionStatus})}if(this.result()===null){let s=e.execute();this.result.set(s)}else this.dirty=!0})}else{let r=e.execute();this.result.set(r)}this.syncSubscription=this.synchronizer.syncFast(()=>{if(this.dirty){let r=e.execute();this.result.set(r),this.dirty=!1}})}ngOnDestroy(){this.subscription?.cancel(),this.syncSubscription?.unsubscribe()}static{this.\u0275fac=function(e){return new(e||t)(F(mt),F(Or))}}static{this.\u0275cmp=P({type:t,selectors:[["app-live-expression"]],inputs:{expression:"expression"},decls:1,vars:1,template:function(e,i){e&1&&d(0),e&2&&M(i.result())},encapsulation:2,changeDetection:0})}};export{pt as a,Qr as b,jt as c,Mr as d,Qe as e,Kt as f,Oa as g,dn as h,Ca as i,xa as j,ya as k};
