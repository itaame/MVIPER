import{a as Ye}from"./chunk-ESNLOJMT.js";import{a as Jt,b as Zt}from"./chunk-7ZJ4C3K2.js";import{a as Oe}from"./chunk-UBMLYMMH.js";import{a as ti,b as ni}from"./chunk-XPZNV5FL.js";import{e as ii,f as Pe}from"./chunk-KJ5BZ5CM.js";import{a as R,c as k,d as St,e as ei}from"./chunk-J6RUEXVW.js";import{$e as fe,Aa as n,Ab as q,Ac as ce,Af as Ht,Ag as De,Ba as _,Bc as Lt,Ca as D,Da as P,Dc as Nt,E as It,Eb as z,Ef as G,Eg as J,Fa as te,Fc as ae,Ga as ie,Gb as ne,Gc as $t,Gg as we,H as yt,Ha as p,Hb as w,I as wt,Jc as Ie,Kc as Mt,Lf as Ut,M as At,Ma as B,N as $,Na as V,Nc as qt,O as M,Oa as Y,Pg as Gt,Qe as j,Ra as re,Sa as r,Ta as C,Ua as u,Uf as Qt,Va as ee,Vg as Wt,We as se,Wg as Ve,Xe as _e,Ye as ue,Yg as Le,Za as h,Zg as Ne,_ as ht,_a as O,_c as Rt,_e as Ce,_g as Kt,ba as l,bb as f,bf as xe,bh as H,cb as y,cf as ye,cg as Ee,ch as U,da as v,db as L,dg as Fe,eb as le,ef as he,f as T,ff as ve,fh as Ae,ga as b,hf as Se,ih as A,ja as Ft,jd as de,ma as c,md as vt,od as Be,oe as kt,oh as I,pf as ge,pg as Te,ph as Xt,qa as s,qb as N,qc as me,qh as gt,rc as pe,rh as Et,sa as Z,sb as ke,ue as Bt,va as d,ve as Vt,wa as S,we as Yt,xa as g,xe as Ot,ya as E,ye as zt,za as a,ze as jt}from"./chunk-MTJQDUEX.js";var Dt=(e,i)=>wt(Tt).canActivate(e,i);var Tt=class e{constructor(i,t){this.authService=i;this.router=t}canActivate(i,t){return this.authService.getUser().hasSystemPrivilege("GetMissionDatabase")?!0:(this.router.navigate(["/403"],{queryParams:{page:t.url}}),!1)}canActivateChild(i,t){return this.canActivate(i,t)}static{this.\u0275fac=function(t){return new(t||e)(yt(Xt),yt(ne))}}static{this.\u0275prov=It({token:e,factory:e.\u0275fac,providedIn:"root"})}};var ze=class extends me{constructor(t){super();this.yamcs=t;this.algorithms$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.algorithms$}loadAlgorithms(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getAlgorithms(this.yamcs.instance,t).then(o=>{this.loading$.next(!1),this.totalSize$.next(o.totalSize),this.algorithms$.next(o.algorithms||[])})}disconnect(){this.algorithms$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var si=["top"],_i=e=>["/mdb/algorithms",e],ui=e=>({c:e});function Ci(e,i){e&1&&(a(0,"th",21),r(1,"Name"),n())}function fi(e,i){if(e&1&&(a(0,"td",22)(1,"a",23),_(2,"ya-highlight",24),n()()),e&2){let t=i.$implicit,o=p(2);l(),s("routerLink",h(4,_i,t.qualifiedName))("queryParams",h(6,ui,o.yamcs.context)),l(),s("text",o.shortName?t.name:t.qualifiedName)("term",o.filterControl.value)}}function xi(e,i){e&1&&(a(0,"th",21),r(1,"Type"),n())}function yi(e,i){if(e&1&&(a(0,"td",22),r(1),n()),e&2){let t=i.$implicit;l(),C(t.type||"-")}}function hi(e,i){e&1&&(a(0,"th",21),r(1,"Language"),n())}function vi(e,i){if(e&1&&(a(0,"td",22),r(1),n()),e&2){let t=i.$implicit;l(),C(t.language||"-")}}function Si(e,i){e&1&&(a(0,"th",21),r(1,"Scope"),n())}function gi(e,i){if(e&1&&(a(0,"td",22),r(1),n()),e&2){let t=i.$implicit;l(),C(t.scope||"-")}}function Ei(e,i){e&1&&(a(0,"th",21),r(1,"Description"),n())}function Ti(e,i){if(e&1&&(a(0,"td",25),r(1),n()),e&2){let t=i.$implicit;l(),u(" ",t.shortDescription||"-"," ")}}function Di(e,i){e&1&&_(0,"th",26)}function Pi(e,i){e&1&&_(0,"td",22)}function bi(e,i){e&1&&_(0,"tr",27)}function Ii(e,i){if(e&1&&_(0,"tr",28),e&2){let t=i.$implicit,o=p(2);Z("selected",o.selection.isSelected(t))}}function wi(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,Ci,2,0,"th",10)(3,fi,3,8,"td",11),P(),D(4,12),c(5,xi,2,0,"th",10)(6,yi,2,1,"td",11),P(),D(7,13),c(8,hi,2,0,"th",10)(9,vi,2,1,"td",11),P(),D(10,14),c(11,Si,2,0,"th",10)(12,gi,2,1,"td",11),P(),D(13,15),c(14,Ei,2,0,"th",10)(15,Ti,2,1,"td",16),P(),D(16,17),c(17,Di,1,0,"th",18)(18,Pi,1,0,"td",11),P(),c(19,bi,1,0,"tr",19),f(20,"async"),c(21,Ii,1,2,"tr",20),f(22,"async"),n()),e&2){let t=p(),o=re(9);s("dataSource",t.dataSource),l(19),s("matHeaderRowDef",y(20,3,o.displayedColumns$)),l(2),s("matRowDefColumns",y(22,5,o.displayedColumns$))}}function Ai(e,i){if(e&1&&(a(0,"div",3),r(1," The Mission Database for "),a(2,"i"),r(3),n(),r(4," does not define any algorithms. "),n()),e&2){let t=p();l(3),C(t.yamcs.instance)}}var je=class e{constructor(i,t,o,m,x){this.yamcs=i;this.route=o;this.router=m;this.messageService=x;this.shortName=!1;this.pageSize=100;this.filterControl=new ae;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"language",label:"Language",visible:!0},{id:"scope",label:"Scope",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.selection=new pe(!1);t.setTitle("Algorithms"),this.dataSource=new ze(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadAlgorithms(i).then(()=>{this.selection.clear()}).catch(o=>this.messageService.showError(o))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.algorithms$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.min(i.indexOf(o)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.algorithms$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.max(i.indexOf(o)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.algorithms$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/algorithms",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(A),v(q),v(z),v(ne),v(ge))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,o){if(t&1&&(B(si,7),B(j,7)),t&2){let m;V(m=Y())&&(o.top=m.first),V(m=Y())&&(o.paginator=m.first)}},decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter algorithms",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","algorithms",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","language"],["matColumnDef","scope"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(t&1){let m=te();a(0,"app-instance-page")(1,"app-instance-toolbar"),r(2,"Algorithms"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ie("onArrowDown",function(){return $(m),M(o.selectNext())})("onArrowUp",function(){return $(m),M(o.selectPrevious())})("onEnter",function(){return $(m),M(o.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,wi,23,7,"table",7),_(11,"mat-paginator",8),f(12,"async"),n(),c(13,Ai,5,1,"ng-template",null,2,le),n()}t&2&&(l(7),s("formControl",o.filterControl),l(),s("columns",o.columns),l(2),d(o.dataSource?10:-1),l(),s("pageSize",o.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,o.dataSource.totalSize$)))},dependencies:[k,R,I,N,ce,Ie,w,j,se,ue,ye,Ce,_e,he,fe,xe,ve,Se,G,Ee,Te],encapsulation:2,changeDetection:0})}};var Fi=["text"],Li=(e,i)=>({c:e,filter:i}),Ke=e=>["/mdb/parameters/",e],Xe=e=>({c:e});function Ni(e,i){if(e&1&&(a(0,"a",2),r(1),n()),e&2){let t=i,o=p();s("queryParams",O(2,Li,o.yamcs.context,t)),l(),u(" ",t," ")}}function $i(e,i){if(e&1&&(a(0,"dt"),r(1),n(),a(2,"dd"),r(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function Mi(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p();s("text",t.algorithm.longDescription)}}function qi(e,i){e&1&&r(0," - ")}function Ri(e,i){e&1&&(_(0,"mat-divider"),a(1,"dl",4)(2,"dt"),r(3,"Text"),n(),a(4,"dd"),_(5,"div",6,0),n()())}function ki(e,i){if(e&1&&(a(0,"td"),r(1,"Operand"),n(),a(2,"td"),r(3),n()),e&2){let t=p().$implicit;l(3),C(t.value)}}function Bi(e,i){if(e&1&&(a(0,"td"),r(1,"Operator"),n(),a(2,"td"),r(3),n()),e&2){let t=p().$implicit;l(3),C(t.operator)}}function Vi(e,i){e&1&&(a(0,"td"),r(1,"Operand"),n(),a(2,"td"),r(3,"this"),n())}function Yi(e,i){if(e&1&&(a(0,"td"),r(1,"Operand"),n(),a(2,"td")(3,"a",7),r(4),n()()),e&2){let t=p().$implicit,o=p(2);l(3),s("routerLink",h(3,Ke,t.parameter.qualifiedName))("queryParams",h(5,Xe,o.yamcs.context)),l(),u(" ",t.parameter.qualifiedName," ")}}function Oi(e,i){if(e&1&&(a(0,"tr"),c(1,ki,4,1)(2,Bi,4,1)(3,Vi,4,0)(4,Yi,5,7),n()),e&2){let t,o=i.$implicit;l(),d((t=o.type)==="VALUE_OPERAND"?1:t==="OPERATOR"?2:t==="THIS_PARAMETER_OPERAND"?3:t==="PARAMETER"?4:-1)}}function zi(e,i){if(e&1&&(_(0,"mat-divider"),a(1,"dl",4)(2,"dt"),r(3,"Postfix expression"),n(),a(4,"dd")(5,"table",5)(6,"tr")(7,"th"),r(8,"Type"),n(),a(9,"th"),r(10,"Value"),n()(),g(11,Oi,5,1,"tr",null,S),n()()()),e&2){let t=p();l(11),E(t.algorithm.mathElements)}}function ji(e,i){e&1&&r(0," Parameter ")}function Hi(e,i){e&1&&r(0," Argument ")}function Ui(e,i){e&1&&r(0," Unknown ")}function Qi(e,i){if(e&1&&(a(0,"a",8),r(1),n()),e&2){let t=p().$implicit,o=p(2);s("routerLink",h(3,Ke,t.parameter.qualifiedName))("queryParams",h(5,Xe,o.yamcs.context)),l(),u(" ",t.parameter.qualifiedName," ")}}function Gi(e,i){if(e&1&&r(0),e&2){let t=p().$implicit;u(" ",t.argument.name," ")}}function Wi(e,i){e&1&&r(0," - ")}function Ki(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2),n(),a(3,"td"),c(4,ji,1,0)(5,Hi,1,0)(6,Ui,1,0),n(),a(7,"td"),c(8,Qi,2,7,"a",8)(9,Gi,1,1)(10,Wi,1,0),n(),a(11,"td",9),r(12),n(),a(13,"td",9),r(14),n()()),e&2){let t,o=i.$implicit;l(2),C(o.inputName||"-"),l(2),d(o.parameter?4:o.argument?5:6),l(4),d(o.parameter?8:o.argument?9:10),l(4),u(" ",(t=o.parameterInstance)!==null&&t!==void 0?t:"-"," "),l(2),u(" ",o.mandatory?"Yes":"No"," ")}}function Xi(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),r(3,"Input name"),n(),a(4,"th"),r(5,"Type"),n(),a(6,"th"),r(7,"Ref"),n(),a(8,"th"),r(9,"Instance"),n(),a(10,"th"),r(11,"Mandatory"),n()(),g(12,Ki,15,5,"tr",null,S),n()),e&2){let t=p();l(12),E(t.algorithm.inputParameter)}}function Ji(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function Zi(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2),n(),a(3,"td")(4,"a",8),r(5),n()()()),e&2){let t=i.$implicit,o=p(2);l(2),C(t.outputName||"-"),l(2),s("routerLink",h(4,Ke,t.parameter.qualifiedName))("queryParams",h(6,Xe,o.yamcs.context)),l(),u(" ",t.parameter.qualifiedName," ")}}function en(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th"),r(3,"Output name"),n(),a(4,"th"),r(5,"Parameter"),n()(),g(6,Zi,6,8,"tr",null,S),n()),e&2){let t=p();l(6),E(t.algorithm.outputParameter)}}function tn(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function nn(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2,"OnParameterUpdate"),n(),a(3,"td")(4,"a",8),r(5),n()()()),e&2){let t=i.$implicit,o=p();l(4),s("routerLink",h(3,Ke,t.qualifiedName))("queryParams",h(5,Xe,o.yamcs.context)),l(),u(" ",t.qualifiedName," ")}}function an(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2,"OnPeriodicRate"),n(),a(3,"td"),r(4),n()()),e&2){let t=p();l(4),u("",t.algorithm.onPeriodicRate," ms")}}var Ge=class e{constructor(i){this.yamcs=i}set textContainer(i){let t=[kt,vt.readOnly.of(!0),Be.lineWrapping,Be.theme({"&":{height:"300px",fontSize:"12px"},".cm-scroller":{overflow:"auto",fontFamily:"'Roboto Mono', monospace"}},{dark:!1})];switch(this.algorithm.language.toLowerCase()){case"java-expression":t.push(ti());break;case"javascript":t.push(ii());break;case"python":t.push(ni());break;default:console.warn(`Unexpected language ${this.algorithm.language}`)}let o=vt.create({doc:this.algorithm.text,extensions:t});new Be({state:o,parent:i.nativeElement})}static{this.\u0275fac=function(t){return new(t||e)(v(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-algorithm-detail"]],viewQuery:function(t,o){if(t&1&&B(Fi,5),t&2){let m;V(m=Y())&&(o.textContainer=m.first)}},inputs:{algorithm:"algorithm"},decls:66,vars:16,consts:[["text",""],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"algorithm-text"],[1,"ya-link",3,"routerLink","queryParams"],[3,"routerLink","queryParams"],[2,"text-align","center"]],template:function(t,o){if(t&1&&(a(0,"dl",1)(1,"dt"),r(2,"Algorithm"),n(),a(3,"dd"),r(4),f(5,"shortName"),n(),a(6,"dt"),r(7,"System"),n(),a(8,"dd"),c(9,Ni,2,5,"a",2),f(10,"spaceSystemName"),n(),g(11,$i,4,2,null,null,S),a(13,"dt"),r(14,"Short description"),n(),a(15,"dd"),r(16),n(),a(17,"dt"),r(18,"Long description"),n(),a(19,"dd"),c(20,Mi,1,1,"app-markdown",3)(21,qi,1,0),n()(),_(22,"mat-divider"),a(23,"dl",4)(24,"dt"),r(25,"Scope"),n(),a(26,"dd"),r(27),n(),a(28,"dt"),r(29,"Type"),n(),a(30,"dd"),r(31),n(),a(32,"dt"),r(33,"Language"),n(),a(34,"dd"),r(35),n()(),c(36,Ri,7,0)(37,zi,13,0),_(38,"mat-divider"),a(39,"dl",4)(40,"dt"),r(41,"Input parameters"),n(),a(42,"dd"),c(43,Xi,14,0,"table",5)(44,Ji,2,0,"span"),n()(),_(45,"mat-divider"),a(46,"dl",4)(47,"dt"),r(48,"Output parameters"),n(),a(49,"dd"),c(50,en,8,0,"table",5)(51,tn,2,0,"span"),n()(),_(52,"mat-divider"),a(53,"dl",4)(54,"dt"),r(55,"Triggers"),n(),a(56,"dd")(57,"table",5)(58,"tr")(59,"th"),r(60,"Type"),n(),a(61,"th"),r(62,"Value"),n()(),g(63,nn,6,7,"tr",null,S),c(65,an,5,1,"tr"),n()()()),t&2){let m;l(4),C(y(5,12,o.algorithm.qualifiedName)),l(5),d((m=y(10,14,o.algorithm.qualifiedName))?9:-1,m),l(2),E(o.algorithm.alias),l(5),C(o.algorithm.shortDescription||"-"),l(4),d(o.algorithm.longDescription?20:21),l(7),C(o.algorithm.scope||"-"),l(4),C(o.algorithm.type||"-"),l(4),C(o.algorithm.language||"-"),l(),d(o.algorithm.text?36:-1),l(),d(o.algorithm.mathElements?37:-1),l(6),d(o.algorithm.inputParameter?43:44),l(7),d(o.algorithm.outputParameter?50:51),l(13),E(o.algorithm.onParameterUpdate),l(2),d(o.algorithm.onPeriodicRate?65:-1)}},dependencies:[Pe,I,w,J,de,H,U],styles:["code[_ngcontent-%COMP%]{display:block;background-color:#fafafa;padding:1em;font-size:10px;border:1px solid #d3d3d3;white-space:pre}.algorithm-text[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}"],changeDetection:0})}};var on=(e,i)=>({c:e,filter:i});function rn(e,i){if(e&1&&(a(0,"a",2),r(1),n(),r(2),f(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,o=p(),m=p();s("queryParams",O(6,on,m.yamcs.context,t)),l(),u(" ",t," "),l(),u("/",y(3,4,o.qualifiedName)," "),l(2),s("text",o.qualifiedName)}}function ln(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,rn,5,9),f(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-algorithm-detail",1),n()()),e&2){let t,o=i;l(2),d((t=y(3,2,o.qualifiedName))?2:-1,t),l(3),s("algorithm",o)}}var Je=class e{constructor(i,t,o){this.yamcs=t;let m=i.snapshot.paramMap.get("qualifiedName");this.algorithm$=t.yamcsClient.getAlgorithm(this.yamcs.instance,m),this.algorithm$.then(x=>{o.setTitle(x.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(z),v(A),v(q))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[1,"panel-content"],[3,"algorithm"],["routerLink","/mdb/algorithms",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,o){if(t&1&&(c(0,ln,6,4,"app-instance-page"),f(1,"async")),t&2){let m;d((m=y(1,1,o.algorithm$))?0:-1,m)}},dependencies:[Ge,k,R,I,N,w,De,H,U],encapsulation:2,changeDetection:0})}};var Ze=class extends me{constructor(t){super();this.yamcs=t;this.commands$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.commands$}loadCommands(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getCommands(this.yamcs.instance,t).then(o=>{this.loading$.next(!1),this.totalSize$.next(o.totalSize),this.commands$.next(o.commands||[])})}getAliasNamespaces(){let t=[];for(let o of this.commands$.value)if(o.alias)for(let m of o.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.commands$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var mn=["top"],pn=e=>["/mdb/commands",e],cn=e=>({c:e});function dn(e,i){e&1&&(a(0,"th",21),r(1,"Significance"),n())}function sn(e,i){if(e&1&&_(0,"app-significance-level",23),e&2){let t=p().$implicit;s("level",t.significance.consequenceLevel)}}function _n(e,i){e&1&&r(0," - ")}function un(e,i){if(e&1&&(a(0,"td",22),c(1,sn,1,1,"app-significance-level",23)(2,_n,1,0),n()),e&2){let t=i.$implicit;l(),d(t.significance?1:2)}}function Cn(e,i){e&1&&(a(0,"th",21),r(1,"Name"),n())}function fn(e,i){if(e&1&&(a(0,"td",22)(1,"a",24),_(2,"ya-highlight",25),n()()),e&2){let t=i.$implicit,o=p(2);l(),s("routerLink",h(4,pn,t.qualifiedName))("queryParams",h(6,cn,o.yamcs.context)),l(),s("text",o.shortName?t.name:t.qualifiedName)("term",o.filterControl.value)}}function xn(e,i){e&1&&(a(0,"th",21),r(1,"Abstract"),n())}function yn(e,i){if(e&1&&(a(0,"td",22),r(1),n()),e&2){let t=i.$implicit;l(),u(" ",t.abstract?"Yes":"-"," ")}}function hn(e,i){e&1&&(a(0,"th",21),r(1,"Description"),n())}function vn(e,i){if(e&1&&_(0,"ya-highlight",25),e&2){let t=p(3);s("text",i)("term",t.filterControl.value)}}function Sn(e,i){e&1&&r(0," - ")}function gn(e,i){if(e&1&&(a(0,"td",26),c(1,vn,1,2,"ya-highlight",25)(2,Sn,1,0),n()),e&2){let t,o=i.$implicit;l(),d((t=o.shortDescription)?1:2,t)}}function En(e,i){if(e&1&&(a(0,"th",21),r(1),n()),e&2){let t=p().$implicit;l(),u(" ",t.label," ")}}function Tn(e,i){if(e&1&&_(0,"ya-highlight",25),e&2){let t=p(4);s("text",i)("term",t.filterControl.value)}}function Dn(e,i){e&1&&r(0," - ")}function Pn(e,i){if(e&1&&(a(0,"td",22),c(1,Tn,1,2,"ya-highlight",25),f(2,"alias"),c(3,Dn,1,0),n()),e&2){let t,o=i.$implicit,m=p().$implicit;l(),d((t=L(2,1,o,m.id))?1:3,t)}}function bn(e,i){if(e&1&&(D(0,16),c(1,En,2,1,"th",10)(2,Pn,4,4,"td",11),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function In(e,i){e&1&&_(0,"th",27)}function wn(e,i){e&1&&_(0,"td",22)}function An(e,i){e&1&&_(0,"tr",28)}function Fn(e,i){if(e&1&&_(0,"tr",29),e&2){let t=i.$implicit,o=p(2);Z("selected",o.selection.isSelected(t))}}function Ln(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,dn,2,0,"th",10)(3,un,3,1,"td",11),P(),D(4,12),c(5,Cn,2,0,"th",10)(6,fn,3,8,"td",11),P(),D(7,13),c(8,xn,2,0,"th",10)(9,yn,2,1,"td",11),P(),D(10,14),c(11,hn,2,0,"th",10)(12,gn,3,1,"td",15),P(),g(13,bn,3,1,"ng-container",16,S),f(15,"async"),D(16,17),c(17,In,1,0,"th",18)(18,wn,1,0,"td",11),P(),c(19,An,1,0,"tr",19),f(20,"async"),c(21,Fn,1,2,"tr",20),f(22,"async"),n()),e&2){let t=p(),o=re(9);s("dataSource",t.dataSource),l(13),E(y(15,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",y(20,5,o.displayedColumns$)),l(2),s("matRowDefColumns",y(22,7,o.displayedColumns$))}}function Nn(e,i){if(e&1&&(a(0,"div",3),r(1," The Mission Database for "),a(2,"i"),r(3),n(),r(4," does not define any commands. "),n()),e&2){let t=p();l(3),C(t.yamcs.instance)}}var et=class e{constructor(i,t,o,m,x){this.yamcs=i;this.route=o;this.router=m;this.messageService=x;this.shortName=!1;this.pageSize=100;this.filterControl=new ae;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"significance",label:"Significance",visible:!0},{id:"abstract",label:"Abstract",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.selection=new pe(!1);t.setTitle("Commands"),this.dataSource=new Ze(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","alias","significance","abstract","shortDescription"]},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadCommands(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let x=this.columns.indexOf(m);x!==-1&&this.columns.splice(x,1)}let o=[];for(let m of this.dataSource.getAliasNamespaces()){let x={id:m,label:m,alwaysVisible:!0};o.push(x)}this.columns.splice(1,0,...o),this.aliasColumns$.next(o),this.columnChooser.recalculate(this.columns)}).catch(o=>this.messageService.showError(o))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.commands$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.min(i.indexOf(o)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.commands$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.max(i.indexOf(o)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.commands$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/commands",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(A),v(q),v(z),v(ne),v(ge))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,o){if(t&1&&(B(mn,7),B(j,7),B(G,5)),t&2){let m;V(m=Y())&&(o.top=m.first),V(m=Y())&&(o.paginator=m.first),V(m=Y())&&(o.columnChooser=m.first)}},decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter commands",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-commands",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","significance"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","abstract"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"level"],[3,"routerLink","queryParams"],[3,"text","term"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(t&1){let m=te();a(0,"app-instance-page")(1,"app-instance-toolbar"),r(2,"Commands"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ie("onArrowDown",function(){return $(m),M(o.selectNext())})("onArrowUp",function(){return $(m),M(o.selectPrevious())})("onEnter",function(){return $(m),M(o.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,Ln,23,9,"table",7),_(11,"mat-paginator",8),f(12,"async"),n()(),c(13,Nn,5,1,"ng-template",null,2,le)}t&2&&(l(7),s("formControl",o.filterControl),l(),s("columns",o.columns),l(2),d(o.dataSource?10:-1),l(),s("pageSize",o.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,o.dataSource.totalSize$)))},dependencies:[k,R,I,N,ce,Ie,w,j,se,ue,ye,Ce,_e,he,fe,xe,ve,Se,G,Ee,Te,we,Ye],encapsulation:2,changeDetection:0})}};function Mn(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2),n(),a(3,"td"),r(4),n()()),e&2){let t=i.$implicit;l(2),C(t.value),l(2),C(t.label)}}var tt=class e{constructor(i){this.data=i}static{this.\u0275fac=function(t){return new(t||e)(v(Bt))}}static{this.\u0275cmp=b({type:e,selectors:[["app-argument-enum-dialog"]],decls:14,vars:0,consts:[["mat-dialog-title",""],["yaDataTable","",2,"width","100%"],["align","end"],["mat-dialog-close",""]],template:function(t,o){t&1&&(a(0,"h2",0),r(1,"Enum States"),n(),a(2,"mat-dialog-content")(3,"table",1)(4,"tr")(5,"th"),r(6,"Value"),n(),a(7,"th"),r(8,"Label"),n()(),g(9,Mn,5,2,"tr",null,S),n()(),a(11,"mat-dialog-actions",2)(12,"ya-button",3),r(13,"Close"),n()()),t&2&&(l(9),E(o.data.argument.type.enumValue))},dependencies:[I,J,Yt,Ot,jt,zt,Ht],encapsulation:2})}};var qn=(e,i)=>({c:e,filter:i}),Rn=e=>["/mdb/commands/",e],qe=e=>({c:e}),kn=e=>["/mdb/algorithms/",e],Bn=e=>["/mdb/containers/",e],ai=e=>["/mdb/parameters/",e];function Vn(e,i){if(e&1&&(a(0,"a",1),r(1),n()),e&2){let t=i,o=p();s("queryParams",O(2,qn,o.yamcs.context,t)),l(),u(" ",t," ")}}function Yn(e,i){if(e&1&&(a(0,"dt"),r(1),n(),a(2,"dd"),r(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function On(e,i){if(e&1&&_(0,"app-markdown",2),e&2){let t=p();s("text",t.command.longDescription)}}function zn(e,i){e&1&&r(0," - ")}function jn(e,i){if(e&1&&(a(0,"dd")(1,"a",5),r(2),n()()),e&2){let t=p();l(),s("routerLink",h(3,Rn,t.command.baseCommand.qualifiedName))("queryParams",h(5,qe,t.yamcs.context)),l(),u(" ",t.command.baseCommand.qualifiedName," ")}}function Hn(e,i){e&1&&(a(0,"dd"),r(1,"-"),n())}function Un(e,i){if(e&1&&(a(0,"dd"),_(1,"app-significance-level",6),r(2),n()),e&2){let t=p();l(),s("level",t.command.significance.consequenceLevel),l(),u(" ",t.command.significance.reasonForWarning," ")}}function Qn(e,i){e&1&&(a(0,"dd"),r(1,"-"),n())}function Gn(e,i){if(e&1&&(r(0),_(1,"br")),e&2){let t=i.$implicit;ee(" ",t.name," = ",t.value," ")}}function Wn(e,i){if(e&1&&(a(0,"dd"),g(1,Gn,2,2,null,null,S),n()),e&2){let t=p();l(),E(t.command.argumentAssignment)}}function Kn(e,i){e&1&&(a(0,"dd"),r(1,"-"),n())}function Xn(e,i){if(e&1){let t=te();a(0,"span",9),ie("click",function(){$(t);let m=p().$implicit,x=p(2);return M(x.showEnum(m))}),r(1),n()}if(e&2){let t=p().$implicit;l(),u(" ",t.type.engType," ")}}function Jn(e,i){if(e&1&&r(0),e&2){let t=p().$implicit;u(" ",t.type.engType||"-"," ")}}function Zn(e,i){if(e&1&&_(0,"ya-interval",8),e&2){let t=p().$implicit;s("left",t.type.rangeMin)("right",t.type.rangeMax)}}function ea(e,i){e&1&&r(0," - ")}function ta(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2),n(),a(3,"td"),r(4),n(),a(5,"td"),c(6,Xn,2,1,"span",7)(7,Jn,1,1),n(),a(8,"td"),r(9),n(),a(10,"td"),r(11),n(),a(12,"td"),r(13),f(14,"nvl"),n(),a(15,"td"),r(16),n(),a(17,"td"),c(18,Zn,1,2,"ya-interval",8)(19,ea,1,0),n(),a(20,"td"),r(21),n()()),e&2){let t,o=i.$implicit;l(2),C(o.name||"-"),l(2),C(o.description||"-"),l(2),d(o.type.engType==="enumeration"?6:-1),l(),d(o.type.engType!=="enumeration"?7:-1),l(2),C((t=o.type.signed)!==null&&t!==void 0?t:"-"),l(2),C((o.type.dataEncoding==null?null:o.type.dataEncoding.encoding)||"-"),l(2),C(L(14,10,o.type.dataEncoding==null?null:o.type.dataEncoding.sizeInBits,"-")),l(3),u(" ",o.type.dataEncoding!=null&&o.type.dataEncoding.littleEndian?"Little Endian":"Big Endian"," "),l(2),d(o.type.rangeMin||o.type.rangeMax?18:19),l(3),C(o.initialValue||"-")}}function ia(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),r(4,"Name"),n(),a(5,"th"),r(6,"Description"),n(),a(7,"th"),r(8,"Type"),n(),a(9,"th"),r(10,"Signed"),n(),a(11,"th"),r(12,"Encoding"),n(),a(13,"th"),r(14,"Size in bits"),n(),a(15,"th"),r(16,"Byte order"),n(),a(17,"th"),r(18,"Range"),n(),a(19,"th"),r(20,"Initial value"),n()(),g(21,ta,22,13,"tr",null,S),n()()),e&2){let t=p();l(21),E(t.command.argument)}}function na(e,i){e&1&&(a(0,"dd"),r(1,"-"),n())}function aa(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2),n(),a(3,"td"),r(4),n()()),e&2){let t=i.$implicit;l(2),C(t.expression),l(2),C(t.timeout||"-")}}function oa(e,i){if(e&1&&(a(0,"dd")(1,"table",4)(2,"tr")(3,"th"),r(4,"Constraint"),n(),a(5,"th"),r(6,"Timeout"),n()(),g(7,aa,5,2,"tr",null,S),n()()),e&2){let t=p();l(7),E(t.command.constraint)}}function ra(e,i){e&1&&(a(0,"dd"),r(1,"-"),n())}function la(e,i){e&1&&r(0," Algorithm ")}function ma(e,i){e&1&&r(0," Container ")}function pa(e,i){e&1&&r(0," Expression ")}function ca(e,i){if(e&1&&(a(0,"a",10),r(1),n()),e&2){let t=p().$implicit,o=p(2);s("routerLink",h(3,kn,t.algorithm.qualifiedName))("queryParams",h(5,qe,o.yamcs.context)),l(),u(" ",t.algorithm.qualifiedName," ")}}function da(e,i){if(e&1&&(a(0,"a",10),r(1),n()),e&2){let t=p().$implicit,o=p(2);s("routerLink",h(3,Bn,t.container.qualifiedName))("queryParams",h(5,qe,o.yamcs.context)),l(),u(" ",t.container.qualifiedName," ")}}function sa(e,i){if(e&1&&r(0),e&2){let t=p().$implicit;u(" ",t.expression," ")}}function _a(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2),n(),a(3,"td"),c(4,la,1,0)(5,ma,1,0)(6,pa,1,0),n(),a(7,"td"),c(8,ca,2,7,"a",10)(9,da,2,7,"a",10)(10,sa,1,1),n(),a(11,"td"),r(12),n(),a(13,"td"),r(14),n(),a(15,"td"),r(16),n(),a(17,"td"),r(18),n(),a(19,"td"),r(20),n()()),e&2){let t=i.$implicit;l(2),C(t.stage),l(2),d(t.algorithm?4:-1),l(),d(t.container?5:-1),l(),d(t.expression?6:-1),l(2),d(t.algorithm?8:-1),l(),d(t.container?9:-1),l(),d(t.expression?10:-1),l(2),ee(" [",t.checkWindow.timeToStartChecking||"0",",",t.checkWindow.timeToStopChecking||"0","] "),l(2),C(t.checkWindow.relativeTo),l(2),C(t.onSuccess||"-"),l(2),C(t.onFail||"-"),l(2),C(t.onTimeout||"-")}}function ua(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),r(3,"Stage"),n(),a(4,"th"),r(5,"Type"),n(),a(6,"th"),r(7,"Ref"),n(),a(8,"th"),r(9,"Check window"),n(),a(10,"th"),r(11,"Relative to"),n(),a(12,"th"),r(13,"On success"),n(),a(14,"th"),r(15,"On fail"),n(),a(16,"th"),r(17,"On timeout"),n()(),g(18,_a,21,13,"tr",null,S),n()),e&2){let t=p();l(18),E(t.command.verifier)}}function Ca(e,i){e&1&&r(0," - ")}function fa(e,i){if(e&1&&(a(0,"td"),r(1,"Argument"),n(),a(2,"td"),r(3),n(),a(4,"td"),r(5),n()),e&2){let t,o=p().$implicit;l(3),C(o.argument.name),l(2),C((t=o.argument.type.dataEncoding==null?null:o.argument.type.dataEncoding.sizeInBits)!==null&&t!==void 0?t:"-")}}function xa(e,i){if(e&1&&(a(0,"td"),r(1,"Parameter"),n(),a(2,"td")(3,"a",5),r(4),n()(),a(5,"td"),r(6),n()),e&2){let t,o=p().$implicit,m=p(2);l(3),s("routerLink",h(4,ai,o.parameter.qualifiedName))("queryParams",h(6,qe,m.yamcs.context)),l(),u(" ",o.parameter.qualifiedName," "),l(2),C((t=o.parameter.type==null||o.parameter.type.dataEncoding==null?null:o.parameter.type.dataEncoding.sizeInBits)!==null&&t!==void 0?t:"-")}}function ya(e,i){if(e&1&&(a(0,"td"),r(1,"Fixed value"),n(),a(2,"td"),r(3),n(),a(4,"td"),r(5),n()),e&2){let t=p().$implicit;l(3),ee("",t.fixedValue.name,": 0x",t.fixedValue.hexValue,""),l(2),C(t.fixedValue.sizeInBits)}}function ha(e,i){e&1&&r(0),e&2&&u(" (",i,") ")}function va(e,i){if(e&1&&(a(0,"td"),r(1,"Indirect parameter"),n(),a(2,"td")(3,"a",5),r(4),c(5,ha,1,1),n()(),a(6,"td"),r(7,"-"),n()),e&2){let t,o=p().$implicit,m=p(2);l(3),s("routerLink",h(4,ai,o.indirectParameterRef.parameter.qualifiedName))("queryParams",h(6,qe,m.yamcs.context)),l(),u(" ",o.indirectParameterRef.parameter.qualifiedName," "),l(),d((t=o.indirectParameterRef.aliasNamespace)?5:-1,t)}}function Sa(e,i){if(e&1&&(a(0,"tr"),c(1,fa,6,2)(2,xa,7,8)(3,ya,6,3)(4,va,8,8),a(5,"td"),r(6),n(),a(7,"td"),r(8),n()()),e&2){let t=i.$implicit;l(),d(t.argument?1:t.parameter?2:t.fixedValue?3:t.indirectParameterRef?4:-1),l(5),C(t.locationInBits),l(2),C(t.referenceLocation)}}function ga(e,i){if(e&1&&(a(0,"table",4)(1,"tr")(2,"th"),r(3,"Type"),n(),a(4,"th"),r(5,"Ref"),n(),a(6,"th"),r(7,"Size in bits"),n(),a(8,"th"),r(9,"Location in bits"),n(),a(10,"th"),r(11,"Reference location"),n()(),g(12,Sa,9,3,"tr",null,S),n()),e&2){let t=p();l(12),E(t.command.commandContainer==null?null:t.command.commandContainer.entry)}}function Ea(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}var it=class e{constructor(i,t){this.yamcs=i;this.dialog=t}showEnum(i){this.dialog.open(tt,{width:"400px",data:{argument:i}})}static{this.\u0275fac=function(t){return new(t||e)(v(A),v(Vt))}}static{this.\u0275cmp=b({type:e,selectors:[["app-command-detail"]],inputs:{command:"command"},decls:64,vars:16,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],["yaDataTable",""],[1,"ya-link",3,"routerLink","queryParams"],[3,"level"],["matTooltip","Show enum states",1,"enum"],[3,"left","right"],["matTooltip","Show enum states",1,"enum",3,"click"],[3,"routerLink","queryParams"]],template:function(t,o){if(t&1&&(a(0,"dl",0)(1,"dt"),r(2,"Command"),n(),a(3,"dd"),r(4),f(5,"shortName"),n(),a(6,"dt"),r(7,"System"),n(),a(8,"dd"),c(9,Vn,2,5,"a",1),f(10,"spaceSystemName"),n(),g(11,Yn,4,2,null,null,S),a(13,"dt"),r(14,"Short description"),n(),a(15,"dd"),r(16),n(),a(17,"dt"),r(18,"Long description"),n(),a(19,"dd"),c(20,On,1,1,"app-markdown",2)(21,zn,1,0),n()(),_(22,"mat-divider"),a(23,"dl",3)(24,"dt"),r(25,"Base command"),n(),c(26,jn,3,7,"dd")(27,Hn,2,0,"dd"),a(28,"dt"),r(29,"Abstract"),n(),a(30,"dd"),r(31),n(),a(32,"dt"),r(33,"Significance"),n(),c(34,Un,3,2,"dd")(35,Qn,2,0,"dd"),a(36,"dt"),r(37,"Argument assignments"),n(),c(38,Wn,3,0,"dd")(39,Kn,2,0,"dd"),a(40,"dt"),r(41,"Arguments"),n(),c(42,ia,23,0,"dd")(43,na,2,0,"dd"),n(),_(44,"mat-divider"),a(45,"dl",3)(46,"dt"),r(47,"Constraints"),n(),c(48,oa,9,0,"dd")(49,ra,2,0,"dd"),n(),_(50,"mat-divider"),a(51,"dl",3)(52,"dt"),r(53,"Verifiers"),n(),a(54,"dd"),c(55,ua,20,0,"table",4)(56,Ca,1,0),n()(),_(57,"mat-divider"),a(58,"dl",3)(59,"dt"),r(60,"Sequence entries"),n(),a(61,"dd"),c(62,ga,14,0,"table",4)(63,Ea,2,0,"span"),n()()),t&2){let m;l(4),C(y(5,12,o.command.qualifiedName)),l(5),d((m=y(10,14,o.command.qualifiedName))?9:-1,m),l(2),E(o.command.alias),l(5),C(o.command.shortDescription||"-"),l(4),d(o.command.longDescription?20:21),l(6),d(o.command.baseCommand?26:27),l(5),C(o.command.abstract?"Yes":"No"),l(3),d(o.command.significance?34:35),l(4),d(o.command.argumentAssignment?38:39),l(4),d(o.command.argument?42:43),l(6),d(o.command.constraint?48:49),l(7),d(o.command.verifier!=null&&o.command.verifier.length?55:56),l(7),d(o.command.commandContainer!=null&&o.command.commandContainer.entry?62:63)}},dependencies:[Pe,I,w,J,de,Rt,Fe,Le,H,U,Ye],styles:[".enum[_ngcontent-%COMP%]{border-bottom:1px dotted #888;cursor:pointer}"],changeDetection:0})}};var Ta=(e,i)=>({c:e,filter:i});function Da(e,i){if(e&1&&(a(0,"a",2),r(1),n(),r(2),f(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,o=p(),m=p();s("queryParams",O(6,Ta,m.yamcs.context,t)),l(),u(" ",t," "),l(),u("/",y(3,4,o.qualifiedName)," "),l(2),s("text",o.qualifiedName)}}function Pa(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,Da,5,9),f(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-command-detail",1),n()()),e&2){let t,o=i;l(2),d((t=y(3,2,o.qualifiedName))?2:-1,t),l(3),s("command",o)}}var nt=class e{constructor(i,t,o){this.yamcs=t;this.title=o;this.command$=new T(null);i.paramMap.subscribe(m=>{let x=m.get("qualifiedName");this.changeCommand(x)})}changeCommand(i){this.yamcs.yamcsClient.getCommand(this.yamcs.instance,i).then(t=>{this.command$.next(t),this.title.setTitle(t.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(z),v(A),v(q))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[1,"panel-content"],[3,"command"],["routerLink","/mdb/commands",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,o){if(t&1&&(c(0,Pa,6,4,"app-instance-page"),f(1,"async")),t&2){let m;d((m=y(1,1,o.command$))?0:-1,m)}},dependencies:[it,k,R,I,N,w,De,H,U],encapsulation:2,changeDetection:0})}};var at=class extends me{constructor(t){super();this.yamcs=t;this.containers$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.containers$}loadContainers(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getContainers(this.yamcs.instance,t).then(o=>{this.loading$.next(!1),this.totalSize$.next(o.totalSize),this.containers$.next(o.containers||[])})}getAliasNamespaces(){let t=[];for(let o of this.containers$.value)if(o.alias)for(let m of o.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.containers$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var ba=["top"],Ia=e=>["/mdb/containers",e],oi=e=>({c:e}),wa=e=>["/mdb/containers/",e];function Aa(e,i){e&1&&(a(0,"th",25),r(1,"Name"),n())}function Fa(e,i){if(e&1&&(a(0,"td",26)(1,"a",27),_(2,"ya-highlight",28),n()()),e&2){let t=i.$implicit,o=p(2);l(),s("routerLink",h(4,Ia,t.qualifiedName))("queryParams",h(6,oi,o.yamcs.context)),l(),s("text",o.shortName?t.name:t.qualifiedName)("term",o.filterControl.value)}}function La(e,i){e&1&&(a(0,"th",25),r(1,"Max interval"),n())}function Na(e,i){if(e&1&&(a(0,"td",26),r(1),f(2,"millisDuration"),n()),e&2){let t=i.$implicit;l(),u(" ",y(2,1,t.maxInterval)||"-"," ")}}function $a(e,i){e&1&&(a(0,"th",25),r(1,"Size in bits"),n())}function Ma(e,i){if(e&1&&(a(0,"td",26),r(1),n()),e&2){let t=i.$implicit;l(),C(t.sizeInBits||"-")}}function qa(e,i){e&1&&(a(0,"th",25),r(1,"Base container"),n())}function Ra(e,i){if(e&1&&(a(0,"a",29),r(1),n()),e&2){let t=p().$implicit,o=p(2);s("routerLink",h(3,wa,t.baseContainer==null?null:t.baseContainer.qualifiedName))("queryParams",h(5,oi,o.yamcs.context)),l(),u(" ",(t.baseContainer==null?null:t.baseContainer.qualifiedName)||"-"," ")}}function ka(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function Ba(e,i){if(e&1&&(a(0,"td",26),c(1,Ra,2,7,"a",29)(2,ka,2,0,"span"),n()),e&2){let t=i.$implicit;l(),d(t.baseContainer?1:2)}}function Va(e,i){e&1&&(a(0,"th",25),r(1,"Restriction criteria"),n())}function Ya(e,i){if(e&1&&(a(0,"td",26),r(1),n()),e&2){let t=i.$implicit;Z("mono",!!t.restrictionCriteriaExpression),l(),u(" ",t.restrictionCriteriaExpression||"-"," ")}}function Oa(e,i){e&1&&(a(0,"th",25),r(1,"Partition"),n())}function za(e,i){if(e&1&&(a(0,"td",26),r(1),n()),e&2){let t=i.$implicit;l(),u(" ",t.archivePartition?"Yes":"-"," ")}}function ja(e,i){e&1&&(a(0,"th",25),r(1,"Description"),n())}function Ha(e,i){if(e&1&&(a(0,"td",30),r(1),n()),e&2){let t=i.$implicit;l(),u(" ",t.shortDescription||"-"," ")}}function Ua(e,i){if(e&1&&(a(0,"th",25),r(1),n()),e&2){let t=p().$implicit;l(),u(" ",t.label," ")}}function Qa(e,i){e&1&&r(0),e&2&&u(" ",i," ")}function Ga(e,i){e&1&&r(0," - ")}function Wa(e,i){if(e&1&&(a(0,"td",26),c(1,Qa,1,1),f(2,"alias"),c(3,Ga,1,0),n()),e&2){let t,o=i.$implicit,m=p().$implicit;l(),d((t=L(2,1,o,m.id))?1:3,t)}}function Ka(e,i){if(e&1&&(D(0,20),c(1,Ua,2,1,"th",10)(2,Wa,4,4,"td",11),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function Xa(e,i){e&1&&_(0,"th",31)}function Ja(e,i){e&1&&_(0,"td",26)}function Za(e,i){e&1&&_(0,"tr",32)}function eo(e,i){if(e&1&&_(0,"tr",33),e&2){let t=i.$implicit,o=p(2);Z("selected",o.selection.isSelected(t))}}function to(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,Aa,2,0,"th",10)(3,Fa,3,8,"td",11),P(),D(4,12),c(5,La,2,0,"th",10)(6,Na,3,3,"td",11),P(),D(7,13),c(8,$a,2,0,"th",10)(9,Ma,2,1,"td",11),P(),D(10,14),c(11,qa,2,0,"th",10)(12,Ba,3,1,"td",11),P(),D(13,15),c(14,Va,2,0,"th",10)(15,Ya,2,3,"td",16),P(),D(16,17),c(17,Oa,2,0,"th",10)(18,za,2,1,"td",11),P(),D(19,18),c(20,ja,2,0,"th",10)(21,Ha,2,1,"td",19),P(),g(22,Ka,3,1,"ng-container",20,S),f(24,"async"),D(25,21),c(26,Xa,1,0,"th",22)(27,Ja,1,0,"td",11),P(),c(28,Za,1,0,"tr",23),f(29,"async"),c(30,eo,1,2,"tr",24),f(31,"async"),n()),e&2){let t=p(),o=re(9);s("dataSource",t.dataSource),l(22),E(y(24,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",y(29,5,o.displayedColumns$)),l(2),s("matRowDefColumns",y(31,7,o.displayedColumns$))}}function io(e,i){if(e&1&&(a(0,"div",3),r(1," The Mission Database for "),a(2,"i"),r(3),n(),r(4," does not define any containers. "),n()),e&2){let t=p();l(3),C(t.yamcs.instance)}}var ot=class e{constructor(i,t,o,m,x){this.yamcs=i;this.route=o;this.router=m;this.messageService=x;this.shortName=!1;this.pageSize=100;this.filterControl=new ae;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"maxInterval",label:"Max Interval",visible:!0},{id:"sizeInBits",label:"Size in bits",visible:!0},{id:"baseContainer",label:"Base Container",visible:!0},{id:"restrictionCriteria",label:"Restriction Criteria",visible:!0},{id:"archivePartition",label:"Partition"},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.selection=new pe(!1);t.setTitle("Containers"),this.dataSource=new at(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadContainers(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let x=this.columns.indexOf(m);x!==-1&&this.columns.splice(x,1)}let o=[];for(let m of this.dataSource.getAliasNamespaces()){let x={id:m,label:m,alwaysVisible:!0};o.push(x)}this.columns.splice(1,0,...o),this.aliasColumns$.next(o),this.columnChooser.recalculate(this.columns)}).catch(o=>this.messageService.showError(o))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.containers$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.min(i.indexOf(o)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.containers$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.max(i.indexOf(o)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.containers$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/containers",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(A),v(q),v(z),v(ne),v(ge))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,o){if(t&1&&(B(ba,7),B(j,7),B(G,5)),t&2){let m;V(m=Y())&&(o.top=m.first),V(m=Y())&&(o.paginator=m.first),V(m=Y())&&(o.columnChooser=m.first)}},decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter containers",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","containers",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","maxInterval"],["matColumnDef","sizeInBits"],["matColumnDef","baseContainer"],["matColumnDef","restrictionCriteria"],["mat-cell","",3,"mono",4,"matCellDef"],["matColumnDef","archivePartition"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"secundary",3,"routerLink","queryParams"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(t&1){let m=te();a(0,"app-instance-page")(1,"app-instance-toolbar"),r(2,"Containers"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ie("onArrowDown",function(){return $(m),M(o.selectNext())})("onArrowUp",function(){return $(m),M(o.selectPrevious())})("onEnter",function(){return $(m),M(o.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,to,32,9,"table",7),_(11,"mat-paginator",8),f(12,"async"),n(),c(13,io,5,1,"ng-template",null,2,le),n()}t&2&&(l(7),s("formControl",o.filterControl),l(),s("columns",o.columns),l(2),d(o.dataSource?10:-1),l(),s("pageSize",o.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,o.dataSource.totalSize$)))},dependencies:[k,R,I,N,ce,Ie,w,j,se,ue,ye,Ce,_e,he,fe,xe,ve,Se,G,Ee,Te,we,Ve],encapsulation:2,changeDetection:0})}};var no=(e,i)=>({c:e,filter:i}),ri=e=>["/mdb/containers/",e],Pt=e=>({c:e}),ao=e=>["/mdb/parameters/",e];function oo(e,i){if(e&1&&(a(0,"a",1),r(1),n()),e&2){let t=i,o=p();s("queryParams",O(2,no,o.yamcs.context,t)),l(),u(" ",t," ")}}function ro(e,i){if(e&1&&(a(0,"dt"),r(1),n(),a(2,"dd"),r(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function lo(e,i){if(e&1&&_(0,"app-markdown",2),e&2){let t=p();s("text",t.container.longDescription)}}function mo(e,i){e&1&&r(0," - ")}function po(e,i){if(e&1&&(a(0,"span"),r(1),f(2,"millisDuration"),n()),e&2){let t=p();l(),C(y(2,1,t.container.maxInterval))}}function co(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function so(e,i){if(e&1&&(a(0,"a",4),r(1),n()),e&2){let t=p();s("routerLink",h(3,ri,t.container.baseContainer.qualifiedName))("queryParams",h(5,Pt,t.yamcs.context)),l(),u(" ",t.container.baseContainer.qualifiedName||"-"," ")}}function _o(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function uo(e,i){if(e&1&&(a(0,"td"),r(1,"Parameter"),n(),a(2,"td")(3,"a",4),r(4),n()(),a(5,"td"),r(6),n()),e&2){let t,o=p().$implicit,m=p(2);l(3),s("routerLink",h(4,ao,o.parameter.qualifiedName))("queryParams",h(6,Pt,m.yamcs.context)),l(),u(" ",o.parameter.qualifiedName," "),l(2),C((t=o.parameter.type==null||o.parameter.type.dataEncoding==null?null:o.parameter.type.dataEncoding.sizeInBits)!==null&&t!==void 0?t:"-")}}function Co(e,i){if(e&1&&(a(0,"td"),r(1,"Container"),n(),a(2,"td")(3,"a",4),r(4),n()(),a(5,"td"),r(6),n()),e&2){let t,o=p().$implicit,m=p(2);l(3),s("routerLink",h(4,ri,o.container.qualifiedName))("queryParams",h(6,Pt,m.yamcs.context)),l(),u(" ",o.container.qualifiedName," "),l(2),C((t=o.container.sizeInBits)!==null&&t!==void 0?t:"-")}}function fo(e,i){if(e&1&&(a(0,"tr"),c(1,uo,7,8)(2,Co,7,8),a(3,"td"),r(4),n(),a(5,"td"),r(6),n()()),e&2){let t=i.$implicit;l(),d(t.parameter?1:-1),l(),d(t.container?2:-1),l(2),C(t.locationInBits),l(2),C(t.referenceLocation)}}function xo(e,i){if(e&1&&(a(0,"table",6)(1,"tr")(2,"th"),r(3,"Type"),n(),a(4,"th"),r(5,"Ref"),n(),a(6,"th"),r(7,"Size in bits"),n(),a(8,"th"),r(9,"Location in bits"),n(),a(10,"th"),r(11,"Reference location"),n()(),g(12,fo,7,4,"tr",null,S),n()),e&2){let t=p();l(12),E(t.container.entry)}}function yo(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}var rt=class e{constructor(i){this.yamcs=i}static{this.\u0275fac=function(t){return new(t||e)(v(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-container-detail"]],inputs:{container:"container"},decls:49,vars:13,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],[3,"text"],[1,"dl-horizontal"],[1,"ya-link",3,"routerLink","queryParams"],[1,"mono"],["yaDataTable",""]],template:function(t,o){if(t&1&&(a(0,"dl",0)(1,"dt"),r(2,"Container"),n(),a(3,"dd"),r(4),f(5,"shortName"),n(),a(6,"dt"),r(7,"System"),n(),a(8,"dd"),c(9,oo,2,5,"a",1),f(10,"spaceSystemName"),n(),g(11,ro,4,2,null,null,S),a(13,"dt"),r(14,"Short description"),n(),a(15,"dd"),r(16),n(),a(17,"dt"),r(18,"Long description"),n(),a(19,"dd"),c(20,lo,1,1,"app-markdown",2)(21,mo,1,0),n()(),_(22,"mat-divider"),a(23,"dl",3)(24,"dt"),r(25,"Max interval"),n(),a(26,"dd"),c(27,po,3,3,"span")(28,co,2,0,"span"),n(),a(29,"dt"),r(30,"Base container"),n(),a(31,"dd"),c(32,so,2,7,"a",4)(33,_o,2,0,"span"),n(),a(34,"dt"),r(35,"Restriction criteria"),n(),a(36,"dd",5),r(37),n(),a(38,"dt"),r(39,"Archive partition"),n(),a(40,"dd"),r(41),n()(),_(42,"mat-divider"),a(43,"dl",3)(44,"dt"),r(45,"Sequence entries"),n(),a(46,"dd"),c(47,xo,14,0,"table",6)(48,yo,2,0,"span"),n()()),t&2){let m;l(4),C(y(5,9,o.container.qualifiedName)),l(5),d((m=y(10,11,o.container.qualifiedName))?9:-1,m),l(2),E(o.container.alias),l(5),C(o.container.shortDescription||"-"),l(4),d(o.container.longDescription?20:21),l(7),d(o.container.maxInterval?27:28),l(5),d(o.container.baseContainer?32:33),l(5),u(" ",o.container.restrictionCriteriaExpression||"-"," "),l(4),u(" ",o.container.archivePartition?"Yes":"No"," "),l(6),d(o.container.entry?47:48)}},dependencies:[Pe,I,w,J,de,Ve,H,U],encapsulation:2,changeDetection:0})}};var ho=(e,i)=>({c:e,filter:i});function vo(e,i){if(e&1&&(a(0,"a",2),r(1),n(),r(2),f(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,o=p(),m=p();s("queryParams",O(6,ho,m.yamcs.context,t)),l(),u(" ",t," "),l(),u("/",y(3,4,o.qualifiedName)," "),l(2),s("text",o.qualifiedName)}}function So(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,vo,5,9),f(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-container-detail",1),n()()),e&2){let t,o=i;l(2),d((t=y(3,2,o.qualifiedName))?2:-1,t),l(3),s("container",o)}}var lt=class e{constructor(i,t,o){this.yamcs=t;this.title=o;this.container$=new T(null);i.paramMap.subscribe(m=>{let x=m.get("qualifiedName");this.changeContainer(x)})}changeContainer(i){this.yamcs.yamcsClient.getContainer(this.yamcs.instance,i).then(t=>{this.container$.next(t),this.title.setTitle(t.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(z),v(A),v(q))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[1,"panel-content"],[3,"container"],["routerLink","/mdb/containers",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,o){if(t&1&&(c(0,So,6,4,"app-instance-page"),f(1,"async")),t&2){let m;d((m=y(1,1,o.container$))?0:-1,m)}},dependencies:[rt,k,R,I,N,w,De,H,U],encapsulation:2,changeDetection:0})}};var Re=e=>({c:e});function go(e,i){if(e&1&&(a(0,"dl",1)(1,"dt"),r(2,"Parameters:"),n(),a(3,"dd")(4,"a",2),r(5),n()(),a(6,"dt"),r(7,"Parameter types:"),n(),a(8,"dd")(9,"a",3),r(10),n()(),a(11,"dt"),r(12,"Containers:"),n(),a(13,"dd")(14,"a",4),r(15),n()(),a(16,"dt"),r(17,"Commands:"),n(),a(18,"dd")(19,"a",5),r(20),n()(),a(21,"dt"),r(22,"Algorithms:"),n(),a(23,"dd")(24,"a",6),r(25),n()()()),e&2){let t=i,o=p();l(4),s("queryParams",h(10,Re,o.yamcs.context)),l(),C(t.parameterCount),l(4),s("queryParams",h(12,Re,o.yamcs.context)),l(),C(t.parameterTypeCount),l(4),s("queryParams",h(14,Re,o.yamcs.context)),l(),C(t.containerCount),l(4),s("queryParams",h(16,Re,o.yamcs.context)),l(),C(t.commandCount),l(4),s("queryParams",h(18,Re,o.yamcs.context)),l(),C(t.algorithmCount)}}var mt=class e{constructor(i,t){this.yamcs=i;t.setTitle("Mission database"),this.mdb$=i.yamcsClient.getMissionDatabase(i.instance)}static{this.\u0275fac=function(t){return new(t||e)(v(A),v(q))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],decls:6,vars:3,consts:[[1,"panel-content"],[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],["routerLink","/mdb/containers",1,"ya-link",3,"queryParams"],["routerLink","/mdb/commands",1,"ya-link",3,"queryParams"],["routerLink","/mdb/algorithms",1,"ya-link",3,"queryParams"]],template:function(t,o){if(t&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),r(2," Mission database "),n(),a(3,"div",0),c(4,go,26,20,"dl",1),f(5,"async"),n()()),t&2){let m;l(4),d((m=y(5,1,o.mdb$))?4:-1,m)}},dependencies:[k,R,I,N,w],encapsulation:2,changeDetection:0})}};var pt=class extends me{constructor(t){super();this.yamcs=t;this.parameterTypes$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.parameterTypes$}loadParameterTypes(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameterTypes(this.yamcs.instance,t).then(o=>{this.loading$.next(!1),this.totalSize$.next(o.totalSize),this.parameterTypes$.next(o.parameterTypes||[])})}getAliasNamespaces(){let t=[];for(let o of this.parameterTypes$.value)if(o.alias)for(let m of o.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.parameterTypes$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var Eo=["top"],To=e=>["/mdb/parameter-types",e],Do=e=>({c:e});function Po(e,i){e&1&&(a(0,"th",21),r(1,"Name"),n())}function bo(e,i){if(e&1&&(a(0,"td",22)(1,"a",23),_(2,"ya-highlight",24),n()()),e&2){let t=i.$implicit,o=p(2);l(),s("routerLink",h(4,To,t.qualifiedName))("queryParams",h(6,Do,o.yamcs.context)),l(),s("text",o.shortName?t.name:t.qualifiedName)("term",o.filterControl.value)}}function Io(e,i){e&1&&(a(0,"th",21),r(1,"Type"),n())}function wo(e,i){e&1&&(a(0,"span",25),r(1),n()),e&2&&(l(),u(" ",i," "))}function Ao(e,i){e&1&&r(0," - ")}function Fo(e,i){if(e&1&&(a(0,"td",22),c(1,wo,2,1,"span",25)(2,Ao,1,0),n()),e&2){let t,o=i.$implicit;l(),d((t=o.engType)?1:2,t)}}function Lo(e,i){e&1&&(a(0,"th",21),r(1,"Units"),n())}function No(e,i){if(e&1&&(a(0,"td",22),r(1),f(2,"units"),n()),e&2){let t=i.$implicit;l(),u(" ",y(2,1,t==null?null:t.unitSet)||"-"," ")}}function $o(e,i){e&1&&(a(0,"th",21),r(1,"Description"),n())}function Mo(e,i){if(e&1&&_(0,"ya-highlight",24),e&2){let t=p(3);s("text",i)("term",t.filterControl.value)}}function qo(e,i){e&1&&r(0," - ")}function Ro(e,i){if(e&1&&(a(0,"td",26),c(1,Mo,1,2,"ya-highlight",24)(2,qo,1,0),n()),e&2){let t,o=i.$implicit;l(),d((t=o.shortDescription)?1:2,t)}}function ko(e,i){if(e&1&&(a(0,"th",21),r(1),n()),e&2){let t=p().$implicit;l(),u(" ",t.label," ")}}function Bo(e,i){if(e&1&&_(0,"ya-highlight",24),e&2){let t=p(4);s("text",i)("term",t.filterControl.value)}}function Vo(e,i){e&1&&r(0," - ")}function Yo(e,i){if(e&1&&(a(0,"td",22),c(1,Bo,1,2,"ya-highlight",24),f(2,"alias"),c(3,Vo,1,0),n()),e&2){let t,o=i.$implicit,m=p().$implicit;l(),d((t=L(2,1,o,m.id))?1:3,t)}}function Oo(e,i){if(e&1&&(D(0,16),c(1,ko,2,1,"th",10)(2,Yo,4,4,"td",11),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function zo(e,i){e&1&&_(0,"th",27)}function jo(e,i){e&1&&_(0,"td",22)}function Ho(e,i){e&1&&_(0,"tr",28)}function Uo(e,i){if(e&1&&_(0,"tr",29),e&2){let t=i.$implicit,o=p(2);Z("selected",o.selection.isSelected(t))}}function Qo(e,i){if(e&1&&(a(0,"table",7),D(1,9),c(2,Po,2,0,"th",10)(3,bo,3,8,"td",11),P(),D(4,12),c(5,Io,2,0,"th",10)(6,Fo,3,1,"td",11),P(),D(7,13),c(8,Lo,2,0,"th",10)(9,No,3,3,"td",11),P(),D(10,14),c(11,$o,2,0,"th",10)(12,Ro,3,1,"td",15),P(),g(13,Oo,3,1,"ng-container",16,S),f(15,"async"),D(16,17),c(17,zo,1,0,"th",18)(18,jo,1,0,"td",11),P(),c(19,Ho,1,0,"tr",19),f(20,"async"),c(21,Uo,1,2,"tr",20),f(22,"async"),n()),e&2){let t=p(),o=re(9);s("dataSource",t.dataSource),l(13),E(y(15,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",y(20,5,o.displayedColumns$)),l(2),s("matRowDefColumns",y(22,7,o.displayedColumns$))}}function Go(e,i){if(e&1&&(a(0,"div",3),r(1," The Mission Database for "),a(2,"i"),r(3),n(),r(4," does not define any parameter types. "),n()),e&2){let t=p();l(3),C(t.yamcs.instance)}}var ct=class e{constructor(i,t,o,m,x){this.yamcs=i;this.route=o;this.router=m;this.messageService=x;this.shortName=!1;this.pageSize=100;this.filterControl=new ae;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.selection=new pe(!1);t.setTitle("Parameter types"),this.dataSource=new pt(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;this.filterControl.setValue(i.get("filter")),this.filterControl.valueChanges.subscribe(()=>{this.paginator.pageIndex=0,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,fields:["name","qualifiedName","engType","unitSet","alias","shortDescription"]},t=this.filterControl.value;t&&(i.q=t.toLowerCase()),this.dataSource.loadParameterTypes(i).then(()=>{this.selection.clear();for(let m of this.aliasColumns$.value){let x=this.columns.indexOf(m);x!==-1&&this.columns.splice(x,1)}let o=[];for(let m of this.dataSource.getAliasNamespaces()){let x={id:m,label:m,alwaysVisible:!0};o.push(x)}this.columns.splice(1,0,...o),this.aliasColumns$.next(o),this.columnChooser.recalculate(this.columns)}).catch(o=>this.messageService.showError(o))}updateURL(){let i=this.filterControl.value;this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:i||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.parameterTypes$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.min(i.indexOf(o)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.parameterTypes$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.max(i.indexOf(o)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.parameterTypes$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/parameter-types",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(A),v(q),v(z),v(ne),v(ge))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,o){if(t&1&&(B(Eo,7),B(j,7),B(G,5)),t&2){let m;V(m=Y())&&(o.top=m.first),V(m=Y())&&(o.paginator=m.first),V(m=Y())&&(o.columnChooser=m.first)}},decls:15,vars:9,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[1,"filter-bar"],["placeholder","Filter parameter types",3,"onArrowDown","onArrowUp","onEnter","formControl"],["preferenceKey","mdb-parameter-types",3,"columns"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap200",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap200"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(t&1){let m=te();a(0,"app-instance-page")(1,"app-instance-toolbar"),r(2,"Parameter types"),n(),_(3,"span",null,0),a(5,"div",3)(6,"div",4)(7,"ya-search-filter",5),ie("onArrowDown",function(){return $(m),M(o.selectNext())})("onArrowUp",function(){return $(m),M(o.selectPrevious())})("onEnter",function(){return $(m),M(o.applySelection())}),n(),_(8,"ya-column-chooser",6,1),n(),c(10,Qo,23,9,"table",7),_(11,"mat-paginator",8),f(12,"async"),n()(),c(13,Go,5,1,"ng-template",null,2,le)}t&2&&(l(7),s("formControl",o.filterControl),l(),s("columns",o.columns),l(2),d(o.dataSource?10:-1),l(),s("pageSize",o.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(12,7,o.dataSource.totalSize$)))},dependencies:[k,R,I,N,ce,Ie,w,j,se,ue,ye,Ce,_e,he,fe,xe,ve,Se,G,Ee,Te,we,Ae],encapsulation:2,changeDetection:0})}};var dt=class e{transform(i){if(!i||!i.length)return null;let t="",o=!0;for(let m=i.length-1;m>=0;m--)i[m]!==0&&(o||(i[m]>0?t+=" + ":t+=" - "),t+=Math.abs(i[m]),m===1?t+="\u{1D465}":m>=1&&(t+="\u{1D465}<sup>"+m+"</sup>"),o=!1);return t}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275pipe=Ft({name:"polynomial",type:e,pure:!0})}};var Wo=e=>["/mdb/parameters/",e],Ko=e=>({c:e});function Xo(e,i){if(e&1&&(_(0,"span",3),f(1,"polynomial")),e&2){let t=p();s("innerHTML",y(1,1,t.polynomialCalibrator.coefficients),ht)}}function Jo(e,i){if(e&1&&(a(0,"span"),r(1),n()),e&2){let t=p();l(),u("",t.splineCalibrator.points.length," points")}}function Zo(e,i){if(e&1&&(a(0,"span"),r(1),n()),e&2){let t=p();l(),u(" ",t.javaExpressionCalibrator.formula," ")}}function er(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function tr(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2,"default"),n(),a(3,"td"),r(4),n(),a(5,"td"),c(6,Xo,2,3,"span",3)(7,Jo,2,1,"span")(8,Zo,2,1,"span")(9,er,2,0,"span"),n()()),e&2){let t,o=i;l(4),C(o.type),l(2),d((t=o.type)==="POLYNOMIAL"?6:t==="SPLINE"?7:t==="JAVA_EXPRESSION"?8:9)}}function ir(e,i){if(e&1&&(a(0,"a",4),r(1),n(),r(2),f(3,"operator")),e&2){let t=i.$implicit,o=p(4);s("routerLink",h(7,Wo,t.parameter.qualifiedName))("queryParams",h(9,Ko,o.yamcs.context)),l(),u(" ",t.parameter.qualifiedName," "),l(),ee(" ",y(3,5,t.operator)," ",t.value," ")}}function nr(e,i){if(e&1&&(_(0,"span",3),f(1,"polynomial")),e&2){let t=p().$implicit;s("innerHTML",y(1,1,t.calibrator.polynomialCalibrator.coefficients),ht)}}function ar(e,i){if(e&1&&(a(0,"span"),r(1),n()),e&2){let t=p().$implicit;l(),u(" ",t.calibrator.splineCalibrator.points.length," points ")}}function or(e,i){if(e&1&&(a(0,"span"),r(1),n()),e&2){let t=p().$implicit;l(),u(" ",t.calibrator.javaExpressionCalibrator.formula," ")}}function rr(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function lr(e,i){if(e&1&&(a(0,"tr")(1,"td"),g(2,ir,4,11,null,null,S),n(),a(4,"td"),r(5),n(),a(6,"td"),c(7,nr,2,3,"span",3)(8,ar,2,1,"span")(9,or,2,1,"span")(10,rr,2,0,"span"),n()()),e&2){let t,o=i.$implicit;l(2),E(o.comparison),l(3),C(o.calibrator.type),l(2),d((t=o.calibrator.type)==="POLYNOMIAL"?7:t==="SPLINE"?8:t==="JAVA_EXPRESSION"?9:10)}}function mr(e,i){e&1&&g(0,lr,11,2,"tr",null,S),e&2&&E(i)}function pr(e,i){if(e&1&&(a(0,"table",0)(1,"tr")(2,"th",1),r(3,"Calibrator"),n(),a(4,"th",2),r(5,"Type"),n(),a(6,"th",1),r(7,"Definition"),n()(),c(8,tr,10,2,"tr")(9,mr,2,0),n()),e&2){let t,o,m=p();l(8),d((t=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.defaultCalibrator)?8:-1,t),l(),d((o=m.ptype.dataEncoding==null?null:m.ptype.dataEncoding.contextCalibrators)?9:-1,o)}}function cr(e,i){e&1&&r(0,` None
`)}var $e=class e{constructor(i){this.yamcs=i}static{this.\u0275fac=function(t){return new(t||e)(v(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-parameter-calibration"]],inputs:{ptype:"ptype"},decls:2,vars:1,consts:[["yaDataTable",""],["width","200"],["width","100"],[3,"innerHTML"],[3,"routerLink","queryParams"]],template:function(t,o){t&1&&c(0,pr,10,2,"table",0)(1,cr,1,0),t&2&&d(o.ptype.dataEncoding!=null&&o.ptype.dataEncoding.defaultCalibrator||o.ptype.dataEncoding!=null&&o.ptype.dataEncoding.contextCalibrators?0:1)},dependencies:[dt,I,w,J,Ne],encapsulation:2,changeDetection:0})}};var dr=(e,i)=>({c:e,filter:i}),li=e=>["/mdb/parameters/",e],mi=e=>({c:e});function sr(e,i){if(e&1&&(a(0,"a",1),r(1),n()),e&2){let t=i,o=p();s("queryParams",O(2,dr,o.yamcs.context,t)),l(),u(" ",t," ")}}function _r(e,i){if(e&1&&(a(0,"dt"),r(1),n(),a(2,"dd"),r(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function ur(e,i){e&1&&(a(0,"span",2),r(1),n()),e&2&&(l(),u(" ",i," "))}function Cr(e,i){e&1&&r(0," - ")}function fr(e,i){e&1&&(r(0),f(1,"units")),e&2&&u(" ",y(1,1,i)," ")}function xr(e,i){e&1&&r(0," - ")}function yr(e,i){if(e&1&&(a(0,"dt"),r(1,"Signed"),n(),a(2,"dd"),r(3),n()),e&2){let t=p();l(3),u(" ",t.parameterType.signed," ")}}function hr(e,i){if(e&1&&(a(0,"dt"),r(1,"Size in bits"),n(),a(2,"dd"),r(3),n()),e&2){let t=p();l(3),u(" ",t.parameterType.sizeInBits," ")}}function vr(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p();s("text",t.parameterType.longDescription)}}function Sr(e,i){e&1&&r(0," - ")}function gr(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2,"Parameter"),n(),a(3,"td")(4,"a",6),r(5),n()()()),e&2){let t=i.$implicit,o=p(2);l(4),s("routerLink",h(3,li,t.qualifiedName))("queryParams",h(5,mi,o.yamcs.context)),l(),u(" ",t.qualifiedName," ")}}function Er(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Used by"),n(),a(4,"table",5)(5,"tr")(6,"th"),r(7,"Type"),n(),a(8,"th"),r(9,"Ref"),n()(),g(10,gr,6,7,"tr",null,S),n(),a(12,"p"),r(13,"\xA0"),n()),e&2){let t=p();l(10),E(t.parameterType.usedBy)}}function Tr(e,i){if(e&1&&r(0),e&2){let t=p(2);u(" ",t!=null&&t.littleEndian?"Little Endian":"Big Endian"," ")}}function Dr(e,i){e&1&&r(0," - ")}function Pr(e,i){if(e&1&&(a(0,"dt"),r(1,"Byte order"),n(),a(2,"dd"),c(3,Tr,1,1)(4,Dr,1,0),n()),e&2){let t=p();l(3),d((t==null?null:t.littleEndian)!==void 0?3:-1),l(),d((t==null?null:t.littleEndian)===void 0?4:-1)}}function br(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Data encoding"),n(),a(4,"dl",7)(5,"dt"),r(6,"Size in bits"),n(),a(7,"dd"),r(8),f(9,"nvl"),n(),c(10,Pr,5,2),a(11,"dt"),r(12,"Encoding"),n(),a(13,"dd"),r(14),n()()),e&2){let t=i;l(8),C(L(9,3,t==null?null:t.sizeInBits,"-")),l(2),d((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),C((t==null?null:t.encoding)||"-")}}function Ir(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Calibration"),n(),_(4,"app-parameter-calibration",8),a(5,"p"),r(6,"\xA0"),n()),e&2){let t=p();l(4),s("ptype",t.parameterType)}}function wr(e,i){e&1&&r(0," , ")}function Ar(e,i){if(e&1&&(c(0,wr,1,0),a(1,"a",12),r(2),n(),r(3),f(4,"operator")),e&2){let t=i.$implicit,o=i.$index,m=p(4);d(o!==0?0:-1),l(),s("routerLink",h(8,li,t.parameter.qualifiedName))("queryParams",h(10,mi,m.yamcs.context)),l(),u(" ",t.parameter.name," "),l(),ee(" ",y(4,6,t.operator)," ",t.value," ")}}function Fr(e,i){if(e&1&&(a(0,"th"),g(1,Ar,5,12,null,null,S),n()),e&2){let t=i.$implicit;l(),E(t.comparison)}}function Lr(e,i){if(e&1&&(_(0,"app-alarm-level",14),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Nr(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function $r(e,i){if(e&1&&(_(0,"app-alarm-level",14),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Mr(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function qr(e,i){if(e&1&&(a(0,"td"),c(1,$r,2,3)(2,Mr,2,0,"span"),n()),e&2){let t,o=i.$implicit,m=p().$implicit,x=p(3);l(),d((t=x.getEnumerationAlarmLevel(o,m.label))?1:2,t)}}function Rr(e,i){if(e&1&&(a(0,"tr")(1,"td",13),r(2),n(),a(3,"td",13),r(4),n(),a(5,"td"),r(6),n(),a(7,"td"),c(8,Lr,2,3)(9,Nr,2,0,"span"),n(),g(10,qr,3,1,"td",null,S),n()),e&2){let t,o=i.$implicit,m=p(3);l(2),C(o.value),l(2),C(o.label),l(2),C(o.description||"-"),l(2),d((t=m.getDefaultAlarmLevel(m.parameterType,o.label))?8:9,t),l(2),E(m.parameterType.contextAlarm)}}function kr(e,i){if(e&1&&(_(0,"app-alarm-level",14),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Br(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function Vr(e,i){if(e&1&&(_(0,"app-alarm-level",14),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Yr(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function Or(e,i){if(e&1&&(a(0,"td"),c(1,Vr,2,3)(2,Yr,2,0,"span"),n()),e&2){let t,o=i.$implicit,m=p().$implicit,x=p(3);l(),d((t=x.getEnumerationAlarmLevel(o,m.label))?1:2,t)}}function zr(e,i){if(e&1&&(a(0,"tr")(1,"td",13),_(2,"ya-interval",15),n(),a(3,"td",13),r(4),n(),a(5,"td"),r(6),n(),a(7,"td"),c(8,kr,2,3)(9,Br,2,0,"span"),n(),g(10,Or,3,1,"td",null,S),n()),e&2){let t,o=i.$implicit,m=p(3);l(2),s("left",o.min)("right",o.max)("leftInclusive",o.minInclusive)("rightInclusive",o.maxInclusive),l(2),C(o.label),l(2),C(o.description||"-"),l(2),d((t=m.getDefaultAlarmLevel(m.parameterType,o.label))?8:9,t),l(2),E(m.parameterType.contextAlarm)}}function jr(e,i){if(e&1&&(_(0,"app-alarm-level",14),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Hr(e,i){if(e&1&&(_(0,"app-alarm-level",14),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Ur(e,i){if(e&1&&(a(0,"td"),c(1,Hr,2,3),n()),e&2){let t,o=i.$implicit;l(),d((t=o.alarm.defaultLevel)?1:-1,t)}}function Qr(e,i){if(e&1&&(a(0,"table",5)(1,"tr")(2,"th",9),r(3,"Value"),n(),a(4,"th",10),r(5,"Label"),n(),a(6,"th",11),r(7,"Description"),n(),a(8,"th"),r(9,"Alarm level (default)"),n(),g(10,Fr,3,0,"th",null,S),n(),g(12,Rr,12,4,"tr",null,S),g(14,zr,12,7,"tr",null,S),a(16,"tr")(17,"td"),r(18,"Other"),n(),a(19,"td"),r(20,"UNDEF"),n(),a(21,"td"),r(22,"-"),n(),a(23,"td"),c(24,jr,2,3),n(),g(25,Ur,2,1,"td",null,S),n()()),e&2){let t,o=p(2);l(10),E(o.parameterType.contextAlarm),l(2),E(o.parameterType.enumValues),l(2),E(o.parameterType.enumRanges),l(10),d((t=o.parameterType.defaultAlarm==null?null:o.parameterType.defaultAlarm.defaultLevel)?24:-1,t),l(),E(o.parameterType.contextAlarm)}}function Gr(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Enumeration"),n(),c(4,Qr,27,1,"table",5),a(5,"p"),r(6,"\xA0"),n()),e&2){let t=p();l(4),d(t.parameterType.engType==="enumeration"?4:-1)}}function Wr(e,i){if(e&1&&(_(0,"ya-interval",17),f(1,"nvl"),f(2,"nvl")),e&2){let t=p().$implicit;s("left",L(1,5,t.minInclusive,t.minExclusive))("right",L(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function Kr(e,i){e&1&&r(0," - ")}function Xr(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",14),r(3),n(),a(4,"td"),c(5,Wr,3,11,"ya-interval",17)(6,Kr,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),u(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function Jr(e,i){if(e&1&&(a(0,"dl",16)(1,"dt"),r(2,"Min. violations"),n(),a(3,"dd"),r(4),n()(),a(5,"table",5)(6,"tr")(7,"th"),r(8,"Alarm level (default)"),n(),a(9,"th"),r(10,"Range"),n()(),g(11,Xr,7,4,"tr",null,S),n()),e&2){let t=i;l(4),C(t.minViolations),l(7),E(t.staticAlarmRanges)}}function Zr(e,i){e&1&&(a(0,"p"),r(1,"\xA0"),n())}function el(e,i){if(e&1&&(_(0,"ya-interval",17),f(1,"nvl"),f(2,"nvl")),e&2){let t=p().$implicit;s("left",L(1,5,t.minInclusive,t.minExclusive))("right",L(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function tl(e,i){e&1&&r(0," - ")}function il(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",14),r(3),n(),a(4,"td"),c(5,el,3,11,"ya-interval",17)(6,tl,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),u(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function nl(e,i){if(e&1&&(c(0,Zr,2,0,"p"),a(1,"h5"),r(2," Context: "),a(3,"code"),r(4),n()(),a(5,"dl",16)(6,"dt"),r(7,"Min. violations"),n(),a(8,"dd"),r(9),n()(),a(10,"table",5)(11,"tr")(12,"th"),r(13,"Level"),n(),a(14,"th"),r(15,"Range"),n()(),g(16,il,7,4,"tr",null,S),n()),e&2){let t=i.$implicit,o=i.$index;d(o!==0?0:-1),l(4),C(t.context),l(5),C(t.alarm.minViolations),l(7),E(t.alarm.staticAlarmRanges)}}function al(e,i){if(e&1&&(c(0,Jr,13,1),g(1,nl,18,3,null,null,S)),e&2){let t,o=p(2);d((t=o.parameterType.defaultAlarm)?0:-1,t),l(),E(o.parameterType.contextAlarm)}}function ol(e,i){e&1&&r(0," None ")}function rl(e,i){if(e&1&&(a(0,"div",4),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Alarm Info"),n(),c(4,al,3,1)(5,ol,1,0),a(6,"p"),r(7,"\xA0"),n()),e&2){let t=p();l(4),d(t.parameterType.defaultAlarm||t.parameterType.contextAlarm?4:5)}}var st=class e{constructor(i){this.yamcs=i}getDefaultAlarmLevel(i,t){if(i&&i.defaultAlarm){let o=i.defaultAlarm;if(o.enumerationAlarms){for(let m of o.enumerationAlarms)if(m.label===t)return m.level}return o.defaultLevel}}getEnumerationAlarmLevel(i,t){let o=i.alarm;for(let m of o.enumerationAlarms)if(m.label===t)return m.level;return o.defaultLevel}static{this.\u0275fac=function(t){return new(t||e)(v(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-parameter-type-detail"]],inputs:{parameterType:"parameterType"},decls:40,vars:17,consts:[[1,"dl-horizontal","no-lead"],["routerLink","/mdb/parameter-types",1,"ya-link",3,"queryParams"],[1,"mono"],[3,"text"],[1,"section-divider"],["yaDataTable",""],[3,"routerLink","queryParams"],[1,"dl-horizontal","no-trail"],[3,"ptype"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[1,"secundary",3,"routerLink","queryParams"],[2,"white-space","nowrap"],[3,"level","grayscale"],[3,"left","right","leftInclusive","rightInclusive"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(t,o){if(t&1&&(a(0,"dl",0)(1,"dt"),r(2,"Parameter type"),n(),a(3,"dd"),r(4),f(5,"shortName"),n(),a(6,"dt"),r(7,"System"),n(),a(8,"dd"),c(9,sr,2,5,"a",1),f(10,"spaceSystemName"),n(),g(11,_r,4,2,null,null,S),a(13,"dt"),r(14,"Type"),n(),a(15,"dd"),c(16,ur,2,1,"span",2)(17,Cr,1,0),n(),a(18,"dt"),r(19,"Units"),n(),a(20,"dd"),c(21,fr,2,3)(22,xr,1,0),n(),c(23,yr,4,1)(24,hr,4,1),a(25,"dt"),r(26,"Short description"),n(),a(27,"dd"),r(28),n(),a(29,"dt"),r(30,"Long description"),n(),a(31,"dd"),c(32,vr,1,1,"app-markdown",3)(33,Sr,1,0),n()(),c(34,Er,14,0)(35,br,15,6)(36,Ir,7,1)(37,Gr,7,1)(38,rl,8,1),_(39,"mat-divider")),t&2){let m,x,F,bt;l(4),C(y(5,13,o.parameterType.qualifiedName)),l(5),d((m=y(10,15,o.parameterType.qualifiedName))?9:-1,m),l(2),E(o.parameterType.alias),l(5),d((x=o.parameterType.engType)?16:17,x),l(5),d((F=o.parameterType.unitSet)?21:22,F),l(2),d(o.parameterType.signed!==void 0?23:-1),l(),d(o.parameterType.sizeInBits!==void 0?24:-1),l(4),C(o.parameterType.shortDescription||"-"),l(4),d(o.parameterType.longDescription?32:33),l(2),d(o.parameterType.usedBy!=null&&o.parameterType.usedBy.length?34:-1),l(),d((bt=o.parameterType.dataEncoding)?35:-1,bt),l(),d(o.parameterType.engType==="integer"||o.parameterType.engType==="float"?36:-1),l(),d(o.parameterType.engType==="enumeration"?37:-1),l(),d(o.parameterType.engType==="integer"||o.parameterType.engType==="float"?38:-1)}},dependencies:[Oe,Pe,$e,I,w,J,de,Fe,Le,Ne,H,U,Ae],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}"],changeDetection:0})}};var ll=(e,i)=>({c:e,filter:i});function ml(e,i){if(e&1&&(a(0,"a",2),r(1),n(),r(2),f(3,"shortName"),_(4,"ya-title-copy",3)),e&2){let t=i,o=p(),m=p();s("queryParams",O(6,ll,m.yamcs.context,t)),l(),u(" ",t," "),l(),u("/",y(3,4,o.qualifiedName)," "),l(2),s("text",o.qualifiedName)}}function pl(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,ml,5,9),f(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-parameter-type-detail",1),n()()),e&2){let t,o=i;l(2),d((t=y(3,2,o.qualifiedName))?2:-1,t),l(3),s("parameterType",o)}}var _t=class e{constructor(i,t,o){this.yamcs=t;this.title=o;this.ptype$=new T(null);i.paramMap.subscribe(m=>{let x=m.get("qualifiedName");this.changeParameterType(x)})}changeParameterType(i){this.yamcs.yamcsClient.getParameterType(this.yamcs.instance,i).then(t=>{this.ptype$.next(t),this.title.setTitle(t.name)})}static{this.\u0275fac=function(t){return new(t||e)(v(z),v(A),v(q))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[1,"panel-content"],[3,"parameterType"],["routerLink","/mdb/parameter-types",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,o){if(t&1&&(c(0,pl,6,4,"app-instance-page"),f(1,"async")),t&2){let m;d((m=y(1,1,o.ptype$))?0:-1,m)}},dependencies:[k,R,st,I,N,w,De,H,U],encapsulation:2,changeDetection:0})}};var ut=class extends me{constructor(t){super();this.yamcs=t;this.parameters$=new T([]);this.totalSize$=new T(0);this.loading$=new T(!1)}connect(){return this.parameters$}loadParameters(t){return this.loading$.next(!0),this.yamcs.yamcsClient.getParameters(this.yamcs.instance,t).then(o=>{this.loading$.next(!1),this.totalSize$.next(o.totalSize),this.parameters$.next(o.parameters||[])})}getAliasNamespaces(){let t=[];for(let o of this.parameters$.value)if(o.alias)for(let m of o.alias)m.namespace&&t.indexOf(m.namespace)===-1&&t.push(m.namespace);return t.sort()}disconnect(){this.parameters$.complete(),this.totalSize$.complete(),this.loading$.complete()}};var cl=["top"],dl=e=>["/mdb/parameters",e],sl=e=>({c:e});function _l(e,i){e&1&&(a(0,"th",25),r(1,"Name"),n())}function ul(e,i){if(e&1&&(a(0,"td",26)(1,"a",27),f(2,"memberPath"),_(3,"ya-highlight",28),f(4,"memberPath"),n()()),e&2){let t=i.$implicit,o=p(2);l(),s("routerLink",h(8,dl,y(2,4,t)))("queryParams",h(10,sl,o.yamcs.context)),l(2),s("text",y(4,6,t))("term",o.filterForm.value.filter)}}function Cl(e,i){e&1&&(a(0,"th",25),r(1,"Type"),n())}function fl(e,i){e&1&&(a(0,"span",29),r(1),n()),e&2&&(l(),u(" ",i," "))}function xl(e,i){e&1&&r(0," - ")}function yl(e,i){if(e&1&&(a(0,"td",26),c(1,fl,2,1,"span",29),f(2,"parameterTypeForPath"),c(3,xl,1,0),n()),e&2){let t,o=i.$implicit;l(),d((t=(t=y(2,1,o))==null?null:t.engType)?1:3,t)}}function hl(e,i){e&1&&(a(0,"th",25),r(1,"Units"),n())}function vl(e,i){if(e&1&&(a(0,"td",26),r(1),f(2,"parameterTypeForPath"),f(3,"units"),n()),e&2){let t,o=i.$implicit;l(),u(" ",y(3,3,(t=y(2,1,o))==null?null:t.unitSet)||"-"," ")}}function Sl(e,i){e&1&&(a(0,"th",25),r(1,"Data source"),n())}function gl(e,i){if(e&1&&(a(0,"td",26),r(1),f(2,"titlecase"),n()),e&2){let t=i.$implicit;l(),u(" ",y(2,1,t.dataSource)||"-"," ")}}function El(e,i){e&1&&(a(0,"th",25),r(1,"Description"),n())}function Tl(e,i){if(e&1&&(a(0,"td",30),r(1),n()),e&2){let t=i.$implicit;l(),u(" ",t.shortDescription||"-"," ")}}function Dl(e,i){if(e&1&&(a(0,"th",25),r(1),n()),e&2){let t=p().$implicit;l(),u(" ",t.label," ")}}function Pl(e,i){if(e&1&&_(0,"ya-highlight",28),e&2){let t=p(4);s("text",i)("term",t.filterForm.value.filter)}}function bl(e,i){e&1&&r(0," - ")}function Il(e,i){if(e&1&&(a(0,"td",26),c(1,Pl,1,2,"ya-highlight",28),f(2,"alias"),c(3,bl,1,0),n()),e&2){let t,o=i.$implicit,m=p().$implicit;l(),d((t=L(2,1,o,m.id))?1:3,t)}}function wl(e,i){if(e&1&&(D(0,20),c(1,Dl,2,1,"th",13)(2,Il,4,4,"td",14),P()),e&2){let t=i.$implicit;s("matColumnDef",t.id)}}function Al(e,i){e&1&&_(0,"th",31)}function Fl(e,i){e&1&&_(0,"td",26)}function Ll(e,i){e&1&&_(0,"tr",32)}function Nl(e,i){if(e&1&&_(0,"tr",33),e&2){let t=i.$implicit,o=p(2);Z("selected",o.selection.isSelected(t))}}function $l(e,i){if(e&1&&(a(0,"table",10),D(1,12),c(2,_l,2,0,"th",13)(3,ul,5,12,"td",14),P(),D(4,15),c(5,Cl,2,0,"th",13)(6,yl,4,3,"td",14),P(),D(7,16),c(8,hl,2,0,"th",13)(9,vl,4,5,"td",14),P(),D(10,17),c(11,Sl,2,0,"th",13)(12,gl,3,3,"td",14),P(),D(13,18),c(14,El,2,0,"th",13)(15,Tl,2,1,"td",19),P(),g(16,wl,3,1,"ng-container",20,S),f(18,"async"),D(19,21),c(20,Al,1,0,"th",22)(21,Fl,1,0,"td",14),P(),c(22,Ll,1,0,"tr",23),f(23,"async"),c(24,Nl,1,2,"tr",24),f(25,"async"),n()),e&2){let t=p(),o=re(10);s("dataSource",t.dataSource),l(16),E(y(18,3,t.aliasColumns$)),l(6),s("matHeaderRowDef",y(23,5,o.displayedColumns$)),l(2),s("matRowDefColumns",y(25,7,o.displayedColumns$))}}function Ml(e,i){if(e&1&&(a(0,"div",3),r(1," The Mission Database for "),a(2,"i"),r(3),n(),r(4," does not define any parameters. "),n()),e&2){let t=p();l(3),C(t.yamcs.instance)}}var Ct=class e{constructor(i,t,o,m,x){this.yamcs=i;this.route=o;this.router=m;this.messageService=x;this.filterForm=new Nt({filter:new ae,type:new ae("ANY"),source:new ae("ANY")});this.pageSize=100;this.columns=[{id:"name",label:"Name",alwaysVisible:!0},{id:"type",label:"Type",visible:!0},{id:"units",label:"Units",visible:!0},{id:"dataSource",label:"Data source",visible:!0},{id:"shortDescription",label:"Description"},{id:"actions",label:"",alwaysVisible:!0}];this.aliasColumns$=new T([]);this.typeOptions=[{id:"ANY",label:"Any type"},{id:"aggregate",label:"aggregate"},{id:"array",label:"array"},{id:"binary",label:"binary"},{id:"boolean",label:"boolean"},{id:"enumeration",label:"enumeration"},{id:"float",label:"float"},{id:"integer",label:"integer"},{id:"string",label:"string"},{id:"time",label:"time"}];this.sourceOptions=[{id:"ANY",label:"Any source"},{id:"COMMAND",label:"Command"},{id:"COMMAND_HISTORY",label:"Command History"},{id:"CONSTANT",label:"Constant"},{id:"DERIVED",label:"Derived"},{id:"EXTERNAL1",label:"External 1"},{id:"EXTERNAL2",label:"External 2"},{id:"EXTERNAL3",label:"External 3"},{id:"GROUND",label:"Ground"},{id:"LOCAL",label:"Local"},{id:"SYSTEM",label:"System"},{id:"TELEMETERED",label:"Telemetered"}];this.selection=new pe(!1);t.setTitle("Parameters"),this.dataSource=new ut(i)}ngAfterViewInit(){let i=this.route.snapshot.queryParamMap;i.has("filter")&&(this.filter=i.get("filter")||"",this.filterForm.get("filter").setValue(this.filter)),i.has("type")&&(this.type=i.get("type"),this.filterForm.get("type").setValue(this.type)),i.has("source")&&(this.source=i.get("source"),this.filterForm.get("source").setValue(this.source)),this.filterForm.get("filter").valueChanges.subscribe(t=>{this.paginator.pageIndex=0,this.filter=t,this.updateDataSource()}),this.filterForm.get("type").valueChanges.forEach(t=>{this.type=t!=="ANY"?t:null,this.updateDataSource()}),this.filterForm.get("source").valueChanges.forEach(t=>{this.source=t!=="ANY"?t:null,this.updateDataSource()}),i.has("page")&&(this.paginator.pageIndex=Number(i.get("page"))),this.updateDataSource(),this.paginator.page.subscribe(()=>{this.updateDataSource(),this.top.nativeElement.scrollIntoView()})}updateDataSource(){this.updateURL();let i={pos:this.paginator.pageIndex*this.pageSize,limit:this.pageSize,details:!0};this.filter&&(i.q=this.filter,i.searchMembers=!0),this.type&&(i.type=this.type),this.source&&(i.source=this.source),this.dataSource.loadParameters(i).then(()=>{this.selection.clear();for(let o of this.aliasColumns$.value){let m=this.columns.indexOf(o);m!==-1&&this.columns.splice(m,1)}let t=[];for(let o of this.dataSource.getAliasNamespaces()){let m={id:o,label:o,alwaysVisible:!0};t.push(m)}this.columns.splice(1,0,...t),this.aliasColumns$.next(t),this.columnChooser.recalculate(this.columns)}).catch(t=>this.messageService.showError(t))}updateURL(){this.router.navigate([],{replaceUrl:!0,relativeTo:this.route,queryParams:{page:this.paginator.pageIndex||null,filter:this.filter||null,type:this.type||null,source:this.source||null},queryParamsHandling:"merge"})}selectNext(){let i=this.dataSource.parameters$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.min(i.indexOf(o)+1,i.length-1))}this.selection.select(i[t])}selectPrevious(){let i=this.dataSource.parameters$.value,t=0;if(this.selection.hasValue()){let o=this.selection.selected[0];i.indexOf(o)!==-1&&(t=Math.max(i.indexOf(o)-1,0))}this.selection.select(i[t])}applySelection(){if(this.selection.hasValue()){let i=this.selection.selected[0];this.dataSource.parameters$.value.indexOf(i)!==-1&&this.router.navigate(["/mdb/parameters",i.qualifiedName],{queryParams:{c:this.yamcs.context}})}}static{this.\u0275fac=function(t){return new(t||e)(v(A),v(q),v(z),v(ne),v(ge))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],viewQuery:function(t,o){if(t&1&&(B(cl,7),B(j,7),B(G,5)),t&2){let m;V(m=Y())&&(o.top=m.first),V(m=Y())&&(o.paginator=m.first),V(m=Y())&&(o.columnChooser=m.first)}},decls:19,vars:11,consts:[["top",""],["columnChooser",""],["empty",""],[1,"panel-content"],[3,"formGroup"],[1,"filter-bar"],["formControlName","filter","placeholder","Filter parameters",3,"onArrowDown","onArrowUp","onEnter"],["preferenceKey","mdb-parameters",3,"columns"],["formControlName","type",3,"options"],["formControlName","source",3,"options"],["mat-table","",1,"ya-data-table","expand",3,"dataSource"],[3,"pageSize","hidePageSize","showFirstLastButtons","length"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","units"],["matColumnDef","dataSource"],["matColumnDef","shortDescription"],["mat-cell","","class","wrap400",4,"matCellDef"],[3,"matColumnDef"],["matColumnDef","actions"],["mat-header-cell","","class","expand",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"routerLink","queryParams"],[3,"text","term"],[1,"mono"],["mat-cell","",1,"wrap400"],["mat-header-cell","",1,"expand"],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(t&1){let m=te();a(0,"app-instance-page")(1,"app-instance-toolbar"),r(2,"Parameters"),n(),_(3,"span",null,0),a(5,"div",3)(6,"form",4)(7,"div",5)(8,"ya-search-filter",6),ie("onArrowDown",function(){return $(m),M(o.selectNext())})("onArrowUp",function(){return $(m),M(o.selectPrevious())})("onEnter",function(){return $(m),M(o.applySelection())}),n(),_(9,"ya-column-chooser",7,1),n(),a(11,"div",5),_(12,"ya-select",8)(13,"ya-select",9),n()(),c(14,$l,26,9,"table",10),_(15,"mat-paginator",11),f(16,"async"),n(),c(17,Ml,5,1,"ng-template",null,2,le),n()}t&2&&(l(6),s("formGroup",o.filterForm),l(3),s("columns",o.columns),l(3),s("options",o.typeOptions),l(),s("options",o.sourceOptions),l(),d(o.dataSource?14:-1),l(),s("pageSize",o.pageSize)("hidePageSize",!0)("showFirstLastButtons",!0)("length",y(16,9,o.dataSource.totalSize$)))},dependencies:[k,R,I,N,ke,$t,ce,Lt,Mt,qt,w,j,se,ue,ye,Ce,_e,he,fe,xe,ve,Se,G,Ee,Te,Qt,we,Wt,Kt,Ae],encapsulation:2,changeDetection:0})}};var pi=(e,i)=>({c:e,filter:i}),ci=e=>["/mdb/parameters",e],Me=e=>({c:e}),ql=e=>["/mdb/algorithms/",e],Rl=e=>["/mdb/containers/",e],di=e=>["/mdb/parameters/",e];function kl(e,i){if(e&1&&(a(0,"a",4),r(1),n()),e&2){let t=i,o=p(3);s("queryParams",O(2,pi,o.yamcs.context,t)),l(),u(" ",t," ")}}function Bl(e,i){if(e&1&&(a(0,"dt"),r(1),n(),a(2,"dd"),r(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function Vl(e,i){e&1&&(a(0,"span",2),r(1),n()),e&2&&(l(),u(" ",i," "))}function Yl(e,i){e&1&&r(0," - ")}function Ol(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p(2);s("text",t.longDescription)}}function zl(e,i){e&1&&r(0," - ")}function jl(e,i){if(e&1&&(a(0,"dl",0)(1,"dt"),r(2,"Entry"),n(),a(3,"dd"),r(4),f(5,"shortName"),n(),a(6,"dt"),r(7,"System"),n(),a(8,"dd"),c(9,kl,2,5,"a",4),f(10,"spaceSystemName"),n(),g(11,Bl,4,2,null,null,S),a(13,"dt"),r(14,"Type"),n(),a(15,"dd"),c(16,Vl,2,1,"span",2)(17,Yl,1,0),n(),a(18,"dt"),r(19,"Source"),n(),a(20,"dd"),r(21),f(22,"titlecase"),n(),a(23,"dt"),r(24,"Short description"),n(),a(25,"dd"),r(26),n(),a(27,"dt"),r(28,"Long description"),n(),a(29,"dd"),c(30,Ol,1,1,"app-markdown",3)(31,zl,1,0),n()()),e&2){let t,o,m=p(),x=p();l(4),ee("",y(5,7,x.parameter.qualifiedName),"",x.offset,""),l(5),d((t=y(10,9,x.parameter.qualifiedName))?9:-1,t),l(2),E(m.alias),l(5),d((o=m.type==null?null:m.type.engType)?16:17,o),l(5),C(y(22,11,x.parameter.dataSource)||"-"),l(5),u(" ",m.shortDescription||"-"," "),l(4),d(m.longDescription?30:31)}}function Hl(e,i){if(e&1&&(a(0,"dt"),r(1,"Host parameter"),n(),a(2,"dd")(3,"a",5),r(4),f(5,"shortName"),n()()),e&2){let t=p(2);l(3),s("routerLink",h(5,ci,t.parameter.qualifiedName))("queryParams",h(7,Me,t.yamcs.context)),l(),u(" ",y(5,3,t.parameter.qualifiedName)," ")}}function Ul(e,i){if(e&1&&(a(0,"dt"),r(1,"Parameter"),n(),a(2,"dd"),r(3),f(4,"shortName"),n()),e&2){let t=p(2);l(3),C(y(4,1,t.parameter.qualifiedName))}}function Ql(e,i){if(e&1&&(a(0,"a",4),r(1),n()),e&2){let t=i,o=p(3);s("queryParams",O(2,pi,o.yamcs.context,t)),l(),u(" ",t," ")}}function Gl(e,i){if(e&1&&(a(0,"dt"),r(1,"System"),n(),a(2,"dd"),c(3,Ql,2,5,"a",4),f(4,"spaceSystemName"),n()),e&2){let t,o=p(2);l(3),d((t=y(4,1,o.parameter.qualifiedName))?3:-1,t)}}function Wl(e,i){if(e&1&&(a(0,"dt"),r(1),n(),a(2,"dd"),r(3),n()),e&2){let t=i.$implicit;l(),C(t.namespace),l(2),C(t.name)}}function Kl(e,i){e&1&&(a(0,"span",2),r(1),n()),e&2&&(l(),u(" ",i," "))}function Xl(e,i){e&1&&r(0," - ")}function Jl(e,i){e&1&&(r(0),f(1,"units")),e&2&&u(" ",y(1,1,i)," ")}function Zl(e,i){e&1&&r(0," - ")}function em(e,i){if(e&1&&(a(0,"dt"),r(1,"Signed"),n(),a(2,"dd"),r(3),n()),e&2){let t,o=p(2);l(3),u(" ",(t=o.parameter.type==null?null:o.parameter.type.signed)!==null&&t!==void 0?t:"-"," ")}}function tm(e,i){if(e&1&&(a(0,"dt"),r(1,"Size in bits"),n(),a(2,"dd"),r(3),n()),e&2){let t=p(2);l(3),u(" ",t.parameter.type==null?null:t.parameter.type.sizeInBits," ")}}function im(e,i){if(e&1&&(a(0,"dt"),r(1,"Source"),n(),a(2,"dd"),r(3),f(4,"titlecase"),n()),e&2){let t=p(2);l(3),C(y(4,1,t.parameter.dataSource)||"-")}}function nm(e,i){if(e&1&&_(0,"app-markdown",3),e&2){let t=p(2);s("text",t.parameter.longDescription)}}function am(e,i){e&1&&r(0," - ")}function om(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2,"Algorithm"),n(),a(3,"td")(4,"a",8),r(5),n()()()),e&2){let t=i.$implicit,o=p(3);l(4),s("routerLink",h(3,ql,t.qualifiedName))("queryParams",h(5,Me,o.yamcs.context)),l(),u(" ",t.qualifiedName," ")}}function rm(e,i){if(e&1&&(a(0,"tr")(1,"td"),r(2,"Container"),n(),a(3,"td")(4,"a",8),r(5),n()()()),e&2){let t=i.$implicit,o=p(3);l(4),s("routerLink",h(3,Rl,t.qualifiedName))("queryParams",h(5,Me,o.yamcs.context)),l(),u(" ",t.qualifiedName," ")}}function lm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Used by"),n(),a(4,"table",7)(5,"tr")(6,"th"),r(7,"Type"),n(),a(8,"th"),r(9,"Ref"),n()(),g(10,om,6,7,"tr",null,S),g(12,rm,6,7,"tr",null,S),n(),a(14,"p"),r(15,"\xA0"),n()),e&2){let t=p();l(10),E(t.usedBy==null?null:t.usedBy.algorithm),l(2),E(t.usedBy==null?null:t.usedBy.container)}}function mm(e,i){if(e&1&&r(0),e&2){let t=p(2);u(" ",t!=null&&t.littleEndian?"Little Endian":"Big Endian"," ")}}function pm(e,i){e&1&&r(0," - ")}function cm(e,i){if(e&1&&(a(0,"dt"),r(1,"Byte order"),n(),a(2,"dd"),c(3,mm,1,1)(4,pm,1,0),n()),e&2){let t=p();l(3),d((t==null?null:t.littleEndian)!==void 0?3:-1),l(),d((t==null?null:t.littleEndian)===void 0?4:-1)}}function dm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Data encoding"),n(),a(4,"dl",1)(5,"dt"),r(6,"Size in bits"),n(),a(7,"dd"),r(8),f(9,"nvl"),n(),c(10,cm,5,2),a(11,"dt"),r(12,"Encoding"),n(),a(13,"dd"),r(14),n()()),e&2){let t=i;l(8),C(L(9,3,t==null?null:t.sizeInBits,"-")),l(2),d((t==null?null:t.littleEndian)!==void 0?10:-1),l(4),C((t==null?null:t.encoding)||"-")}}function sm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Calibration"),n(),_(4,"app-parameter-calibration",9),a(5,"p"),r(6,"\xA0"),n()),e&2){let t=p();l(4),s("ptype",t.type)}}function _m(e,i){e&1&&r(0," , ")}function um(e,i){if(e&1&&(c(0,_m,1,0),a(1,"a",13),r(2),n(),r(3),f(4,"operator")),e&2){let t=i.$implicit,o=i.$index,m=p(5);d(o!==0?0:-1),l(),s("routerLink",h(8,di,t.parameter.qualifiedName))("queryParams",h(10,Me,m.yamcs.context)),l(),u(" ",t.parameter.name," "),l(),ee(" ",y(4,6,t.operator)," ",t.value," ")}}function Cm(e,i){if(e&1&&(a(0,"th"),g(1,um,5,12,null,null,S),n()),e&2){let t=i.$implicit;l(),E(t.comparison)}}function fm(e,i){if(e&1&&(_(0,"app-alarm-level",15),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function xm(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function ym(e,i){if(e&1&&(_(0,"app-alarm-level",15),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function hm(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function vm(e,i){if(e&1&&(a(0,"td"),c(1,ym,2,3)(2,hm,2,0,"span"),n()),e&2){let t,o=i.$implicit,m=p().$implicit,x=p(4);l(),d((t=x.getEnumerationAlarmLevel(o,m.label))?1:2,t)}}function Sm(e,i){if(e&1&&(a(0,"tr")(1,"td",14),r(2),n(),a(3,"td",14),r(4),n(),a(5,"td"),r(6),n(),a(7,"td"),c(8,fm,2,3)(9,xm,2,0,"span"),n(),g(10,vm,3,1,"td",null,S),n()),e&2){let t,o=i.$implicit,m=p(3),x=p();l(2),C(o.value),l(2),C(o.label),l(2),C(o.description||"-"),l(2),d((t=x.getDefaultAlarmLevel(m.type,o.label))?8:9,t),l(2),E(m.type.contextAlarm)}}function gm(e,i){if(e&1&&(_(0,"app-alarm-level",15),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Em(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function Tm(e,i){if(e&1&&(_(0,"app-alarm-level",15),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Dm(e,i){e&1&&(a(0,"span"),r(1,"-"),n())}function Pm(e,i){if(e&1&&(a(0,"td"),c(1,Tm,2,3)(2,Dm,2,0,"span"),n()),e&2){let t,o=i.$implicit,m=p().$implicit,x=p(4);l(),d((t=x.getEnumerationAlarmLevel(o,m.label))?1:2,t)}}function bm(e,i){if(e&1&&(a(0,"tr")(1,"td",14),_(2,"ya-interval",16),n(),a(3,"td",14),r(4),n(),a(5,"td"),r(6),n(),a(7,"td"),c(8,gm,2,3)(9,Em,2,0,"span"),n(),g(10,Pm,3,1,"td",null,S),n()),e&2){let t,o=i.$implicit,m=p(3),x=p();l(2),s("left",o.min)("right",o.max)("leftInclusive",o.minInclusive)("rightInclusive",o.maxInclusive),l(2),C(o.label),l(2),C(o.description||"-"),l(2),d((t=x.getDefaultAlarmLevel(m.type,o.label))?8:9,t),l(2),E(m.type.contextAlarm)}}function Im(e,i){if(e&1&&(_(0,"app-alarm-level",15),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function wm(e,i){if(e&1&&(_(0,"app-alarm-level",15),r(1)),e&2){let t=i;s("level",t)("grayscale",!0),l(),u(" ",t," ")}}function Am(e,i){if(e&1&&(a(0,"td"),c(1,wm,2,3),n()),e&2){let t,o=i.$implicit;l(),d((t=o.alarm.defaultLevel)?1:-1,t)}}function Fm(e,i){if(e&1&&(a(0,"table",7)(1,"tr")(2,"th",10),r(3,"Value"),n(),a(4,"th",11),r(5,"Label"),n(),a(6,"th",12),r(7,"Description"),n(),a(8,"th"),r(9,"Alarm level (default)"),n(),g(10,Cm,3,0,"th",null,S),n(),g(12,Sm,12,4,"tr",null,S),g(14,bm,12,7,"tr",null,S),a(16,"tr")(17,"td"),r(18,"Other"),n(),a(19,"td"),r(20,"UNDEF"),n(),a(21,"td"),r(22,"-"),n(),a(23,"td"),c(24,Im,2,3),n(),g(25,Am,2,1,"td",null,S),n()()),e&2){let t,o=p(2);l(10),E(o.type==null?null:o.type.contextAlarm),l(2),E(o.type==null?null:o.type.enumValues),l(2),E(o.type==null?null:o.type.enumRanges),l(10),d((t=o.type.defaultAlarm==null?null:o.type.defaultAlarm.defaultLevel)?24:-1,t),l(),E(o.type.contextAlarm)}}function Lm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Enumeration"),n(),c(4,Fm,27,1,"table",7),a(5,"p"),r(6,"\xA0"),n()),e&2){let t=p();l(4),d((t.type==null?null:t.type.engType)==="enumeration"?4:-1)}}function Nm(e,i){if(e&1&&(_(0,"ya-interval",18),f(1,"nvl"),f(2,"nvl")),e&2){let t=p().$implicit;s("left",L(1,5,t.minInclusive,t.minExclusive))("right",L(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function $m(e,i){e&1&&r(0," - ")}function Mm(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",15),r(3),n(),a(4,"td"),c(5,Nm,3,11,"ya-interval",18)(6,$m,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),u(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function qm(e,i){if(e&1&&(a(0,"dl",17)(1,"dt"),r(2,"Min. violations"),n(),a(3,"dd"),r(4),n()(),a(5,"table",7)(6,"tr")(7,"th"),r(8,"Alarm level (default)"),n(),a(9,"th"),r(10,"Range"),n()(),g(11,Mm,7,4,"tr",null,S),n()),e&2){let t=i;l(4),C(t.minViolations),l(7),E(t.staticAlarmRanges)}}function Rm(e,i){e&1&&(a(0,"p"),r(1,"\xA0"),n())}function km(e,i){if(e&1&&(_(0,"ya-interval",18),f(1,"nvl"),f(2,"nvl")),e&2){let t=p().$implicit;s("left",L(1,5,t.minInclusive,t.minExclusive))("right",L(2,8,t.maxInclusive,t.maxExclusive))("leftInclusive",t.minInclusive!==void 0)("rightInclusive",t.maxInclusive!==void 0)("outside",!0)}}function Bm(e,i){e&1&&r(0," - ")}function Vm(e,i){if(e&1&&(a(0,"tr")(1,"td"),_(2,"app-alarm-level",15),r(3),n(),a(4,"td"),c(5,km,3,11,"ya-interval",18)(6,Bm,1,0),n()()),e&2){let t=i.$implicit;l(2),s("level",t.level)("grayscale",!0),l(),u(" ",t.level," "),l(2),d(t.minInclusive!==void 0||t.minExclusive!==void 0||t.maxInclusive!==void 0||t.maxExclusive!==void 0?5:6)}}function Ym(e,i){if(e&1&&(c(0,Rm,2,0,"p"),a(1,"h5"),r(2," Context: "),a(3,"code"),r(4),n()(),a(5,"dl",17)(6,"dt"),r(7,"Min. violations"),n(),a(8,"dd"),r(9),n()(),a(10,"table",7)(11,"tr")(12,"th"),r(13,"Level"),n(),a(14,"th"),r(15,"Range"),n()(),g(16,Vm,7,4,"tr",null,S),n()),e&2){let t=i.$implicit,o=i.$index;d(o!==0?0:-1),l(4),C(t.context),l(5),C(t.alarm.minViolations),l(7),E(t.alarm.staticAlarmRanges)}}function Om(e,i){if(e&1&&(c(0,qm,13,1),g(1,Ym,18,3,null,null,S)),e&2){let t,o=p(2);d((t=o.type==null?null:o.type.defaultAlarm)?0:-1,t),l(),E(o.type==null?null:o.type.contextAlarm)}}function zm(e,i){e&1&&r(0," None ")}function jm(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Alarm Info"),n(),c(4,Om,3,1)(5,zm,1,0),a(6,"p"),r(7,"\xA0"),n()),e&2){let t=p();l(4),d(t.type!=null&&t.type.defaultAlarm||t.type!=null&&t.type.contextAlarm?4:5)}}function Hm(e,i){if(e&1&&(a(0,"dt"),r(1,"Epoch"),n(),a(2,"dd"),r(3),n()),e&2){let t=p(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.epoch)}}function Um(e,i){if(e&1&&(a(0,"dt"),r(1,"Offset from"),n(),a(2,"dd")(3,"a",5),r(4),n()()),e&2){let t=p(2),o=p();l(3),s("routerLink",h(3,di,t.type==null?null:t.type.absoluteTimeInfo.offsetFrom.qualifiedName))("queryParams",h(5,Me,o.yamcs.context)),l(),u(" ",t.type==null?null:t.type.absoluteTimeInfo.offsetFrom.qualifiedName," ")}}function Qm(e,i){if(e&1&&(a(0,"dt"),r(1,"Offset"),n(),a(2,"dd"),r(3),n()),e&2){let t=p(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.offset)}}function Gm(e,i){if(e&1&&(a(0,"dt"),r(1,"Scale"),n(),a(2,"dd"),r(3),n()),e&2){let t=p(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.scale)}}function Wm(e,i){if(e&1&&(a(0,"dt"),r(1,"Initial value"),n(),a(2,"dd"),r(3),n()),e&2){let t=p(2);l(3),C(t.type==null?null:t.type.absoluteTimeInfo.initialValue)}}function Km(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Time Info"),n(),a(4,"dl",17),c(5,Hm,4,1)(6,Um,5,7)(7,Qm,4,1)(8,Gm,4,1)(9,Wm,4,1),n()),e&2){let t=p();l(5),d(t.type!=null&&t.type.absoluteTimeInfo.epoch?5:-1),l(),d(t.type!=null&&t.type.absoluteTimeInfo.offsetFrom?6:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo.offset)!==void 0?7:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo.scale)!==void 0?8:-1),l(),d((t.type==null?null:t.type.absoluteTimeInfo.initialValue)!==void 0?9:-1)}}function Xm(e,i){e&1&&(a(0,"span",2),r(1),n()),e&2&&(l(),u(" ",i," "))}function Jm(e,i){e&1&&r(0," - ")}function Zm(e,i){if(e&1&&(a(0,"td")(1,"a",8),r(2),n()(),a(3,"td"),c(4,Xm,2,1,"span",2),f(5,"entryForOffset"),c(6,Jm,1,0),n(),a(7,"td"),r(8),f(9,"entryForOffset"),n()),e&2){let t,o,m=i,x=p().$implicit,F=p(3);l(),s("routerLink",h(11,ci,F.parameter.qualifiedName+m))("queryParams",h(13,Me,F.yamcs.context)),l(),u(" ",x.name," "),l(2),d((t=(t=L(5,5,F.parameter,m))==null||t.type==null?null:t.type.engType)?4:6,t),l(4),C(((o=L(9,8,F.parameter,m))==null?null:o.shortDescription)||"-")}}function e0(e,i){if(e&1&&(a(0,"tr"),c(1,Zm,10,15),n()),e&2){let t,o=i.$implicit,m=p(3);l(),d((t=(m.offset||"")+"."+o.name)?1:-1,t)}}function t0(e,i){if(e&1&&(a(0,"div",6),_(1,"mat-divider"),n(),a(2,"h4"),r(3,"Members"),n(),a(4,"table",7)(5,"tr")(6,"th"),r(7,"Member"),n(),a(8,"th"),r(9,"Type"),n(),a(10,"th"),r(11,"Description"),n()(),g(12,e0,2,1,"tr",null,S),n()),e&2){let t=p();l(12),E(t.type==null?null:t.type.member)}}function i0(e,i){if(e&1&&(c(0,jl,32,13,"dl",0),a(1,"dl",1),c(2,Hl,6,9)(3,Ul,5,3)(4,Gl,5,3),g(5,Wl,4,2,null,null,S),a(7,"dt"),r(8,"Type"),n(),a(9,"dd"),c(10,Kl,2,1,"span",2)(11,Xl,1,0),n(),a(12,"dt"),r(13,"Units"),n(),a(14,"dd"),c(15,Jl,2,3)(16,Zl,1,0),n(),c(17,em,4,1)(18,tm,4,1)(19,im,5,3),a(20,"dt"),r(21,"Short description"),n(),a(22,"dd"),r(23),n(),a(24,"dt"),r(25,"Long description"),n(),a(26,"dd"),c(27,nm,1,1,"app-markdown",3)(28,am,1,0),n()(),c(29,lm,16,0)(30,dm,15,6)(31,sm,7,1)(32,Lm,7,1)(33,jm,8,1)(34,Km,10,5)(35,t0,14,0)),e&2){let t,o,m,x=i,F=p();d(F.offset?0:-1),l(),Z("no-lead",!F.offset),l(),d(F.offset?2:-1),l(),d(F.offset?-1:3),l(),d(F.offset?-1:4),l(),E(F.parameter.alias),l(5),d((t=F.parameter.type==null?null:F.parameter.type.engType)?10:11,t),l(5),d((o=F.parameter.type==null?null:F.parameter.type.unitSet)?15:16,o),l(2),d((F.parameter.type==null?null:F.parameter.type.signed)!==void 0?17:-1),l(),d((F.parameter.type==null?null:F.parameter.type.sizeInBits)!==void 0?18:-1),l(),d(F.offset?-1:19),l(4),u(" ",F.parameter.shortDescription||"-"," "),l(4),d(F.parameter.longDescription?27:28),l(2),d(x.usedBy!=null&&x.usedBy.algorithm||x.usedBy!=null&&x.usedBy.container?29:-1),l(),d((m=x.type==null?null:x.type.dataEncoding)?30:-1,m),l(),d((x.type==null?null:x.type.engType)==="integer"||(x.type==null?null:x.type.engType)==="float"?31:-1),l(),d((x.type==null?null:x.type.engType)==="enumeration"?32:-1),l(),d((x.type==null?null:x.type.engType)==="integer"||(x.type==null?null:x.type.engType)==="float"?33:-1),l(),d((x.type==null?null:x.type.engType)==="time"?34:-1),l(),d((x.type==null?null:x.type.engType)==="aggregate"?35:-1)}}var ft=class e{constructor(i){this.yamcs=i;this.entry$=new T(null)}ngOnChanges(){if(this.parameter)if(this.offset){let i=Ut.getEntryForOffset(this.parameter,this.offset);this.entry$.next(i)}else this.entry$.next(this.parameter);else this.entry$.next(null)}getDefaultAlarmLevel(i,t){if(i&&i.defaultAlarm){let o=i.defaultAlarm;if(o.enumerationAlarms){for(let m of o.enumerationAlarms)if(m.label===t)return m.level}return o.defaultLevel}}getEnumerationAlarmLevel(i,t){let o=i.alarm;for(let m of o.enumerationAlarms)if(m.label===t)return m.level;return o.defaultLevel}static{this.\u0275fac=function(t){return new(t||e)(v(A))}}static{this.\u0275cmp=b({type:e,selectors:[["app-parameter-detail"]],inputs:{parameter:"parameter",offset:"offset"},features:[At],decls:2,vars:3,consts:[[1,"dl-horizontal","no-lead","no-trail"],[1,"dl-horizontal","no-trail"],[1,"mono"],[3,"text"],["routerLink","/mdb/parameters",1,"ya-link",3,"queryParams"],[1,"ya-link",3,"routerLink","queryParams"],[1,"section-divider"],["yaDataTable",""],[3,"routerLink","queryParams"],[3,"ptype"],[2,"width","50px"],[2,"width","100px"],[2,"width","300px"],[1,"secundary",3,"routerLink","queryParams"],[2,"white-space","nowrap"],[3,"level","grayscale"],[3,"left","right","leftInclusive","rightInclusive"],[1,"dl-horizontal"],[3,"left","right","leftInclusive","rightInclusive","outside"]],template:function(t,o){if(t&1&&(c(0,i0,36,20),f(1,"async")),t&2){let m;d((m=y(1,1,o.entry$))?0:-1,m)}},dependencies:[Oe,Pe,$e,I,N,ke,w,J,de,Fe,Gt,Le,Ne,H,U,Ae],styles:["[_nghost-%COMP%]{font:400 12px/20px Roboto,sans-serif}.dl-horizontal[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{text-align:left}"],changeDetection:0})}};var n0=(e,i)=>({c:e,filter:i});function a0(e,i){if(e&1&&(a(0,"a",2),r(1),n(),r(2),f(3,"shortName"),f(4,"async"),_(5,"ya-title-copy",3),f(6,"async")),e&2){let t=i,o=p(),m=p();s("queryParams",O(11,n0,m.yamcs.context,t)),l(),u(" ",t," "),l(),ee("/",y(3,5,o.qualifiedName),"",y(4,7,m.offset$)," "),l(3),s("text",o.qualifiedName+(y(6,9,m.offset$)||""))}}function o0(e,i){if(e&1&&(a(0,"app-instance-page")(1,"app-instance-toolbar"),c(2,a0,7,14),f(3,"spaceSystemName"),n(),a(4,"div",0),_(5,"app-parameter-detail",1),f(6,"async"),n()()),e&2){let t,o=i,m=p();l(2),d((t=y(3,3,o.qualifiedName))?2:-1,t),l(3),s("parameter",o)("offset",y(6,5,m.offset$))}}var xt=class e{constructor(i,t,o){this.yamcs=t;this.title=o;this.parameter$=new T(null);this.offset$=new T(null);i.paramMap.subscribe(m=>{let x=m.get("qualifiedName");this.changeParameter(x)})}changeParameter(i){this.yamcs.yamcsClient.getParameter(this.yamcs.instance,i).then(t=>{this.parameter$.next(t);let o;i!==t.qualifiedName?o=i.substring(t.qualifiedName.length):o=null,this.offset$.next(o),this.title.setTitle(t.name+(o||""))})}static{this.\u0275fac=function(t){return new(t||e)(v(z),v(A),v(q))}}static{this.\u0275cmp=b({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[1,"panel-content"],[3,"parameter","offset"],["routerLink","/mdb/parameters",1,"ya-link","ya-header-link",3,"queryParams"],[3,"text"]],template:function(t,o){if(t&1&&(c(0,o0,7,7,"app-instance-page"),f(1,"async")),t&2){let m;d((m=y(1,1,o.parameter$))?0:-1,m)}},dependencies:[k,R,ft,I,N,w,De,H,U],styles:[".tab-content-wrapper[_ngcontent-%COMP%]{position:absolute;inset:49px 0 0;overflow:auto}.tab-content-wrapper.noscroll[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0})}};var Wd=[{path:"",canActivate:[gt,St,Dt],canActivateChild:[Et,Dt],component:ei,children:[{path:"",pathMatch:"full",component:mt},{path:"algorithms",pathMatch:"full",component:je},{path:"algorithms/:qualifiedName",component:Je},{path:"commands",pathMatch:"full",component:et},{path:"commands/:qualifiedName",component:nt},{path:"containers",pathMatch:"full",component:ot},{path:"containers/:qualifiedName",component:lt},{path:"parameters",pathMatch:"full",component:Ct},{path:"parameters/:qualifiedName",component:xt},{path:"parameter-types",pathMatch:"full",component:ct},{path:"parameter-types/:qualifiedName",component:_t},{path:"ext",canActivate:[gt,St],canActivateChild:[Et],runGuardsAndResolvers:"always",children:[{matcher:Zt,component:Jt}]}]}];export{Wd as ROUTES};
